!function(e){function n(n){for(var o,r,i=n[0],a=n[1],s=n[2],l=0,c=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(I,r)&&I[r]&&c.push(I[r][0]),I[r]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);for(F&&F(n);c.length;)c.shift()();return x.push.apply(x,s||[]),t()}function t(){for(var e,n=0;n<x.length;n++){for(var t=x[n],o=!0,r=1;r<t.length;r++){var i=t[r];0!==I[i]&&(o=!1)}o&&(x.splice(n--,1),e=N(N.s=t[0]))}return e}var o=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,n){if(!S[e]||!b[e])return;for(var t in b[e]=!1,n)Object.prototype.hasOwnProperty.call(n,t)&&(g[t]=n[t]);0==--_&&0===v&&E()}(e,n),o&&o(e,n)};var r,i=!0,a="ee3569e4513ea6248da8",s=1e4,l={},c=[],u=[];function f(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)n._acceptedDependencies[e[o]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:R,apply:B,status:function(e){if(!e)return p;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var n=d.indexOf(e);n>=0&&d.splice(n,1)},data:l[e]};return r=void 0,n}var d=[],p="idle";function h(e){p=e;for(var n=0;n<d.length;n++)d[n].call(null,e)}var A,g,m,_=0,v=0,C={},b={},S={};function y(e){return+e+""===e?+e:e}function R(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return i=e,h("check"),(n=s,n=n||1e4,new Promise((function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var o=new XMLHttpRequest,r=N.p+""+a+".hot-update.json";o.open("GET",r,!0),o.timeout=n,o.send(null)}catch(e){return t(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)t(new Error("Manifest request to "+r+" timed out."));else if(404===o.status)e();else if(200!==o.status&&304!==o.status)t(new Error("Manifest request to "+r+" failed."));else{try{var n=JSON.parse(o.responseText)}catch(e){return void t(e)}e(n)}}}))).then((function(e){if(!e)return h("idle"),null;b={},C={},S=e.c,m=e.h,h("prepare");var n=new Promise((function(e,n){A={resolve:e,reject:n}}));for(var t in g={},I)w(t);return"prepare"===p&&0===v&&0===_&&E(),n}));var n}function w(e){S[e]?(b[e]=!0,_++,function(e){var n=document.createElement("script");n.charset="utf-8",n.src=N.p+""+e+"."+a+".hot-update.js",document.head.appendChild(n)}(e)):C[e]=!0}function E(){h("ready");var e=A;if(A=null,e)if(i)Promise.resolve().then((function(){return B(i)})).then((function(n){e.resolve(n)}),(function(n){e.reject(n)}));else{var n=[];for(var t in g)Object.prototype.hasOwnProperty.call(g,t)&&n.push(y(t));e.resolve(n)}}function B(n){if("ready"!==p)throw new Error("apply() is only allowed in ready status");var t,o,r,i,s;function u(e){for(var n=[e],t={},o=n.map((function(e){return{chain:[e],id:e}}));o.length>0;){var r=o.pop(),a=r.id,s=r.chain;if((i=L[a])&&!i.hot._selfAccepted){if(i.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:a};if(i.hot._main)return{type:"unaccepted",chain:s,moduleId:a};for(var l=0;l<i.parents.length;l++){var c=i.parents[l],u=L[c];if(u){if(u.hot._declinedDependencies[a])return{type:"declined",chain:s.concat([c]),moduleId:a,parentId:c};-1===n.indexOf(c)&&(u.hot._acceptedDependencies[a]?(t[c]||(t[c]=[]),f(t[c],[a])):(delete t[c],n.push(c),o.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function f(e,n){for(var t=0;t<n.length;t++){var o=n[t];-1===e.indexOf(o)&&e.push(o)}}n=n||{};var d={},A=[],_={},v=function(){console.warn("[HMR] unexpected require("+b.moduleId+") to disposed module")};for(var C in g)if(Object.prototype.hasOwnProperty.call(g,C)){var b;s=y(C);var R=!1,w=!1,E=!1,B="";switch((b=g[C]?u(s):{type:"disposed",moduleId:C}).chain&&(B="\nUpdate propagation: "+b.chain.join(" -> ")),b.type){case"self-declined":n.onDeclined&&n.onDeclined(b),n.ignoreDeclined||(R=new Error("Aborted because of self decline: "+b.moduleId+B));break;case"declined":n.onDeclined&&n.onDeclined(b),n.ignoreDeclined||(R=new Error("Aborted because of declined dependency: "+b.moduleId+" in "+b.parentId+B));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(b),n.ignoreUnaccepted||(R=new Error("Aborted because "+s+" is not accepted"+B));break;case"accepted":n.onAccepted&&n.onAccepted(b),w=!0;break;case"disposed":n.onDisposed&&n.onDisposed(b),E=!0;break;default:throw new Error("Unexception type "+b.type)}if(R)return h("abort"),Promise.reject(R);if(w)for(s in _[s]=g[s],f(A,b.outdatedModules),b.outdatedDependencies)Object.prototype.hasOwnProperty.call(b.outdatedDependencies,s)&&(d[s]||(d[s]=[]),f(d[s],b.outdatedDependencies[s]));E&&(f(A,[b.moduleId]),_[s]=v)}var x,T=[];for(o=0;o<A.length;o++)s=A[o],L[s]&&L[s].hot._selfAccepted&&_[s]!==v&&T.push({module:s,errorHandler:L[s].hot._selfAccepted});h("dispose"),Object.keys(S).forEach((function(e){!1===S[e]&&function(e){delete I[e]}(e)}));for(var O,M,F=A.slice();F.length>0;)if(s=F.pop(),i=L[s]){var H={},D=i.hot._disposeHandlers;for(r=0;r<D.length;r++)(t=D[r])(H);for(l[s]=H,i.hot.active=!1,delete L[s],delete d[s],r=0;r<i.children.length;r++){var V=L[i.children[r]];V&&((x=V.parents.indexOf(s))>=0&&V.parents.splice(x,1))}}for(s in d)if(Object.prototype.hasOwnProperty.call(d,s)&&(i=L[s]))for(M=d[s],r=0;r<M.length;r++)O=M[r],(x=i.children.indexOf(O))>=0&&i.children.splice(x,1);for(s in h("apply"),a=m,_)Object.prototype.hasOwnProperty.call(_,s)&&(e[s]=_[s]);var U=null;for(s in d)if(Object.prototype.hasOwnProperty.call(d,s)&&(i=L[s])){M=d[s];var k=[];for(o=0;o<M.length;o++)if(O=M[o],t=i.hot._acceptedDependencies[O]){if(-1!==k.indexOf(t))continue;k.push(t)}for(o=0;o<k.length;o++){t=k[o];try{t(M)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:s,dependencyId:M[o],error:e}),n.ignoreErrored||U||(U=e)}}}for(o=0;o<T.length;o++){var P=T[o];s=P.module,c=[s];try{N(s)}catch(e){if("function"==typeof P.errorHandler)try{P.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:t,originalError:e}),n.ignoreErrored||U||(U=t),U||(U=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:s,error:e}),n.ignoreErrored||U||(U=e)}}return U?(h("fail"),Promise.reject(U)):(h("idle"),new Promise((function(e){e(A)})))}var L={},I={0:0},x=[];function N(n){if(L[n])return L[n].exports;var t=L[n]={i:n,l:!1,exports:{},hot:f(n),parents:(u=c,c=[],u),children:[]};return e[n].call(t.exports,t,t.exports,function(e){var n=L[e];if(!n)return N;var t=function(t){return n.hot.active?(L[t]?-1===L[t].parents.indexOf(e)&&L[t].parents.push(e):(c=[e],r=t),-1===n.children.indexOf(t)&&n.children.push(t)):(console.warn("[HMR] unexpected require("+t+") from disposed module "+e),c=[]),N(t)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return N[e]},set:function(n){N[e]=n}}};for(var i in N)Object.prototype.hasOwnProperty.call(N,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(t,i,o(i));return t.e=function(e){return"ready"===p&&h("prepare"),v++,N.e(e).then(n,(function(e){throw n(),e}));function n(){v--,"prepare"===p&&(C[e]||w(e),0===v&&0===_&&E())}},t.t=function(e,n){return 1&n&&(e=t(e)),N.t(e,-2&n)},t}(n)),t.l=!0,t.exports}N.m=e,N.c=L,N.d=function(e,n,t){N.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},N.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},N.t=function(e,n){if(1&n&&(e=N(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(N.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)N.d(t,o,function(n){return e[n]}.bind(null,o));return t},N.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return N.d(n,"a",n),n},N.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},N.p="",N.h=function(){return a};var T=window.webpackJsonp=window.webpackJsonp||[],O=T.push.bind(T);T.push=n,T=T.slice();for(var M=0;M<T.length;M++)n(T[M]);var F=O;x.push([62,1]),t()}({10:function(e,n,t){(n=t(28)(!0)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Roboto&display=swap);"]),n.push([e.i,"html,body{margin:0;padding:0;overflow:hidden;background-color:black;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}h1,h2,h3,p{color:white;font-family:Roboto}#screen__loading{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);text-align:center}#screen__loading h1{color:#FF5555;font-size:2.5em}#screen__menu{position:relative;height:100%}#screen__menu .selection{position:absolute;margin-left:40px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}#screen__menu .selection h1{margin-top:0;font-size:4em;text-shadow:black 2px 2px;color:#FF5555}#screen__menu .selection h2{margin:5px 0;font-size:2em;text-shadow:black 1px 1px;-webkit-transition:all 0.2s ease;transition:all 0.2s ease}#screen__menu .selection h2:hover{color:#FF5555;cursor:pointer;-webkit-transform:translateX(10px);transform:translateX(10px)}#screen__menu .party{position:absolute;margin-right:15px;width:200px;right:0;top:0}#screen__menu .party h3{margin:5px 0}#screen__menu .party p{margin:0;margin-left:5px}#screen__menu .party #queueType{color:lightblue}#screen__menu .party #queueSlots{float:right}#screen__menu .credits{position:absolute;margin-right:15px;width:400px;right:0;bottom:0;text-align:right}#screen__menu .credits h1{margin-top:0;font-size:1.2em;text-shadow:black 2px 2px;margin-bottom:3px}#screen__menu .credits a{color:#FF5555;text-decoration:none}#screen__game #force{position:absolute;margin-right:15px;margin-bottom:15px;right:0;bottom:0;background:rgba(0,0,0,0.6);width:60px;height:210px}#screen__game #force__value{width:50px;height:200px;margin-top:5px;margin-left:5px;background:rgba(255,85,85,0.8);-webkit-transform:scaleY(0);transform:scaleY(0);-webkit-transform-origin:bottom;transform-origin:bottom}.screen{position:relative}.screen #game{width:100vw;height:100vh;display:block}.screen #overlay{position:absolute;top:0;left:0;right:0;bottom:0;color:white;padding:1em}.screen #overlay .corner{position:absolute;margin-right:15px;width:200px;right:0;top:0;text-align:right}.screen #overlay .corner h3{margin:5px 0;text-shadow:black 1px 1px;color:#FF5555}.screen #overlay .corner p{margin:0;margin-left:5px;text-shadow:black 1px 1px}#dialog{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);text-align:center;background:rgba(0,0,0,0.7);padding:5px 15px}#dialog h2{font-size:1.6em}#dialog h2 span{-webkit-transition:color 0.2s ease;transition:color 0.2s ease}#dialog h2 span:hover{color:#FF5555;cursor:pointer}#dialog__yes{padding-right:10px}#dialog__no{padding-left:10px}#flow__personal-best{color:gold}\n","",{version:3,sources:["D:/Git/Hobbies/minigolf/src/styles/styles.scss"],names:[],mappings:"AAA2E,UAAU,QAAQ,CAAC,SAAS,CAAC,eAAe,CAAC,sBAAsB,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,WAAW,WAAW,CAAC,kBAAkB,CAAC,iBAAiB,iBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,uCAAuC,CAAC,+BAA+B,CAAC,iBAAiB,CAAC,oBAAoB,aAAa,CAAC,eAAe,CAAC,cAAc,iBAAiB,CAAC,WAAW,CAAC,yBAAyB,iBAAiB,CAAC,gBAAgB,CAAC,OAAO,CAAC,kCAAkC,CAAC,0BAA0B,CAAC,4BAA4B,YAAY,CAAC,aAAa,CAAC,yBAAyB,CAAC,aAAa,CAAC,4BAA4B,YAAY,CAAC,aAAa,CAAC,yBAAyB,CAAC,gCAAgC,CAAC,wBAAwB,CAAC,kCAAkC,aAAa,CAAC,cAAc,CAAC,kCAAkC,CAAC,0BAA0B,CAAC,qBAAqB,iBAAiB,CAAC,iBAAiB,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,wBAAwB,YAAY,CAAC,uBAAuB,QAAQ,CAAC,eAAe,CAAC,gCAAgC,eAAe,CAAC,iCAAiC,WAAW,CAAC,uBAAuB,iBAAiB,CAAC,iBAAiB,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,0BAA0B,YAAY,CAAC,eAAe,CAAC,yBAAyB,CAAC,iBAAiB,CAAC,yBAAyB,aAAa,CAAC,oBAAoB,CAAC,qBAAqB,iBAAiB,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,OAAO,CAAC,QAAQ,CAAC,0BAA0B,CAAC,UAAU,CAAC,YAAY,CAAC,4BAA4B,UAAU,CAAC,YAAY,CAAC,cAAc,CAAC,eAAe,CAAC,8BAA8B,CAAC,2BAA2B,CAAC,mBAAmB,CAAC,+BAA+B,CAAC,uBAAuB,CAAC,QAAQ,iBAAiB,CAAC,cAAc,WAAW,CAAC,YAAY,CAAC,aAAa,CAAC,iBAAiB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,yBAAyB,iBAAiB,CAAC,iBAAiB,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,4BAA4B,YAAY,CAAC,yBAAyB,CAAC,aAAa,CAAC,2BAA2B,QAAQ,CAAC,eAAe,CAAC,yBAAyB,CAAC,QAAQ,iBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,uCAAuC,CAAC,+BAA+B,CAAC,iBAAiB,CAAC,0BAA0B,CAAC,gBAAgB,CAAC,WAAW,eAAe,CAAC,gBAAgB,kCAAkC,CAAC,0BAA0B,CAAC,sBAAsB,aAAa,CAAC,cAAc,CAAC,aAAa,kBAAkB,CAAC,YAAY,iBAAiB,CAAC,qBAAqB,UAAU",file:"styles.scss",sourcesContent:['@import url("https://fonts.googleapis.com/css?family=Roboto&display=swap");html,body{margin:0;padding:0;overflow:hidden;background-color:black;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}h1,h2,h3,p{color:white;font-family:Roboto}#screen__loading{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);text-align:center}#screen__loading h1{color:#FF5555;font-size:2.5em}#screen__menu{position:relative;height:100%}#screen__menu .selection{position:absolute;margin-left:40px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}#screen__menu .selection h1{margin-top:0;font-size:4em;text-shadow:black 2px 2px;color:#FF5555}#screen__menu .selection h2{margin:5px 0;font-size:2em;text-shadow:black 1px 1px;-webkit-transition:all 0.2s ease;transition:all 0.2s ease}#screen__menu .selection h2:hover{color:#FF5555;cursor:pointer;-webkit-transform:translateX(10px);transform:translateX(10px)}#screen__menu .party{position:absolute;margin-right:15px;width:200px;right:0;top:0}#screen__menu .party h3{margin:5px 0}#screen__menu .party p{margin:0;margin-left:5px}#screen__menu .party #queueType{color:lightblue}#screen__menu .party #queueSlots{float:right}#screen__menu .credits{position:absolute;margin-right:15px;width:400px;right:0;bottom:0;text-align:right}#screen__menu .credits h1{margin-top:0;font-size:1.2em;text-shadow:black 2px 2px;margin-bottom:3px}#screen__menu .credits a{color:#FF5555;text-decoration:none}#screen__game #force{position:absolute;margin-right:15px;margin-bottom:15px;right:0;bottom:0;background:rgba(0,0,0,0.6);width:60px;height:210px}#screen__game #force__value{width:50px;height:200px;margin-top:5px;margin-left:5px;background:rgba(255,85,85,0.8);-webkit-transform:scaleY(0);transform:scaleY(0);-webkit-transform-origin:bottom;transform-origin:bottom}.screen{position:relative}.screen #game{width:100vw;height:100vh;display:block}.screen #overlay{position:absolute;top:0;left:0;right:0;bottom:0;color:white;padding:1em}.screen #overlay .corner{position:absolute;margin-right:15px;width:200px;right:0;top:0;text-align:right}.screen #overlay .corner h3{margin:5px 0;text-shadow:black 1px 1px;color:#FF5555}.screen #overlay .corner p{margin:0;margin-left:5px;text-shadow:black 1px 1px}#dialog{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);text-align:center;background:rgba(0,0,0,0.7);padding:5px 15px}#dialog h2{font-size:1.6em}#dialog h2 span{-webkit-transition:color 0.2s ease;transition:color 0.2s ease}#dialog h2 span:hover{color:#FF5555;cursor:pointer}#dialog__yes{padding-right:10px}#dialog__no{padding-left:10px}#flow__personal-best{color:gold}\n']}]),e.exports=n},12:function(e,n){},13:function(e,n){},26:function(e,n,t){var o=t(27),r=t(10);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},a=o(e.i,r,i),s=r.locals?r.locals:{};r.locals||e.hot.accept(10,(function(){var n=t(10);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),a(n)})),e.hot.dispose((function(){a()})),e.exports=s},62:function(e,n,t){"use strict";t.r(n);t(26);var o,r,i=function(){function e(){}return e.initialize=function(e){var n=document.getElementById(e);if(void 0===n)throw new Error("Passed element is not a valid canvas");if(void 0===(o=n.getContext("webgl2")))throw new Error("Failed to initialize WebGL");return n},e}(),a=t(6),s=function(){function e(e,n){this._attributes={},this._uniforms={},this._headers="#version 300 es\n\n",this._vertexSource=e,this._fragmentSource=n}return e.prototype.define=function(e){this._headers+="#define "+e+"\n"},e.prototype.build=function(){var e=this.loadShader(this._headers+this._vertexSource,o.VERTEX_SHADER),n=this.loadShader(this._headers+this._fragmentSource,o.FRAGMENT_SHADER);if(this._program=o.createProgram(),o.attachShader(this._program,e),o.attachShader(this._program,n),o.linkProgram(this._program),!o.getProgramParameter(this._program,o.LINK_STATUS))throw new Error("Program link failed\n"+o.getProgramInfoLog(this._program));for(var t=0;t<o.getProgramParameter(this._program,o.ACTIVE_ATTRIBUTES);++t){var r=o.getActiveAttrib(this._program,t);this._attributes[r.name]=o.getAttribLocation(this._program,r.name)}for(t=0;t<o.getProgramParameter(this._program,o.ACTIVE_UNIFORMS);++t){r=o.getActiveUniform(this._program,t);this._uniforms[r.name]=o.getUniformLocation(this._program,r.name)}},e.prototype.use=function(){o.useProgram(this._program)},e.prototype.getAttributeLocation=function(e){if(void 0===this._attributes[e])throw new Error("Attribute location '"+e+"' not found");return this._attributes[e]},e.prototype.getUniformLocation=function(e){if(void 0===this._uniforms[e])throw new Error("Uniform location '"+e+"' not found");return this._uniforms[e]},e.prototype.loadShader=function(e,n){var t=o.createShader(n);if(o.shaderSource(t,e),o.compileShader(t),!o.getShaderParameter(t,o.COMPILE_STATUS))throw new Error("Shader compilation failed ("+(n===o.VERTEX_SHADER?"VERTEX_SHADER":"FRAGMENT_SHADER")+")\n"+o.getShaderInfoLog(t));return t},e}(),l="\nlayout (location = 0) in vec3 aPosition;\n#ifdef HAS_NORMALS\nlayout (location = 1) in vec3 aNormals;\nout vec3 vNormals;\n#endif\n#ifdef HAS_TEXCOORDS\nlayout (location = 2) in vec2 aTexCoords;\n#endif\n#ifdef HAS_COLORS\nlayout (location = 3) in vec4 aColor;\nout vec4 vColor;\n#endif\n\nuniform mat4 uView;\nuniform mat4 uProjection;\nuniform mat4 uModel;\n\nout vec3 vPosition;\nout vec2 vTexCoords;\n\nvoid main() {\n    vec4 pos = uModel * vec4(aPosition, 1.0);\n    vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef IS_WATER\n    vNormals = aNormals;\n#else\n    mat4 uNormals = transpose(inverse(uModel));\n    vNormals = normalize(vec3(uNormals * vec4(normalize(aNormals).xyz, 1.0)));\n#endif\n#endif\n\n    vTexCoords = vec2(0.0, 0.0);\n#ifdef HAS_TEXCOORDS\n    vTexCoords = aTexCoords;\n#endif\n\n#ifdef HAS_COLORS\n    vColor = aColor;\n#endif\n\n    gl_Position = uProjection * uView * vec4(aPosition, 1.0);\n}\n",c="\nprecision highp float;\n\nin vec3 vPosition;\nin vec2 vTexCoords;\n\n#ifdef HAS_NORMALS\nin vec3 vNormals;\n#endif\n\n#ifdef HAS_COLORS\nin vec4 vColor;\n#endif\n\nuniform vec3 uCamera;\n\nuniform float uMetallicFactor;\nuniform float uRoughnessFactor;\nuniform vec4 uBaseColorFactor;\n\nfloat uExposure = 1.0;\n\n\nconst float M_PI = 3.141592653589793;\n\nconst float c_MinReflectance = 0.04;\n\nstruct AngularInfo\n{\n    float NdotL;                  // cos angle between normal and light direction\n    float NdotV;                  // cos angle between normal and view direction\n    float NdotH;                  // cos angle between normal and half vector\n    float LdotH;                  // cos angle between light direction and half vector\n\n    float VdotH;                  // cos angle between view direction and half vector\n\n    vec3 padding;\n};\n\nvec4 getVertexColor()\n{\n    vec4 color = vec4(1.0, 1.0, 1.0, 1.0);\n\n#ifdef HAS_COLORS\n    color = vColor;\n#endif\n\n    return color;\n}\n\nvec2 getNormalUV()\n{\n    vec3 uv = vec3(vTexCoords, 1.0);\n\n    #ifdef HAS_NORMAL_UV_TRANSFORM\n    uv *= u_NormalUVTransform;\n    #endif\n\n    return uv.xy;\n}\n\nvec3 getNormal()\n{\n    vec2 UV = getNormalUV();\n\n    // Retrieve the tangent space matrix\n#ifndef HAS_TANGENTS\n    vec3 pos_dx = dFdx(vPosition);\n    vec3 pos_dy = dFdy(vPosition);\n    vec3 tex_dx = dFdx(vec3(UV, 0.0));\n    vec3 tex_dy = dFdy(vec3(UV, 0.0));\n    vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n    vec3 ng = normalize(vNormals);\n#else\n    vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n    t = normalize(t - ng * dot(ng, t));\n    vec3 b = normalize(cross(ng, t));\n    mat3 tbn = mat3(t, b, ng);\n#else // HAS_TANGENTS\n    mat3 tbn = v_TBN;\n#endif\n\n#ifdef HAS_NORMAL_MAP\n    vec3 n = texture2D(u_NormalSampler, UV).rgb;\n    n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n    // The tbn matrix is linearly interpolated, so we need to re-normalize\n    vec3 n = normalize(tbn[2].xyz);\n#endif\n\n    return n;\n}\n\nvec3 getSurface()\n{\n    vec2 UV = getNormalUV();\n\n    // Retrieve the tangent space matrix\n#ifndef HAS_TANGENTS\n    vec3 pos_dx = dFdx(vPosition);\n    vec3 pos_dy = dFdy(vPosition);\n    vec3 tex_dx = dFdx(vec3(UV, 0.0));\n    vec3 tex_dy = dFdy(vec3(UV, 0.0));\n    vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n    vec3 ng = normalize(vNormals);\n#else\n    vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n    t = normalize(t - ng * dot(ng, t));\n    vec3 b = normalize(cross(ng, t));\n    mat3 tbn = mat3(t, b, ng);\n#else // HAS_TANGENTS\n    mat3 tbn = v_TBN;\n#endif\n\n    // The tbn matrix is linearly interpolated, so we need to re-normalize\n    vec3 n = normalize(tbn[2].xyz);\n\n    return n;\n}\n\nfloat getPerceivedBrightness(vec3 vector)\n{\n    return sqrt(0.299 * vector.r * vector.r + 0.587 * vector.g * vector.g + 0.114 * vector.b * vector.b);\n}\n\nAngularInfo getAngularInfo(vec3 pointToLight, vec3 normal, vec3 view)\n{\n    // Standard one-letter names\n    vec3 n = normalize(normal);           // Outward direction of surface point\n    vec3 v = normalize(view);             // Direction from surface point to view\n    vec3 l = normalize(pointToLight);     // Direction from surface point to light\n    vec3 h = normalize(l + v);            // Direction of the vector between l and v\n\n    float NdotL = clamp(dot(n, l), 0.0, 1.0);\n    float NdotV = clamp(dot(n, v), 0.0, 1.0);\n    float NdotH = clamp(dot(n, h), 0.0, 1.0);\n    float LdotH = clamp(dot(l, h), 0.0, 1.0);\n    float VdotH = clamp(dot(v, h), 0.0, 1.0);\n\n    return AngularInfo(\n        NdotL,\n        NdotV,\n        NdotH,\n        LdotH,\n        VdotH,\n        vec3(0, 0, 0)\n    );\n}\n\nfloat clampedDot(vec3 x, vec3 y)\n{\n    return clamp(dot(x, y), 0.0, 1.0);\n}\n\n\nconst float GAMMA = 2.2;\nconst float INV_GAMMA = 1.0 / GAMMA;\n\n// linear to sRGB approximation\n// see http://chilliant.blogspot.com/2012/08/srgb-approximations-for-hlsl.html\nvec3 LINEARtoSRGB(vec3 color)\n{\n    return pow(color, vec3(INV_GAMMA));\n}\n\n// sRGB to linear approximation\n// see http://chilliant.blogspot.com/2012/08/srgb-approximations-for-hlsl.html\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n    return vec4(pow(srgbIn.xyz, vec3(GAMMA)), srgbIn.w);\n}\n\n// Uncharted 2 tone map\n// see: http://filmicworlds.com/blog/filmic-tonemapping-operators/\nvec3 toneMapUncharted2Impl(vec3 color)\n{\n    const float A = 0.15;\n    const float B = 0.50;\n    const float C = 0.10;\n    const float D = 0.20;\n    const float E = 0.02;\n    const float F = 0.30;\n    return ((color*(A*color+C*B)+D*E)/(color*(A*color+B)+D*F))-E/F;\n}\n\nvec3 toneMapUncharted(vec3 color)\n{\n    const float W = 11.2;\n    color = toneMapUncharted2Impl(color * 2.0);\n    vec3 whiteScale = 1.0 / toneMapUncharted2Impl(vec3(W));\n    return LINEARtoSRGB(color * whiteScale);\n}\n\n// Hejl Richard tone map\n// see: http://filmicworlds.com/blog/filmic-tonemapping-operators/\nvec3 toneMapHejlRichard(vec3 color)\n{\n    color = max(vec3(0.0), color - vec3(0.004));\n    return (color*(6.2*color+.5))/(color*(6.2*color+1.7)+0.06);\n}\n\n// ACES tone map\n// see: https://knarkowicz.wordpress.com/2016/01/06/aces-filmic-tone-mapping-curve/\nvec3 toneMapACES(vec3 color)\n{\n    const float A = 2.51;\n    const float B = 0.03;\n    const float C = 2.43;\n    const float D = 0.59;\n    const float E = 0.14;\n    return LINEARtoSRGB(clamp((color * (A * color + B)) / (color * (C * color + D) + E), 0.0, 1.0));\n}\n\nvec3 toneMap(vec3 color)\n{\n    color *= uExposure;\n\n#ifdef TONEMAP_UNCHARTED\n    return toneMapUncharted(color);\n#endif\n\n#ifdef TONEMAP_HEJLRICHARD\n    return toneMapHejlRichard(color);\n#endif\n\n#ifdef TONEMAP_ACES\n    return toneMapACES(color);\n#endif\n\n    return LINEARtoSRGB(color);\n}\n\n\nout vec4 outColor;\n\n// KHR_lights_punctual extension.\n// see https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n\nstruct Light {\n    vec3 direction;\n    float range;\n\n    vec3 color;\n    float intensity;\n\n    vec3 position;\n    float innerConeCos;\n\n    float outerConeCos;\n    int type;\n\n    vec2 padding;\n};\n\n// SPECULARGLOSSINESS\nuniform vec3 u_SpecularFactor;\nuniform vec4 u_DiffuseFactor;\nuniform float u_GlossinessFactor;\n\n//Sheen extension\nuniform float u_SheenIntensityFactor;\nuniform vec3 u_SheenColorFactor;\nuniform float u_SheenRoughness;\n\n//Clearcoat\nuniform float u_ClearcoatFactor;\nuniform float u_ClearcoatRoughnessFactor;\n\n// ALPHAMODE_MASK\nuniform float u_AlphaCutoff;\n\nuniform int u_MipCount;\n\nvec4 getBaseColor()\n{\n    vec4 baseColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    #if defined(MATERIAL_SPECULARGLOSSINESS)\n        baseColor = u_DiffuseFactor;\n    #elif defined(MATERIAL_METALLICROUGHNESS)\n        baseColor = uBaseColorFactor;\n    #endif\n\n    #if defined(MATERIAL_SPECULARGLOSSINESS) && defined(HAS_DIFFUSE_MAP)\n        baseColor *= SRGBtoLINEAR(texture(u_DiffuseSampler, getDiffuseUV()));\n    #elif defined(MATERIAL_METALLICROUGHNESS) && defined(HAS_BASE_COLOR_MAP)\n        baseColor *= SRGBtoLINEAR(texture(u_BaseColorSampler, getBaseColorUV()));\n    #endif\n\n    return baseColor * getVertexColor();\n}\n\nstruct MaterialInfo\n{\n    float perceptualRoughness;    // roughness value, as authored by the model creator (input to shader)\n    vec3 f0;            // full reflectance color (normal incidence angle)\n\n    float alphaRoughness;         // roughness mapped to a more linear change in the roughness (proposed by [2])\n    vec3 diffuseColor;            // color contribution from diffuse lighting\n\n    vec3 f90;           // reflectance color at grazing angle\n    vec3 specularColor;           // color contribution from specular lighting\n\n    vec3 normal;\n\n    vec3 baseColor;\n    float sheenIntensity;\n    vec3 sheenColor;\n    float sheenRoughness;\n\n    float clearcoatFactor;\n    vec3 clearcoatNormal;\n    float clearcoatRoughness;\n};\n\n// Lambert lighting\n// see https://seblagarde.wordpress.com/2012/01/08/pi-or-not-to-pi-in-game-lighting-equation/\nvec3 lambertian(vec3 diffuseColor)\n{\n    return diffuseColor / M_PI;\n}\n\n// The following equation models the Fresnel reflectance term of the spec equation (aka F())\n// Implementation of fresnel from [4], Equation 15\nvec3 fresnelReflection(vec3 f0, vec3 f90, float VdotH)\n{\n    return f0 + (f90 - f0) * pow(clamp(1.0 - VdotH, 0.0, 1.0), 5.0);\n}\n\n// Smith Joint GGX\n// Note: Vis = G / (4 * NdotL * NdotV)\n// see Eric Heitz. 2014. Understanding the Masking-Shadowing Function in Microfacet-Based BRDFs. Journal of Computer Graphics Techniques, 3\n// see Real-Time Rendering. Page 331 to 336.\n// see https://google.github.io/filament/Filament.md.html#materialsystem/specularbrdf/geometricshadowing(specularg)\nfloat visibility(float NdotL, float NdotV, float alphaRoughness)\n{\n    float alphaRoughnessSq = alphaRoughness * alphaRoughness;\n\n    float GGXV = NdotL * sqrt(NdotV * NdotV * (1.0 - alphaRoughnessSq) + alphaRoughnessSq);\n    float GGXL = NdotV * sqrt(NdotL * NdotL * (1.0 - alphaRoughnessSq) + alphaRoughnessSq);\n\n    float GGX = GGXV + GGXL;\n    if (GGX > 0.0)\n    {\n        return 0.5 / GGX;\n    }\n    return 0.0;\n}\n\n// The following equation(s) model the distribution of microfacet normals across the area being drawn (aka D())\n// Implementation from \"Average Irregularity Representation of a Roughened Surface for Ray Reflection\" by T. S. Trowbridge, and K. P. Reitz\n// Follows the distribution function recommended in the SIGGRAPH 2013 course notes from EPIC Games [1], Equation 3.\nfloat microfacetDistribution(float NdotH, float alphaRoughness)\n{\n    float alphaRoughnessSq = alphaRoughness * alphaRoughness;\n    float f = (NdotH * NdotH) * (alphaRoughnessSq - 1.0) + 1.0;\n    return alphaRoughnessSq / (M_PI * f * f);\n}\n\n//Sheen implementation-------------------------------------------------------------------------------------\n// See  https://github.com/sebavan/glTF/tree/KHR_materials_sheen/extensions/2.0/Khronos/KHR_materials_sheen\n\n// Estevez and Kulla http://www.aconty.com/pdf/s2017_pbs_imageworks_sheen.pdf\nfloat CharlieDistribution(float sheenRoughness, float NdotH)\n{\n    //float alphaG = sheenRoughness * sheenRoughness;\n    float invR = 1.0 / sheenRoughness;\n    float cos2h = NdotH * NdotH;\n    float sin2h = 1.0 - cos2h;\n    return (2.0 + invR) * pow(sin2h, invR * 0.5) / (2.0 * M_PI);\n}\n\n// https://github.com/google/filament/blob/master/shaders/src/brdf.fs#L136\nfloat NeubeltVisibility(float NdotL, float NdotV)\n{\n    return clamp(1.0 / (4.0 * (NdotL + NdotV - NdotL * NdotV)),0.0,1.0);\n}\n\nvec3 sheenLayer(vec3 sheenColor, float sheenIntensity, float sheenRoughness, float NdotL, float NdotV, float NdotH, vec3 diffuse_term)\n{\n    float sheenDistribution = CharlieDistribution(sheenRoughness, NdotH);\n    float sheenVisibility = NeubeltVisibility(NdotL, NdotV);\n    return sheenColor * sheenIntensity * sheenDistribution * sheenVisibility + (1.0 - sheenIntensity * sheenDistribution * sheenVisibility) * diffuse_term;\n}\n\n//--------------------- Clearcoat -------------------------------------------------------------------------\n// See https://github.com/ux3d/glTF/tree/KHR_materials_pbrClearcoat/extensions/2.0/Khronos/KHR_materials_clearcoat\nvec3 clearcoatBlending(vec3 color, vec3 clearcoatLayer, float clearcoatFactor, float NdotV, float NdotL, float VdotH)\n{\n    vec3 factor0 = (1.0 - clearcoatFactor * fresnelReflection(vec3(0.04), vec3(1.0), NdotV)) * (1.0 - clearcoatFactor * fresnelReflection(vec3(0.04), vec3(1.0), NdotL));\n    vec3 factor1 = clearcoatFactor * fresnelReflection(vec3(0.04), vec3(1.0), VdotH);\n    return color * factor0 + clearcoatLayer * factor1;\n}\n\n\n//https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#acknowledgments AppendixB\nvec3 diffuseBRDF(vec3 f0, vec3 f90, vec3 diffuseColor, float VdotH)\n{\n    return (1.0 - fresnelReflection(f0, f90, VdotH)) * lambertian(diffuseColor);\n}\n\n//  https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#acknowledgments AppendixB\nvec3 specularMicrofacetBRDF (vec3 f0, vec3 f90, float alphaRoughness, float VdotH, float NdotL, float NdotV, float NdotH)\n{\n    vec3 F = fresnelReflection(f0, f90, VdotH);\n    float Vis = visibility(NdotL, NdotV, alphaRoughness);\n    float D = microfacetDistribution(NdotH, alphaRoughness);\n\n    return F * Vis * D;\n}\n\n// Calculation of the lighting contribution from an optional Image Based Light source.\n// Precomputed Environment Maps are required uniform inputs and are computed as outlined in [1].\n// See our README.md on Environment Maps [3] for additional discussion.\n#ifdef USE_IBL\nvec3 getIBLContribution(MaterialInfo materialInfo, vec3 v)\n{\n    float NdotV = clamp(dot(materialInfo.normal, v), 0.0, 1.0);\n\n    float lod = clamp(materialInfo.perceptualRoughness * float(u_MipCount), 0.0, float(u_MipCount));\n    vec3 reflection = normalize(reflect(-v, materialInfo.normal));\n\n    vec2 brdfSamplePoint = clamp(vec2(NdotV, materialInfo.perceptualRoughness), vec2(0.0, 0.0), vec2(1.0, 1.0));\n    // retrieve a scale and bias to F0. See [1], Figure 3\n    vec2 brdf = texture(u_brdfLUT, brdfSamplePoint).rg;\n\n    vec4 diffuseSample = texture(u_DiffuseEnvSampler, materialInfo.normal);\n    vec4 specularSample = textureLod(u_SpecularEnvSampler, reflection, lod);\n\n#ifdef USE_HDR\n    // Already linear.\n    vec3 diffuseLight = diffuseSample.rgb;\n    vec3 specularLight = specularSample.rgb;\n#else\n    vec3 diffuseLight = SRGBtoLINEAR(diffuseSample).rgb;\n    vec3 specularLight = SRGBtoLINEAR(specularSample).rgb;\n#endif\n\n    vec3 diffuse = diffuseLight * materialInfo.diffuseColor;\n    vec3 specular = specularLight * (materialInfo.specularColor * brdf.x + brdf.y);\n\n#ifdef MATERIAL_SHEEN\n    float NdotL =  clampedDot(materialInfo.normal, reflection);\n    vec3 h = normalize(reflection + v);\n    float NdotH = clampedDot(materialInfo.normal, h);\n    diffuse = sheenLayer(materialInfo.sheenColor, materialInfo.sheenIntensity, materialInfo.sheenRoughness, NdotL, NdotV, NdotH, diffuse);\n#endif\n\n#ifdef MATERIAL_CLEARCOAT\n    NdotV = clamp(dot(materialInfo.clearcoatNormal, v), 0.0, 1.0);\n\n    lod = clamp(materialInfo.clearcoatRoughness * float(u_MipCount), 0.0, float(u_MipCount));\n    reflection = normalize(reflect(-v, materialInfo.clearcoatNormal));\n\n    brdfSamplePoint = clamp(vec2(NdotV, materialInfo.clearcoatRoughness), vec2(0.0, 0.0), vec2(1.0, 1.0));\n    // retrieve a scale and bias to F0. See [1], Figure 3\n    brdf = texture(u_brdfLUT, brdfSamplePoint).rg;\n\n    specularSample = textureLod(u_SpecularEnvSampler, reflection, lod);\n\n    #ifdef USE_HDR\n    // Already linear.\n        specularLight = specularSample.rgb;\n    #else\n        specularLight = SRGBtoLINEAR(specularSample).rgb;\n    #endif\n\n    float NdotL =  clampedDot(materialInfo.clearcoatNormal, reflection);\n    vec3 h = normalize(reflection + v);\n    float VdotH = clampedDot(v, h);\n    vec3 clearcoatLayer = specularLight * (vec3(1.0) * brdf.x + brdf.y);\n    return clearcoatBlending(diffuse + specular, clearcoatLayer, materialInfo.clearcoatFactor, NdotV,  NdotL, VdotH);\n#endif\n\n    return diffuse + specular;\n}\n#endif\n\n\nvec3 getPointShade(vec3 pointToLight, MaterialInfo materialInfo, vec3 view)\n{\n    AngularInfo angularInfo = getAngularInfo(pointToLight, materialInfo.normal, view);\n    if (angularInfo.NdotL > 0.0 || angularInfo.NdotV > 0.0)\n    {\n        // Calculation of analytical ligh\n        //https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#acknowledgments AppendixB\n        vec3 diffuseContrib = diffuseBRDF(materialInfo.f0, materialInfo.f90, materialInfo.diffuseColor, angularInfo.VdotH);\n        vec3 specContrib = specularMicrofacetBRDF(materialInfo.f0, materialInfo.f90, materialInfo.alphaRoughness, angularInfo.VdotH, angularInfo.NdotL, angularInfo.NdotV, angularInfo.NdotH);\n\n        // Obtain final intensity as reflectance (BRDF) scaled by the energy of the light (cosine law)\n        return angularInfo.NdotL * (diffuseContrib + specContrib);\n    }\n\n    return vec3(0.0, 0.0, 0.0);\n}\n\n// https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Khronos/KHR_lights_punctual/README.md#range-property\nfloat getRangeAttenuation(float range, float distance)\n{\n    if (range <= 0.0)\n    {\n        // negative range means unlimited\n        return 1.0;\n    }\n    return max(min(1.0 - pow(distance / range, 4.0), 1.0), 0.0) / pow(distance, 2.0);\n}\n\n// https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Khronos/KHR_lights_punctual/README.md#inner-and-outer-cone-angles\nfloat getSpotAttenuation(vec3 pointToLight, vec3 spotDirection, float outerConeCos, float innerConeCos)\n{\n    float actualCos = dot(normalize(spotDirection), normalize(-pointToLight));\n    if (actualCos > outerConeCos)\n    {\n        if (actualCos < innerConeCos)\n        {\n            return smoothstep(outerConeCos, innerConeCos, actualCos);\n        }\n        return 1.0;\n    }\n    return 0.0;\n}\n\nvec3 applyDirectionalLight(Light light, MaterialInfo materialInfo, vec3 view)\n{\n    vec3 pointToLight = -light.direction;\n    vec3 shade = getPointShade(pointToLight, materialInfo, view);\n    return light.intensity * light.color * shade;\n}\n\nvec3 applyPointLight(Light light, MaterialInfo materialInfo, vec3 view)\n{\n    vec3 pointToLight = light.position - vPosition;\n    float distance = length(pointToLight);\n    float attenuation = getRangeAttenuation(light.range, distance);\n    vec3 shade = getPointShade(pointToLight, materialInfo, view);\n    return attenuation * light.intensity * light.color * shade;\n}\n\nvec3 applySpotLight(Light light, MaterialInfo materialInfo, vec3 view)\n{\n    vec3 pointToLight = light.position - vPosition;\n    float distance = length(pointToLight);\n    float rangeAttenuation = getRangeAttenuation(light.range, distance);\n    float spotAttenuation = getSpotAttenuation(pointToLight, light.direction, light.outerConeCos, light.innerConeCos);\n    vec3 shade = getPointShade(pointToLight, materialInfo, view);\n    return rangeAttenuation * spotAttenuation * light.intensity * light.color * shade;\n}\n\nvoid main()\n{\n    vec4 baseColor = getBaseColor();\n\n#ifdef ALPHAMODE_MASK\n    if(baseColor.a < u_AlphaCutoff)\n    {\n        discard;\n    }\n    baseColor.a = 1.0;\n#endif\n\n#ifdef ALPHAMODE_BLEND\n    baseColor.a = 0.9;\n#else\n    baseColor.a = 1.0;\n#endif\n\n#ifdef MATERIAL_UNLIT\n    outColor = (vec4(LINEARtoSRGB(baseColor.rgb), baseColor.a));\n    return;\n#endif\n\n    // Metallic and Roughness material properties are packed together\n    // In glTF, these factors can be specified by fixed scalar values\n    // or from a metallic-roughness map\n    float perceptualRoughness = 0.0;\n    float metallic = 0.0;\n\n    vec3 diffuseColor = vec3(0.0);\n    vec3 specularColor = vec3(0.0);\n    vec3 f0 = vec3(0.04);\n\n    vec4 output_color = baseColor;\n\n#ifdef MATERIAL_SPECULARGLOSSINESS\n\n#ifdef HAS_SPECULAR_GLOSSINESS_MAP\n    vec4 sgSample = SRGBtoLINEAR(texture(u_SpecularGlossinessSampler, getSpecularGlossinessUV()));\n    perceptualRoughness = (1.0 - sgSample.a * u_GlossinessFactor); // glossiness to roughness\n    f0 = sgSample.rgb * u_SpecularFactor; // specular\n#else\n    f0 = u_SpecularFactor;\n    perceptualRoughness = 1.0 - u_GlossinessFactor;\n#endif // ! HAS_SPECULAR_GLOSSINESS_MAP\n\n    // f0 = specular\n    specularColor = f0;\n    float oneMinusSpecularStrength = 1.0 - max(max(f0.r, f0.g), f0.b);\n    diffuseColor = baseColor.rgb * oneMinusSpecularStrength;\n\n#endif // ! MATERIAL_SPECULARGLOSSINESS\n\n#ifdef MATERIAL_METALLICROUGHNESS\n\n#ifdef HAS_METALLIC_ROUGHNESS_MAP\n    // Roughness is stored in the 'g' channel, metallic is stored in the 'b' channel.\n    // This layout intentionally reserves the 'r' channel for (optional) occlusion map data\n    vec4 mrSample = texture(u_MetallicRoughnessSampler, getMetallicRoughnessUV());\n    perceptualRoughness = mrSample.g * uRoughnessFactor;\n    metallic = mrSample.b * uMetallicFactor;\n#else\n    metallic = uMetallicFactor;\n    perceptualRoughness = uRoughnessFactor;\n#endif\n\n    diffuseColor = baseColor.rgb * (vec3(1.0) - f0) * (1.0 - metallic);\n    specularColor = mix(f0, baseColor.rgb, metallic);\n#endif // ! MATERIAL_METALLICROUGHNESS\n\n    MaterialInfo materialInfo;\n\n    perceptualRoughness = clamp(perceptualRoughness, 0.0, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n\n    // Roughness is authored as perceptual roughness; as is convention,\n    // convert to material roughness by squaring the perceptual roughness [2].\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    // Compute reflectance.\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    // Anything less than 2% is physically impossible and is instead considered to be shadowing. Compare to \"Real-Time-Rendering\" 4th editon on page 325.\n    vec3 specularEnvironmentR90 = vec3(clamp(reflectance * 50.0, 0.0, 1.0));\n\n#ifdef MATERIAL_SHEEN\n    #ifdef HAS_SHEEN_COLOR_INTENSITY_TEXTURE_MAP\n        vec3 sheenSample = texture(u_sheenColorIntensitySampler, getSheenUV());\n        materialInfo.sheenColor = sheenSample.xyz * u_SheenColorFactor;\n        materialInfo.sheenIntensity = sheenSample.w * u_SheenIntensityFactor;\n    #else\n        materialInfo.sheenColor = u_SheenColorFactor;\n        materialInfo.sheenIntensity = u_SheenIntensityFactor;\n    #endif\n    materialInfo.sheenRoughness = u_SheenRoughness;\n#endif\n\n#ifdef MATERIAL_CLEARCOAT\n    #ifdef HAS_CLEARCOAT_TEXTURE_MAP\n        vec4 ccSample = texture(u_ClearcoatSampler, getClearcoatUV());\n        materialInfo.clearcoatFactor = ccSample.r * u_ClearcoatFactor;\n    #else\n        materialInfo.clearcoatFactor = u_ClearcoatFactor;\n    #endif\n\n    #ifdef HAS_CLEARCOAT_ROUGHNESS_MAP\n        vec4 ccSampleRough = texture(u_ClearcoatRoughnessSampler, getClearcoatRoughnessUV());\n        materialInfo.clearcoatRoughness = ccSampleRough.g * u_ClearcoatRoughnessFactor;\n    #else\n        materialInfo.clearcoatRoughness = u_ClearcoatRoughnessFactor;\n    #endif\n\n    #ifdef HAS_CLEARCOAT_NORMAL_MAP\n        vec4 ccSampleNor = texture(u_ClearcoatNormalSampler, getClearcoatNormalUV());\n        materialInfo.clearcoatNormal = ccSampleNor.xyz;\n    #else\n        materialInfo.clearcoatNormal = getSurface();\n    #endif\n#endif\n\n    // LIGHTING\n    vec3 color = vec3(baseColor.r * 0.15, baseColor.g * 0.15, baseColor.b * 0.15);\n    vec3 normal = getNormal();\n    vec3 view = normalize(uCamera - vPosition);\n\n    materialInfo.perceptualRoughness = perceptualRoughness;\n    materialInfo.f0 = specularEnvironmentR0;\n    materialInfo.alphaRoughness = alphaRoughness;\n    materialInfo.diffuseColor = diffuseColor;\n    materialInfo.f90 = specularEnvironmentR90;\n    materialInfo.specularColor = specularColor;\n    materialInfo.normal = normal;\n    materialInfo.baseColor = baseColor.rgb;\n\n/*#ifdef USE_PUNCTUAL\n    for (int i = 0; i < LIGHT_COUNT; ++i)\n    {\n        vec3 lightColor = vec3(0);\n        Light light = u_Lights[i];\n        if (light.type == LightType_Directional)\n        {\n            lightColor += applyDirectionalLight(light, materialInfo, view);\n        }\n        else if (light.type == LightType_Point)\n        {\n            lightColor += applyPointLight(light, materialInfo, view);\n        }\n        else if (light.type == LightType_Spot)\n        {\n            lightColor += applySpotLight(light, materialInfo, view);\n        }\n        color += lightColor;\n    }\n#endif*/\n    //Light light2 = Light(vec3(-0.9243900179862976, -0.3468450903892517, 0.15875054895877838), 10.0, vec3(1, 0.5699955821037292, 0.2395770400762558), 8.0, vec3(0, 0, 500), 0.0, 0.7853975, 0, vec2(0, 0));\n    Light light = Light(vec3(-0.12252257764339447, -0.6230136752128601, -0.7725556492805481), 10.0, vec3(1, 0.5699955821037292, 0.2395770400762558), 8.0, vec3(0, 0, 500), 0.0, 0.7853975, 0, vec2(0, 0));\n    color += applyDirectionalLight(light, materialInfo, view);\n    //color += applyDirectionalLight(light2, materialInfo, view);\n\n    // Calculate lighting contribution from image based lighting source (IBL)\n#ifdef USE_IBL\n    color += getIBLContribution(materialInfo, view);\n#endif\n\n    float ao = 1.0;\n\n    // Apply optional PBR terms for additional (optional) shading\n#ifdef HAS_OCCLUSION_MAP\n    ao = texture(u_OcclusionSampler,  getOcclusionUV()).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n    vec3 emissive = vec3(0, 0, 0); // u_EmissiveFactor\n#ifdef HAS_EMISSIVE_MAP\n    emissive *= SRGBtoLINEAR(texture(u_EmissiveSampler, getEmissiveUV())).rgb;\n#endif\n    color += emissive;\n\n#ifndef DEBUG_OUTPUT // no debug\n\n    // regular shading\n    output_color = vec4(toneMap(color), baseColor.a);\n\n#else // debug output\n\n    #ifdef DEBUG_ROUGHNESS\n        output_color.rgb = vec3(perceptualRoughness);\n    #endif\n\n    #ifdef DEBUG_NORMAL\n        #ifdef HAS_NORMAL_MAP\n            output_color.rgb = texture(u_NormalSampler, getNormalUV()).rgb;\n        #else\n            output_color.rgb = vec3(0.5, 0.5, 1.0);\n        #endif\n    #endif\n\n    #ifdef DEBUG_BASECOLOR\n        output_color.rgb = LINEARtoSRGB(baseColor.rgb);\n    #endif\n\n    #ifdef DEBUG_OCCLUSION\n        output_color.rgb = vec3(ao);\n    #endif\n\n    #ifdef DEBUG_EMISSIVE\n        output_color.rgb = LINEARtoSRGB(emissive).rgb;\n    #endif\n\n    #ifdef DEBUG_F0\n        output_color.rgb = vec3(f0);\n    #endif\n\n    #ifdef DEBUG_ALPHA\n        output_color.rgb = vec3(baseColor.a);\n    #endif\n\n    output_color.a = 1.0;\n\n#endif // !DEBUG_OUTPUT\n\n    outColor = output_color;\n}\n",u=function(){function e(e){this._doubleSided=!1,this._alphaMode="OPAQUE";var n=e.attributes.POSITION,t=e.attributes.NORMAL,r=e.attributes.TEXCOORD_0,i=e.attributes.COLOR_0,a=e.indices,u=e.material;if(this._vertices=n.value,this._indices=a.value,this._shader=new s(l,c),u&&(this._shader.define("HAS_MATERIALS"),this._shader.define("MATERIAL_METALLICROUGHNESS")),this._vao=o.createVertexArray(),o.bindVertexArray(this._vao),o.enableVertexAttribArray(0),o.bindBuffer(o.ARRAY_BUFFER,o.createBuffer()),o.vertexAttribPointer(0,3,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,n.value,o.STATIC_DRAW),this._shader.define("HAS_NORMALS"),o.enableVertexAttribArray(1),o.bindBuffer(o.ARRAY_BUFFER,o.createBuffer()),o.vertexAttribPointer(1,3,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,t.value,o.STATIC_DRAW),r&&(this._shader.define("HAS_TEXCOORDS"),o.enableVertexAttribArray(2),o.bindBuffer(o.ARRAY_BUFFER,o.createBuffer()),o.vertexAttribPointer(2,2,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,r.value,o.STATIC_DRAW)),i&&(this._shader.define("HAS_COLORS"),o.enableVertexAttribArray(3),o.bindBuffer(o.ARRAY_BUFFER,o.createBuffer()),o.vertexAttribPointer(3,4,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,i.value,o.STATIC_DRAW)),this._indicesSize=a.count,o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,o.createBuffer()),o.bufferData(o.ELEMENT_ARRAY_BUFFER,a.value,o.STATIC_DRAW),u&&"BLEND"===u.alphaMode&&(this._shader.define("IS_WATER"),this._shader.define("ALPHAMODE_BLEND")),this._shader.build(),this._shader.use(),u){this._doubleSided=u.doubleSided,this._alphaMode=u.alphaMode;var f=u.pbrMetallicRoughness;f.baseColorFactor?o.uniform4f(this._shader.getUniformLocation("uBaseColorFactor"),f.baseColorFactor[0],f.baseColorFactor[1],f.baseColorFactor[2],f.baseColorFactor[3]):o.uniform4f(this._shader.getUniformLocation("uBaseColorFactor"),1,1,1,1),o.uniform1f(this._shader.getUniformLocation("uMetallicFactor"),f.metallicFactor),o.uniform1f(this._shader.getUniformLocation("uRoughnessFactor"),f.roughnessFactor)}}return e.prototype.getVertices=function(){return this._vertices},e.prototype.getIndices=function(){return this._indices},e.prototype.draw=function(e,n,t,r){this._shader.use(),this._doubleSided?o.disable(o.CULL_FACE):o.enable(o.CULL_FACE),"BLEND"===this._alphaMode?(o.enable(o.BLEND),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),o.blendEquation(o.FUNC_ADD)):o.disable(o.BLEND),o.bindVertexArray(this._vao),o.uniformMatrix4fv(this._shader.getUniformLocation("uProjection"),!1,e),o.uniformMatrix4fv(this._shader.getUniformLocation("uView"),!1,n),o.uniformMatrix4fv(this._shader.getUniformLocation("uModel"),!1,t),o.uniform3f(this._shader.getUniformLocation("uCamera"),r[0],r[1],r[2]),o.drawElements(o.TRIANGLES,this._indicesSize,o.UNSIGNED_SHORT,0)},e}(),f=function(e,n,t,o){return new(t||(t=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((o=o.apply(e,n||[])).next())}))},d=function(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=t(60).load,h=t(61).GLTFLoader,A=function(){this.transform=a.b.create(),this.vao=o.createVertexArray(),this.primitives=[],this.doubleSided=!1},g=function(){function e(){this._nodes=[],this._built=!1,this._viewMatrix=a.b.create(),this._ballPositions=[0,0,0],this._ballRotations=[0,0,0,1]}return e.prototype.initialize=function(e,n){return f(this,void 0,void 0,(function(){var t;return d(this,(function(o){switch(o.label){case 0:return[4,p(e,h,{parserVersion:2,postProcess:!0})];case 1:return t=o.sent(),this.parseNodes(t.scene.nodes,n),this._built=!0,[2]}}))}))},e.prototype.parseNodes=function(e,n){for(var t=0,o=e;t<o.length;t++){var r=o[t],i=new A;i.name=r.name,this._nodes.push(i);var s=r.rotation||[0,0,0,1],l=r.translation||[0,0,0],c=r.scale||[1,1,1],f=r.mesh;if(f&&f.primitives)for(var d=0,p=f.primitives;d<p.length;d++){var h=p[d],g=new u(h);i.name.includes("deska")?n.generateConvexCollision(l,s,c,g.getVertices()):"Golf_zogica"!==i.name&&("Luknja"===i.name.substring(0,6)?n.generateConcaveCollision(l,s,c,g.getVertices(),g.getIndices(),+i.name.replace("Luknja","")):n.generateConcaveCollision(l,s,c,g.getVertices(),g.getIndices())),i.primitives.push(g)}a.b.fromRotationTranslationScale(i.transform,s,l,c)}},e.prototype.update=function(e,n){this._built&&(this._ballPositions=e,this._ballRotations=n)},e.prototype.draw=function(e,n,t){if(this._built){var o=[];a.b.copy(this._viewMatrix,n);for(var r=0,i=this._nodes;r<i.length;r++){var s=i[r];o.push(a.b.clone(this._viewMatrix)),"Golf_zogica"===s.name&&a.b.fromRotationTranslationScale(s.transform,this._ballRotations,this._ballPositions,[.07023785263299942,.07023785263299942,.07023785263299942]),a.b.mul(this._viewMatrix,this._viewMatrix,s.transform);for(var l=0,c=s.primitives;l<c.length;l++){c[l].draw(e,this._viewMatrix,s.transform,t)}this._viewMatrix=o.pop()}}},e}();!function(e){e[e.YES_NO=0]="YES_NO",e[e.OK=1]="OK"}(r||(r={}));var m,_,v=function(){function e(){}return e.initialize=function(n){var t=this;document.getElementById("menu__start").addEventListener("click",(function(){t.screen("game"),t.engine.run()})),document.getElementById("menu__options").addEventListener("click",(function(){e.dialog("This is not implemented yet.",r.OK,window.close)})),document.getElementById("menu__exit").addEventListener("click",(function(){e.dialog("Are you sure you want to exit?",r.YES_NO,window.close)})),this.forceValue=document.getElementById("force__value"),this.engine=n},e.flow=function(e,n){document.getElementById("flow__"+e).innerText=n},e.screen=function(n){document.getElementById("screen__"+e.currentScreen).hidden=!0,document.getElementById("screen__"+n).hidden=!1,e.currentScreen=n},e.dialog=function(e,n,t){document.getElementById("dialog__yes_no").hidden=!0,document.getElementById("dialog__ok").hidden=!0,document.getElementById("dialog__text").innerText=e,n===r.YES_NO?(document.getElementById("dialog__yes_no").hidden=!1,document.getElementById("dialog__no").addEventListener("click",(function(){document.getElementById("dialog").hidden=!0})),document.getElementById("dialog__yes").addEventListener("click",(function(){t()}))):n===r.OK&&(document.getElementById("dialog__ok").hidden=!1,document.getElementById("dialog__okay").addEventListener("click",(function(){document.getElementById("dialog").hidden=!0}))),document.getElementById("dialog").hidden=!1},e.force=function(e){this.forceValue&&(this.forceValue.style.transform="scaleY("+e+")")},e.currentScreen="loading",e}(),C=function(){function e(){}return e.CURRENT=0,e.STROKES=0,e.ALL_STROKES=0,e.ALL=[{spawnpoint:[-1.37718,.124897,.21976],direction:[0,-.3,-1],holeAABB:[[0,0,0],[0,0,0]]},{spawnpoint:[-19.0117,.087875,.21976],direction:[0,-.3,-1],holeAABB:[[0,0,0],[0,0,0]]},{spawnpoint:[-29.4804,.124072,.21976],direction:[0,-.3,-1],holeAABB:[[0,0,0],[0,0,0]]},{spawnpoint:[-36.7476,.116281,-25.5886],direction:[0,-.3,1],holeAABB:[[0,0,0],[0,0,0]]},{spawnpoint:[-63.3003,13.7276,-34.565],direction:[0,-.3,1],holeAABB:[[0,0,0],[0,0,0]]}],e}(),b=function(e,n,t,o){return new(t||(t=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((o=o.apply(e,n||[])).next())}))},S=function(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},y=t(30)();!function(e){e[e.WAITING=0]="WAITING",e[e.MOVING=1]="MOVING",e[e.READY=2]="READY",e[e.SHOOTING=3]="SHOOTING",e[e.FINISHING=4]="FINISHING"}(_||(_={}));var R=function(){function e(e){this._running=!1,this._pMatrix=a.b.create(),this._wMatrix=a.b.identity(a.b.create()),this._state=_.WAITING,this._currentForce=0,this._forceDelta=.01,this._canvas=i.initialize(e),this.resize=this.resize.bind(this),this.keypress=this.keypress.bind(this),this.keyup=this.keyup.bind(this),this.keydown=this.keydown.bind(this),window.onresize=this.resize,window.onkeypress=this.keypress,window.onkeyup=this.keyup,window.onkeydown=this.keydown,y.distanceBounds=[1.5,15],y.phiBounds=[.001,Math.PI/2],y.zoomSpeed=.001,y.position=[-100,20,80],this.resize()}return e.prototype.initPhysics=function(){var e=new m.btDefaultCollisionConfiguration,n=new m.btCollisionDispatcher(e),t=new m.btDbvtBroadphase,o=new m.btSequentialImpulseConstraintSolver;this._physicsWorld=new m.btDiscreteDynamicsWorld(n,t,o,e),this._physicsWorld.setGravity(new m.btVector3(0,-9.82,0)),this._vectorCache=[new m.btVector3,new m.btVector3,new m.btVector3],this._transformCache=[new m.btTransform,new m.btTransform]},e.prototype.start=function(e){return b(this,void 0,void 0,(function(){return S(this,(function(n){switch(n.label){case 0:return o.clearColor(0,0,0,1),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.enable(o.DEPTH_TEST),o.frontFace(o.CCW),o.cullFace(o.BACK),m=e,this.initPhysics(),v.flow("loading","Scene and collisions"),console.time("Scene and collisions"),this._scene=new g,[4,this._scene.initialize("assets/golf_court.glb",this)];case 1:return n.sent(),this.generateBallCollision(),console.timeEnd("Scene and collisions"),a.b.perspective(this._pMatrix,a.a.toRadian(45),window.innerWidth/window.innerHeight,.1,1e3),v.screen("menu"),this.loop=this.loop.bind(this),requestAnimationFrame(this.loop),[2]}}))}))},e.prototype.run=function(){this._running=!0,this.prepareLevel(),v.dialog("Hold S to shoot or press R to reset.",1,void 0)},e.prototype.generateConcaveCollision=function(e,n,t,o,r,i){void 0===i&&(i=!1);var a=new m.btTransform;a.setIdentity(),a.setOrigin(new m.btVector3(e[0],e[1],e[2])),a.setRotation(new m.btQuaternion(n[0],n[1],n[2],n[3]));var s=new m.btDefaultMotionState(a),l=new m.btTriangleMesh;l.setScaling(new m.btVector3(t[0],t[1],t[2]));for(var c=0;c<r.length/3;++c){var u=r[3*c+0],f=r[3*c+1],d=r[3*c+2];this._vectorCache[0].setValue(o[3*u+0],o[3*u+1],o[3*u+2]),this._vectorCache[1].setValue(o[3*f+0],o[3*f+1],o[3*f+2]),this._vectorCache[2].setValue(o[3*d+0],o[3*d+1],o[3*d+2]),l.addTriangle(this._vectorCache[0],this._vectorCache[1],this._vectorCache[2],!1)}var p=new m.btBvhTriangleMeshShape(l,!0,!0),h=new m.btVector3(0,0,0),A=new m.btRigidBodyConstructionInfo(0,s,p,h),g=new m.btRigidBody(A);if(g.setRestitution(1),i){var _=new m.btVector3,v=new m.btVector3;g.getAabb(_,v),C.ALL[i-1].holeAABB=[[_.x(),_.y(),_.z()],[v.x(),v.y(),v.z()]]}this._physicsWorld.addRigidBody(g)},e.prototype.generateConvexCollision=function(e,n,t,o){var r=new m.btTransform;r.setIdentity(),r.setOrigin(new m.btVector3(e[0],e[1],e[2])),r.setRotation(new m.btQuaternion(n[0],n[1],n[2],n[3]));var i=new m.btDefaultMotionState(r),a=new m.btConvexHullShape;a.setLocalScaling(new m.btVector3(t[0],t[1],t[2]));for(var s=0;s<o.length/3;++s)this._vectorCache[0].setValue(o[3*s],o[3*s+1],o[3*s+2]),a.addPoint(this._vectorCache[0]);a.setMargin(0);var l=new m.btVector3(0,0,0),c=new m.btRigidBodyConstructionInfo(0,i,a,l),u=new m.btRigidBody(c);u.setRestitution(1),this._physicsWorld.addRigidBody(u)},e.prototype.generateBallCollision=function(){var e=new m.btTransform;e.setIdentity(),e.setOrigin(new m.btVector3(C.ALL[C.CURRENT].spawnpoint[0],C.ALL[C.CURRENT].spawnpoint[1],C.ALL[C.CURRENT].spawnpoint[2])),e.setRotation(new m.btQuaternion(0,0,0,1));var n=new m.btDefaultMotionState(e),t=new m.btSphereShape(.07023785263299942);t.setMargin(1);var o=new m.btVector3(0,0,0);t.calculateLocalInertia(.046,o);var r=new m.btRigidBodyConstructionInfo(.046,n,t,o);this._sphere=new m.btRigidBody(r),this._sphere.setCcdMotionThreshold(.05),this._sphere.setCcdSweptSphereRadius(.06),this._sphere.setRestitution(.4),this._sphere.setDamping(.5,.5),this._physicsWorld.addRigidBody(this._sphere)},e.prototype.prepareLevel=function(){v.flow("hole","Hole: "+(C.CURRENT+1)),C.STROKES=0,v.flow("strokes","Strokes: "+C.STROKES);var e=+localStorage.getItem("best");e&&v.flow("personal-best","Personal Best: "+e),this.resetBall()},e.prototype.resetBall=function(){y.target=C.ALL[C.CURRENT].spawnpoint,y.direction=C.ALL[C.CURRENT].direction,y.position=[y.target[0]-y.direction[0],y.target[1]-y.direction[1],y.target[2]-y.direction[2]];var e=new m.btTransform;e.setIdentity(),e.setOrigin(new m.btVector3(C.ALL[C.CURRENT].spawnpoint[0],C.ALL[C.CURRENT].spawnpoint[1],C.ALL[C.CURRENT].spawnpoint[2])),e.setRotation(new m.btQuaternion(0,0,0,1)),this._sphere.setWorldTransform(e),this._sphere.getMotionState().setWorldTransform(e),this._sphere.setLinearVelocity(new m.btVector3(0,0,0)),this._sphere.setAngularVelocity(new m.btVector3(0,0,0)),this._scene.update(y.target,[0,0,0,1]),y.update(),this._state=_.READY},e.prototype.isBallInHole=function(){var e=C.ALL[C.CURRENT].holeAABB;return y.target[0]>=e[0][0]&&y.target[0]<=e[1][0]&&y.target[1]>=e[0][1]&&y.target[1]<=e[1][1]-.15&&y.target[2]>=e[0][2]&&y.target[2]<=e[1][2]},e.prototype.resize=function(){void 0!==this._canvas&&(this._canvas.width=window.innerWidth,this._canvas.height=window.innerHeight,o.viewport(0,0,this._canvas.width,this._canvas.height),a.b.perspective(this._pMatrix,a.a.toRadian(45),this._canvas.width/this._canvas.height,.1,1e3))},e.prototype.keypress=function(e){this._sphere.isActive()||this._sphere.activate(),"KeyR"===e.code&&(this.resetBall(),v.flow("strokes","Strokes: "+ ++C.STROKES),v.flow("all-strokes","All Strokes: "+ ++C.ALL_STROKES)),window.DEBUG&&("KeyT"===e.code?(this._sphere.setLinearVelocity(new m.btVector3(5*y.direction[0],0,5*y.direction[2])),this._state=_.MOVING):"KeyZ"===e.code?(this._sphere.setLinearVelocity(new m.btVector3(0,0,0)),this._sphere.setAngularVelocity(new m.btVector3(0,0,0)),this._state=_.READY):"Space"===e.code?(this._sphere.setLinearVelocity(new m.btVector3(0,5,0)),this._state=_.MOVING):"KeyF"===e.code&&(console.log(y.target),console.log(y.direction),console.log(y.up)))},e.prototype.keydown=function(e){this._state===_.READY&&83===e.keyCode&&(this._state=_.SHOOTING)},e.prototype.keyup=function(n){this._state===_.SHOOTING&&83===n.keyCode&&(this._state=_.MOVING,this._sphere.setLinearVelocity(new m.btVector3(y.direction[0]*(this._currentForce*e.MAX_FORCE),0,y.direction[2]*(this._currentForce*e.MAX_FORCE))),this._currentForce=0,this._forceDelta=Math.abs(this._forceDelta),v.force(this._currentForce),v.flow("strokes","Strokes: "+ ++C.STROKES),v.flow("all-strokes","All Strokes: "+ ++C.ALL_STROKES))},e.prototype.loop=function(n){if(o.clearColor(.37,.94,1,1),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),this._state===_.SHOOTING&&(this._currentForce+=this._forceDelta,(this._currentForce>=1||this._currentForce<=0)&&(this._forceDelta=-this._forceDelta),v.force(this._currentForce)),this._running){this._physicsWorld.stepSimulation(e.TIME_STEP,2);var t=this._sphere.getMotionState();if(t){t.getWorldTransform(this._transformCache[0]);var r=this._transformCache[0].getOrigin(),i=this._transformCache[0].getRotation();y.target=[r.x(),r.y(),r.z()],this._scene.update(y.target,[i.x(),i.y(),i.z(),i.w()])}if(y.update(),this._state===_.MOVING)if(this.isBallInHole()){if(this._state=_.FINISHING,++C.CURRENT>=C.ALL.length){var s=+localStorage.getItem("best");(!s||s&&C.ALL_STROKES<s)&&localStorage.setItem("best",String(C.ALL_STROKES)),C.CURRENT=0,C.STROKES=0,C.ALL_STROKES=0,v.flow("strokes","Strokes: "+C.STROKES),v.flow("all-strokes","All Strokes: "+C.ALL_STROKES)}this.prepareLevel()}else 0===this._sphere.getLinearVelocity().dot(this._sphere.getAngularVelocity())&&(this._state=_.READY)}else y.position[0]>-216&&(y.position[0]-=.01,y.position[2]-=.01);a.b.lookAt(this._wMatrix,y.position,y.target,y.up),this._scene.draw(this._pMatrix,this._wMatrix,y.position),requestAnimationFrame(this.loop)},e.TIME_STEP=1/60,e.MAX_FORCE=50,e}(),w=function(e,n,t,o){return new(t||(t=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((o=o.apply(e,n||[])).next())}))},E=function(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},B=t(53);window.DEBUG=!1,window.onload=function(){return w(void 0,void 0,void 0,(function(){var e;return E(this,(function(n){return v.flow("loading","Canvas"),e=new R("game"),v.initialize(e),v.flow("loading","Physics Engine"),B().then((function(n){e.start(n)})),[2]}))}))},console.log("Welcome to Mini Golf!")},8:function(e,n){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy9zdHlsZXMuc2NzcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL3N0eWxlcy5zY3NzP2UwOWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvZW5naW5lL3V0aWxzL1dlYkdMLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2VuZ2luZS91dGlscy9VSS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9lbmdpbmUvdXRpbHMvU2hhZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2VuZ2luZS9zaGFkZXJzL0Jhc2ljLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2VuZ2luZS91dGlscy9QcmltaXRpdmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvZW5naW5lL0VudGl0eS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9lbmdpbmUvRW5naW5lLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2VuZ2luZS9MZXZlbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvaW5kZXgudHMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsInBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrIiwid2luZG93IiwiaG90QXZhaWxhYmxlRmlsZXNNYXAiLCJob3RSZXF1ZXN0ZWRGaWxlc01hcCIsImhvdFVwZGF0ZSIsImhvdFdhaXRpbmdGaWxlcyIsImhvdENodW5rc0xvYWRpbmciLCJob3RVcGRhdGVEb3dubG9hZGVkIiwiaG90QWRkVXBkYXRlQ2h1bmsiLCJob3RDdXJyZW50Q2hpbGRNb2R1bGUiLCJob3RBcHBseU9uVXBkYXRlIiwiaG90Q3VycmVudEhhc2giLCJob3RSZXF1ZXN0VGltZW91dCIsImhvdEN1cnJlbnRNb2R1bGVEYXRhIiwiaG90Q3VycmVudFBhcmVudHMiLCJob3RDdXJyZW50UGFyZW50c1RlbXAiLCJob3RDcmVhdGVNb2R1bGUiLCJob3QiLCJfYWNjZXB0ZWREZXBlbmRlbmNpZXMiLCJfZGVjbGluZWREZXBlbmRlbmNpZXMiLCJfc2VsZkFjY2VwdGVkIiwiX3NlbGZEZWNsaW5lZCIsIl9kaXNwb3NlSGFuZGxlcnMiLCJfbWFpbiIsImFjdGl2ZSIsImFjY2VwdCIsImRlcCIsImNhbGxiYWNrIiwidW5kZWZpbmVkIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiaWR4IiwiaW5kZXhPZiIsImNoZWNrIiwiaG90Q2hlY2siLCJob3RBcHBseSIsInN0YXR1cyIsImwiLCJob3RTdGF0dXMiLCJob3RTdGF0dXNIYW5kbGVycyIsImFkZFN0YXR1c0hhbmRsZXIiLCJyZW1vdmVTdGF0dXNIYW5kbGVyIiwiaG90U2V0U3RhdHVzIiwibmV3U3RhdHVzIiwiaG90RGVmZXJyZWQiLCJob3RVcGRhdGVOZXdIYXNoIiwiaG90V2FpdGluZ0ZpbGVzTWFwIiwidG9Nb2R1bGVJZCIsImlkIiwiRXJyb3IiLCJyZXF1ZXN0VGltZW91dCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiWE1MSHR0cFJlcXVlc3QiLCJyZXF1ZXN0IiwicmVxdWVzdFBhdGgiLCJwIiwib3BlbiIsInRpbWVvdXQiLCJzZW5kIiwiZXJyIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInVwZGF0ZSIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImUiLCJ0aGVuIiwiYyIsImgiLCJwcm9taXNlIiwiaG90RW5zdXJlVXBkYXRlQ2h1bmsiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjaGFyc2V0Iiwic3JjIiwiaGVhZCIsImFwcGVuZENoaWxkIiwiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImRlZmVycmVkIiwib3V0ZGF0ZWRNb2R1bGVzIiwib3B0aW9ucyIsImNiIiwibW9kdWxlIiwiZ2V0QWZmZWN0ZWRTdHVmZiIsInVwZGF0ZU1vZHVsZUlkIiwib3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJxdWV1ZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwiaW5zdGFsbGVkTW9kdWxlcyIsInR5cGUiLCJwYXJlbnRzIiwicGFyZW50SWQiLCJwYXJlbnQiLCJjb25jYXQiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImFwcGxpZWRVcGRhdGUiLCJ3YXJuVW5leHBlY3RlZFJlcXVpcmUiLCJjb25zb2xlIiwid2FybiIsImFib3J0RXJyb3IiLCJkb0FwcGx5IiwiZG9EaXNwb3NlIiwiY2hhaW5JbmZvIiwiam9pbiIsIm9uRGVjbGluZWQiLCJpZ25vcmVEZWNsaW5lZCIsIm9uVW5hY2NlcHRlZCIsImlnbm9yZVVuYWNjZXB0ZWQiLCJvbkFjY2VwdGVkIiwib25EaXNwb3NlZCIsIm91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyIsImVycm9ySGFuZGxlciIsImtleXMiLCJmb3JFYWNoIiwiaG90RGlzcG9zZUNodW5rIiwiZGVwZW5kZW5jeSIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwic2xpY2UiLCJkaXNwb3NlSGFuZGxlcnMiLCJjaGlsZHJlbiIsImNoaWxkIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yaWdpbmFsRXJyb3IiLCIwIiwiZXhwb3J0cyIsIm1lIiwiZm4iLCJPYmplY3RGYWN0b3J5IiwibmFtZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwidCIsIm1vZGUiLCJob3RDcmVhdGVSZXF1aXJlIiwibSIsImQiLCJnZXR0ZXIiLCJvIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsImpzb25wQXJyYXkiLCJvbGRKc29ucEZ1bmN0aW9uIiwiX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIiwiYXBpIiwiY29udGVudCIsImRlZmF1bHQiLCJleHBvcnRlZCIsImxvY2FscyIsIm5ld0NvbnRlbnQiLCJnbCIsIkRpYWxvZ1R5cGUiLCJpbml0aWFsaXplIiwiZWxlbWVudElkIiwiY2FudmFzIiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0IiwidmVydGV4U291cmNlIiwiZnJhZ21lbnRTb3VyY2UiLCJfYXR0cmlidXRlcyIsIl91bmlmb3JtcyIsIl9oZWFkZXJzIiwidGhpcyIsIl92ZXJ0ZXhTb3VyY2UiLCJfZnJhZ21lbnRTb3VyY2UiLCJkZWZpbmUiLCJoZWFkZXIiLCJidWlsZCIsInZlcnRleFNoYWRlciIsImxvYWRTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJfcHJvZ3JhbSIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFByb2dyYW1JbmZvTG9nIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJpbmZvIiwiZ2V0QWN0aXZlQXR0cmliIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJBQ1RJVkVfVU5JRk9STVMiLCJnZXRBY3RpdmVVbmlmb3JtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwidXNlIiwidXNlUHJvZ3JhbSIsImdldEF0dHJpYnV0ZUxvY2F0aW9uIiwic291cmNlIiwic2hhZGVyVHlwZSIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImdldFNoYWRlckluZm9Mb2ciLCJwcmltaXRpdmUiLCJfZG91YmxlU2lkZWQiLCJfYWxwaGFNb2RlIiwidmVydGljZXMiLCJhdHRyaWJ1dGVzIiwiUE9TSVRJT04iLCJub3JtYWxzIiwiTk9STUFMIiwidGV4Y29vcmRzIiwiVEVYQ09PUkRfMCIsImNvbG9ycyIsIkNPTE9SXzAiLCJpbmRpY2VzIiwibWF0ZXJpYWwiLCJfdmVydGljZXMiLCJfaW5kaWNlcyIsIl9zaGFkZXIiLCJfdmFvIiwiY3JlYXRlVmVydGV4QXJyYXkiLCJiaW5kVmVydGV4QXJyYXkiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJjcmVhdGVCdWZmZXIiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJidWZmZXJEYXRhIiwiU1RBVElDX0RSQVciLCJfaW5kaWNlc1NpemUiLCJjb3VudCIsIkVMRU1FTlRfQVJSQVlfQlVGRkVSIiwiYWxwaGFNb2RlIiwiZG91YmxlU2lkZWQiLCJtZXRhbGxpY1JvdWdobmVzcyIsInBick1ldGFsbGljUm91Z2huZXNzIiwiYmFzZUNvbG9yRmFjdG9yIiwidW5pZm9ybTRmIiwidW5pZm9ybTFmIiwibWV0YWxsaWNGYWN0b3IiLCJyb3VnaG5lc3NGYWN0b3IiLCJnZXRWZXJ0aWNlcyIsImdldEluZGljZXMiLCJkcmF3IiwicHJvamVjdGlvbk1hdHJpeCIsInZpZXdNYXRyaXgiLCJtb2RlbE1hdHJpeCIsImNhbWVyYVBvc2l0aW9uIiwiZGlzYWJsZSIsIkNVTExfRkFDRSIsImVuYWJsZSIsIkJMRU5EIiwiYmxlbmRGdW5jU2VwYXJhdGUiLCJTUkNfQUxQSEEiLCJPTkVfTUlOVVNfU1JDX0FMUEhBIiwiT05FIiwiYmxlbmRFcXVhdGlvbiIsIkZVTkNfQUREIiwidW5pZm9ybU1hdHJpeDRmdiIsInVuaWZvcm0zZiIsImRyYXdFbGVtZW50cyIsIlRSSUFOR0xFUyIsIlVOU0lHTkVEX1NIT1JUIiwibG9hZCIsIkdMVEZMb2FkZXIiLCJ0cmFuc2Zvcm0iLCJ2YW8iLCJwcmltaXRpdmVzIiwiX25vZGVzIiwiX2J1aWx0IiwiX3ZpZXdNYXRyaXgiLCJfYmFsbFBvc2l0aW9ucyIsIl9iYWxsUm90YXRpb25zIiwidXJsIiwiZW5naW5lIiwicGFyc2VyVmVyc2lvbiIsInBvc3RQcm9jZXNzIiwiZ2x0ZiIsInBhcnNlTm9kZXMiLCJzY2VuZSIsIm5vZGVzIiwib2JqZWN0cyIsIm5vZGUiLCJyb3RhdGlvbiIsInRyYW5zbGF0aW9uIiwic2NhbGUiLCJtZXNoIiwiaW5jbHVkZXMiLCJnZW5lcmF0ZUNvbnZleENvbGxpc2lvbiIsInN1YnN0cmluZyIsImdlbmVyYXRlQ29uY2F2ZUNvbGxpc2lvbiIsInJlcGxhY2UiLCJmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlIiwiYmFsbFBvc2l0aW9ucyIsImJhbGxSb3RhdGlvbnMiLCJ3b3JsZE1hdHJpeCIsIm1hdHJpeFN0YWNrIiwiY29weSIsImNsb25lIiwibXVsIiwiQW1tbyIsIlN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNjcmVlbiIsInJ1biIsIlVJIiwiZGlhbG9nIiwiT0siLCJjbG9zZSIsIllFU19OTyIsImZvcmNlVmFsdWUiLCJmbG93IiwiZWxlbWVudCIsImluZm9ybWF0aW9uIiwiaW5uZXJUZXh0IiwiY3VycmVudFNjcmVlbiIsImhpZGRlbiIsInRleHQiLCJ5ZXMiLCJmb3JjZSIsInJhdGlvIiwic3R5bGUiLCJDVVJSRU5UIiwiU1RST0tFUyIsIkFMTF9TVFJPS0VTIiwiQUxMIiwic3Bhd25wb2ludCIsImRpcmVjdGlvbiIsImhvbGVBQUJCIiwiY29udHJvbHMiLCJfcnVubmluZyIsIl9wTWF0cml4IiwiX3dNYXRyaXgiLCJpZGVudGl0eSIsIl9zdGF0ZSIsIldBSVRJTkciLCJfY3VycmVudEZvcmNlIiwiX2ZvcmNlRGVsdGEiLCJfY2FudmFzIiwiV2ViR0wiLCJyZXNpemUiLCJrZXlwcmVzcyIsImtleXVwIiwia2V5ZG93biIsIm9ucmVzaXplIiwib25rZXlwcmVzcyIsIm9ua2V5dXAiLCJvbmtleWRvd24iLCJkaXN0YW5jZUJvdW5kcyIsInBoaUJvdW5kcyIsIk1hdGgiLCJQSSIsInpvb21TcGVlZCIsInBvc2l0aW9uIiwiaW5pdFBoeXNpY3MiLCJjb2xsaXNpb25Db25maWd1cmF0aW9uIiwiYnREZWZhdWx0Q29sbGlzaW9uQ29uZmlndXJhdGlvbiIsImRpc3BhdGNoZXIiLCJidENvbGxpc2lvbkRpc3BhdGNoZXIiLCJicm9hZHBoYXNlIiwiYnREYnZ0QnJvYWRwaGFzZSIsInNvbHZlciIsImJ0U2VxdWVudGlhbEltcHVsc2VDb25zdHJhaW50U29sdmVyIiwiX3BoeXNpY3NXb3JsZCIsImJ0RGlzY3JldGVEeW5hbWljc1dvcmxkIiwic2V0R3Jhdml0eSIsImJ0VmVjdG9yMyIsIl92ZWN0b3JDYWNoZSIsIl90cmFuc2Zvcm1DYWNoZSIsImJ0VHJhbnNmb3JtIiwic3RhcnQiLCJhbW1vIiwiY2xlYXJDb2xvciIsImNsZWFyIiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJERVBUSF9URVNUIiwiZnJvbnRGYWNlIiwiQ0NXIiwiY3VsbEZhY2UiLCJCQUNLIiwidGltZSIsIl9zY2VuZSIsImdlbmVyYXRlQmFsbENvbGxpc2lvbiIsInRpbWVFbmQiLCJwZXJzcGVjdGl2ZSIsInRvUmFkaWFuIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwibG9vcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInByZXBhcmVMZXZlbCIsImhvbGUiLCJzZXRJZGVudGl0eSIsInNldE9yaWdpbiIsInNldFJvdGF0aW9uIiwiYnRRdWF0ZXJuaW9uIiwibW90aW9uU3RhdGUiLCJidERlZmF1bHRNb3Rpb25TdGF0ZSIsImJ0VHJpYW5nbGVNZXNoIiwic2V0U2NhbGluZyIsInNldFZhbHVlIiwiYWRkVHJpYW5nbGUiLCJzaGFwZSIsImJ0QnZoVHJpYW5nbGVNZXNoU2hhcGUiLCJsb2NhbEluZXJ0aWEiLCJyYkluZm8iLCJidFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm8iLCJidFJpZ2lkQm9keSIsInNldFJlc3RpdHV0aW9uIiwibWluQUFCQiIsIm1heEFBQkIiLCJnZXRBYWJiIiwiTGV2ZWxzIiwieCIsInkiLCJ6IiwiYWRkUmlnaWRCb2R5IiwiYnRDb252ZXhIdWxsU2hhcGUiLCJzZXRMb2NhbFNjYWxpbmciLCJhZGRQb2ludCIsInNldE1hcmdpbiIsImNvbFNoYXBlIiwiYnRTcGhlcmVTaGFwZSIsImNhbGN1bGF0ZUxvY2FsSW5lcnRpYSIsIl9zcGhlcmUiLCJzZXRDY2RNb3Rpb25UaHJlc2hvbGQiLCJzZXRDY2RTd2VwdFNwaGVyZVJhZGl1cyIsInNldERhbXBpbmciLCJwZXJzb25hbEJlc3QiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVzZXRCYWxsIiwidGFyZ2V0Iiwic2V0V29ybGRUcmFuc2Zvcm0iLCJnZXRNb3Rpb25TdGF0ZSIsInNldExpbmVhclZlbG9jaXR5Iiwic2V0QW5ndWxhclZlbG9jaXR5IiwiUkVBRFkiLCJpc0JhbGxJbkhvbGUiLCJBQUJCIiwid2lkdGgiLCJoZWlnaHQiLCJ2aWV3cG9ydCIsImlzQWN0aXZlIiwiYWN0aXZhdGUiLCJjb2RlIiwiREVCVUciLCJNT1ZJTkciLCJsb2ciLCJ1cCIsImtleUNvZGUiLCJTSE9PVElORyIsIkVuZ2luZSIsIk1BWF9GT1JDRSIsImFicyIsInN0ZXBTaW11bGF0aW9uIiwiVElNRV9TVEVQIiwiZ2V0V29ybGRUcmFuc2Zvcm0iLCJnZXRPcmlnaW4iLCJnZXRSb3RhdGlvbiIsInciLCJGSU5JU0hJTkciLCJzZXRJdGVtIiwiU3RyaW5nIiwiZ2V0TGluZWFyVmVsb2NpdHkiLCJkb3QiLCJnZXRBbmd1bGFyVmVsb2NpdHkiLCJsb29rQXQiLCJvbmxvYWQiXSwibWFwcGluZ3MiOiJhQUNFLFNBQVNBLEVBQXFCQyxHQVE3QixJQVBBLElBTUlDLEVBQVVDLEVBTlZDLEVBQVdILEVBQUssR0FDaEJJLEVBQWNKLEVBQUssR0FDbkJLLEVBQWlCTCxFQUFLLEdBSUhNLEVBQUksRUFBR0MsRUFBVyxHQUNwQ0QsRUFBSUgsRUFBU0ssT0FBUUYsSUFDekJKLEVBQVVDLEVBQVNHLEdBQ2hCRyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLQyxFQUFpQlgsSUFBWVcsRUFBZ0JYLElBQ3BGSyxFQUFTTyxLQUFLRCxFQUFnQlgsR0FBUyxJQUV4Q1csRUFBZ0JYLEdBQVcsRUFFNUIsSUFBSUQsS0FBWUcsRUFDWkssT0FBT0MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBYUgsS0FDcERjLEVBQVFkLEdBQVlHLEVBQVlILElBS2xDLElBRkdlLEdBQXFCQSxFQUFvQmhCLEdBRXRDTyxFQUFTQyxRQUNkRCxFQUFTVSxPQUFUVixHQU9ELE9BSEFXLEVBQWdCSixLQUFLSyxNQUFNRCxFQUFpQmIsR0FBa0IsSUFHdkRlLElBRVIsU0FBU0EsSUFFUixJQURBLElBQUlDLEVBQ0lmLEVBQUksRUFBR0EsRUFBSVksRUFBZ0JWLE9BQVFGLElBQUssQ0FHL0MsSUFGQSxJQUFJZ0IsRUFBaUJKLEVBQWdCWixHQUNqQ2lCLEdBQVksRUFDUkMsRUFBSSxFQUFHQSxFQUFJRixFQUFlZCxPQUFRZ0IsSUFBSyxDQUM5QyxJQUFJQyxFQUFRSCxFQUFlRSxHQUNHLElBQTNCWCxFQUFnQlksS0FBY0YsR0FBWSxHQUUzQ0EsSUFDRkwsRUFBZ0JRLE9BQU9wQixJQUFLLEdBQzVCZSxFQUFTTSxFQUFvQkEsRUFBb0JDLEVBQUlOLEVBQWUsS0FJdEUsT0FBT0QsRUFLUixJQUFJUSxFQUEwQkMsT0FBeUIsaUJBQ3ZEQSxPQUF5QixpQkFDekIsU0FB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UyxJQUFNLElBQ3hCeEIsRUFBU3dCLFNBQVMsSUFBTSxLQUloQyxJQUFLbUgsT0FBT2hULEtBQUt3SyxTQUFVSCxFQUFTd0IsU0FBVXhCLEVBQVN3RyxPQUFReEcsRUFBU3lILElBRXhFOVIsS0FBSzBOLE9BQU8zSSxLQUFLL0UsS0FBS3VLLFNBQVV2SyxLQUFLd0ssU0FBVUgsRUFBU3dCLFVBRXhEcUMsc0JBQXNCbE8sS0FBS2lPLE9BMVd4QixFQUFBb0UsVUFBWSxFQUFNLEdBQ2xCLEVBQUFILFVBQVksR0EyV3ZCLEVBN1dBLEcsNjBDRVZNLEVBQU8sRUFBUSxJQUVwQmplLE9BQWUwZCxPQUFRLEVBRXhCMWQsT0FBT2dmLE9BQVMscUQsd0NBQ1pwSyxFQUFHTSxLQUFLLFVBQVcsVUFDYnJDLEVBQVMsSUFBSSxFQUFPLFFBQzFCK0IsRUFBR3ZKLFdBQVd3SCxHQUNkK0IsRUFBR00sS0FBSyxVQUFXLGtCQUNuQixJQUFPNVEsTUFBSyxTQUFDaVEsR0FDVDFCLEVBQU9nRyxNQUFNdEUsTSxXQUlyQjNOLFFBQVFnWCxJQUFJLDBCIiwiZmlsZSI6ImpzL21haW4uYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG4gXHRmdW5jdGlvbiBob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRkZWxldGUgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0fVxuIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gd2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXTtcbiBcdHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVcIl0gPSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHRcdGlmIChwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0fSA7XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuIFx0XHRzY3JpcHQuY2hhcnNldCA9IFwidXRmLThcIjtcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIjtcbiBcdFx0aWYgKG51bGwpIHNjcmlwdC5jcm9zc09yaWdpbiA9IG51bGw7XG4gXHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KHJlcXVlc3RUaW1lb3V0KSB7XG4gXHRcdHJlcXVlc3RUaW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQgfHwgMTAwMDA7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XG4gXHRcdFx0fVxuIFx0XHRcdHRyeSB7XG4gXHRcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuIFx0XHRcdFx0dmFyIHJlcXVlc3RQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc29uXCI7XG4gXHRcdFx0XHRyZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgcmVxdWVzdFBhdGgsIHRydWUpO1xuIFx0XHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQ7XG4gXHRcdFx0XHRyZXF1ZXN0LnNlbmQobnVsbCk7XG4gXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KGVycik7XG4gXHRcdFx0fVxuIFx0XHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRpZiAocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XG4gXHRcdFx0XHRpZiAocmVxdWVzdC5zdGF0dXMgPT09IDApIHtcbiBcdFx0XHRcdFx0Ly8gdGltZW91dFxuIFx0XHRcdFx0XHRyZWplY3QoXG4gXHRcdFx0XHRcdFx0bmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKVxuIFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gNDA0KSB7XG4gXHRcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcbiBcdFx0XHRcdFx0cmVzb2x2ZSgpO1xuIFx0XHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LnN0YXR1cyAhPT0gMjAwICYmIHJlcXVlc3Quc3RhdHVzICE9PSAzMDQpIHtcbiBcdFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxuIFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHQvLyBzdWNjZXNzXG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuIFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG4gXHRcdFx0XHRcdFx0cmVqZWN0KGUpO1xuIFx0XHRcdFx0XHRcdHJldHVybjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRyZXNvbHZlKHVwZGF0ZSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCJlZTM1NjllNDUxM2VhNjI0OGRhOFwiO1xuIFx0dmFyIGhvdFJlcXVlc3RUaW1lb3V0ID0gMTAwMDA7XG4gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcbiBcdHZhciBob3RDdXJyZW50Q2hpbGRNb2R1bGU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHNUZW1wID0gW107XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0aWYgKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcbiBcdFx0XHRpZiAobWUuaG90LmFjdGl2ZSkge1xuIFx0XHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcbiBcdFx0XHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gcmVxdWVzdDtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpID09PSAtMSkge1xuIFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICtcbiBcdFx0XHRcdFx0XHRyZXF1ZXN0ICtcbiBcdFx0XHRcdFx0XHRcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgK1xuIFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHQpO1xuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XG4gXHRcdH07XG4gXHRcdHZhciBPYmplY3RGYWN0b3J5ID0gZnVuY3Rpb24gT2JqZWN0RmFjdG9yeShuYW1lKSB7XG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcbiBcdFx0XHRcdH0sXG4gXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9O1xuIFx0XHRmb3IgKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX193ZWJwYWNrX3JlcXVpcmVfXywgbmFtZSkgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwiZVwiICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcInRcIlxuIFx0XHRcdCkge1xuIFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCBPYmplY3RGYWN0b3J5KG5hbWUpKTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0Zm4uZSA9IGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90U3RhdHVzID09PSBcInJlYWR5XCIpIGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCkudGhlbihmaW5pc2hDaHVua0xvYWRpbmcsIGZ1bmN0aW9uKGVycikge1xuIFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XG4gXHRcdFx0XHR0aHJvdyBlcnI7XG4gXHRcdFx0fSk7XG5cbiBcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nLS07XG4gXHRcdFx0XHRpZiAoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xuIFx0XHRcdFx0XHRpZiAoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xuIFx0XHRcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fTtcbiBcdFx0Zm4udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdFx0aWYgKG1vZGUgJiAxKSB2YWx1ZSA9IGZuKHZhbHVlKTtcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy50KHZhbHVlLCBtb2RlICYgfjEpO1xuIFx0XHR9O1xuIFx0XHRyZXR1cm4gZm47XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBob3QgPSB7XG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxuIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcbiBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcbiBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcbiBcdFx0XHRfbWFpbjogaG90Q3VycmVudENoaWxkTW9kdWxlICE9PSBtb2R1bGVJZCxcblxuIFx0XHRcdC8vIE1vZHVsZSBBUElcbiBcdFx0XHRhY3RpdmU6IHRydWUsXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRpZiAoZGVwID09PSB1bmRlZmluZWQpIGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIikgaG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdFx0ZWxzZSBob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGVjbGluZTogZnVuY3Rpb24oZGVwKSB7XG4gXHRcdFx0XHRpZiAoZGVwID09PSB1bmRlZmluZWQpIGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XG4gXHRcdFx0fSxcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90Ll9kaXNwb3NlSGFuZGxlcnMuaW5kZXhPZihjYWxsYmFjayk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxuIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcbiBcdFx0XHRhcHBseTogaG90QXBwbHksXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRpZiAoIWwpIHJldHVybiBob3RTdGF0dXM7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZVN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXG4gXHRcdH07XG4gXHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHVuZGVmaW5lZDtcbiBcdFx0cmV0dXJuIGhvdDtcbiBcdH1cblxuIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XG4gXHR2YXIgaG90U3RhdHVzID0gXCJpZGxlXCI7XG5cbiBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcbiBcdFx0aG90U3RhdHVzID0gbmV3U3RhdHVzO1xuIFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGhvdFN0YXR1c0hhbmRsZXJzLmxlbmd0aDsgaSsrKVxuIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcbiBcdH1cblxuIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xuIFx0dmFyIGhvdENodW5rc0xvYWRpbmcgPSAwO1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90QXZhaWxhYmxlRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3REZWZlcnJlZDtcblxuIFx0Ly8gVGhlIHVwZGF0ZSBpbmZvXG4gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xuXG4gXHRmdW5jdGlvbiB0b01vZHVsZUlkKGlkKSB7XG4gXHRcdHZhciBpc051bWJlciA9ICtpZCArIFwiXCIgPT09IGlkO1xuIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHkpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHtcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcbiBcdFx0fVxuIFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XG4gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xuIFx0XHRyZXR1cm4gaG90RG93bmxvYWRNYW5pZmVzdChob3RSZXF1ZXN0VGltZW91dCkudGhlbihmdW5jdGlvbih1cGRhdGUpIHtcbiBcdFx0XHRpZiAoIXVwZGF0ZSkge1xuIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbiBcdFx0XHRcdHJldHVybiBudWxsO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdEF2YWlsYWJsZUZpbGVzTWFwID0gdXBkYXRlLmM7XG4gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVwZGF0ZS5oO1xuXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XG4gXHRcdFx0XHRcdHJlc29sdmU6IHJlc29sdmUsXG4gXHRcdFx0XHRcdHJlamVjdDogcmVqZWN0XG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xuIFx0XHRcdGZvcih2YXIgY2h1bmtJZCBpbiBpbnN0YWxsZWRDaHVua3MpXG4gXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvbmUtYmxvY2tzXG4gXHRcdFx0e1xuIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nID09PSAwICYmXG4gXHRcdFx0XHRob3RXYWl0aW5nRmlsZXMgPT09IDBcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxuIFx0XHRcdHJldHVybjtcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcbiBcdFx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmICgtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XG4gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XG4gXHRcdGlmICghZGVmZXJyZWQpIHJldHVybjtcbiBcdFx0aWYgKGhvdEFwcGx5T25VcGRhdGUpIHtcbiBcdFx0XHQvLyBXcmFwIGRlZmVycmVkIG9iamVjdCBpbiBQcm9taXNlIHRvIG1hcmsgaXQgYXMgYSB3ZWxsLWhhbmRsZWQgUHJvbWlzZSB0b1xuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxuIFx0XHRcdC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NjU2NjZcbiBcdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuIFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBob3RBcHBseShob3RBcHBseU9uVXBkYXRlKTtcbiBcdFx0XHRcdH0pXG4gXHRcdFx0XHQudGhlbihcbiBcdFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuIFx0XHRcdFx0XHR9LFxuIFx0XHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0KTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKVxuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiBcdFx0dmFyIGNiO1xuIFx0XHR2YXIgaTtcbiBcdFx0dmFyIGo7XG4gXHRcdHZhciBtb2R1bGU7XG4gXHRcdHZhciBtb2R1bGVJZDtcblxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG5cbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMubWFwKGZ1bmN0aW9uKGlkKSB7XG4gXHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcbiBcdFx0XHRcdFx0aWQ6IGlkXG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmICghbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZCkgY29udGludWU7XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG5cbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbiBcdFx0XHR9O1xuIFx0XHR9XG5cbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuIFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuIFx0XHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdC8qKiBAdHlwZSB7VE9ET30gKi9cbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcbiBcdFx0XHRcdGlmIChyZXN1bHQuY2hhaW4pIHtcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c3dpdGNoIChyZXN1bHQudHlwZSkge1xuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnBhcmVudElkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkFjY2VwdGVkKSBvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EaXNwb3NlZCkgb3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGFib3J0RXJyb3IpIHtcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdFx0XHRcdClcbiBcdFx0XHRcdFx0XHQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF1cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9EaXNwb3NlKSB7XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZCAmJlxuIFx0XHRcdFx0Ly8gcmVtb3ZlZCBzZWxmLWFjY2VwdGVkIG1vZHVsZXMgc2hvdWxkIG5vdCBiZSByZXF1aXJlZFxuIFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gIT09IHdhcm5VbmV4cGVjdGVkUmVxdWlyZVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0XHR9KTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdH0pO1xuXG4gXHRcdHZhciBpZHg7XG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xuIFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcblxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XG4gXHRcdFx0XHRjYihkYXRhKTtcbiBcdFx0XHR9XG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcblxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcblxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcbiBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XG4gXHRcdFx0XHRpZiAoIWNoaWxkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIHtcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xuIFx0XHRcdFx0XHRcdGlmIChpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm93IGluIFwiYXBwbHlcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcblxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXG4gXHRcdGZvciAobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcbiBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuIFx0XHRcdFx0XHRcdGlmIChjYikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrcy5pbmRleE9mKGNiKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4gXHRcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcbiBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZXJyMikge1xuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuIFx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbEVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnIyO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXG4gXHRcdGlmIChlcnJvcikge1xuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiBcdFx0fVxuXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDA6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFs2MiwxXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18odHJ1ZSk7XG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJAaW1wb3J0IHVybChodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9Um9ib3RvJmRpc3BsYXk9c3dhcCk7XCJdKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiaHRtbCxib2R5e21hcmdpbjowO3BhZGRpbmc6MDtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZC1jb2xvcjpibGFjazstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9aDEsaDIsaDMscHtjb2xvcjp3aGl0ZTtmb250LWZhbWlseTpSb2JvdG99I3NjcmVlbl9fbG9hZGluZ3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLCAtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsIC01MCUpO3RleHQtYWxpZ246Y2VudGVyfSNzY3JlZW5fX2xvYWRpbmcgaDF7Y29sb3I6I0ZGNTU1NTtmb250LXNpemU6Mi41ZW19I3NjcmVlbl9fbWVudXtwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6MTAwJX0jc2NyZWVuX19tZW51IC5zZWxlY3Rpb257cG9zaXRpb246YWJzb2x1dGU7bWFyZ2luLWxlZnQ6NDBweDt0b3A6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSl9I3NjcmVlbl9fbWVudSAuc2VsZWN0aW9uIGgxe21hcmdpbi10b3A6MDtmb250LXNpemU6NGVtO3RleHQtc2hhZG93OmJsYWNrIDJweCAycHg7Y29sb3I6I0ZGNTU1NX0jc2NyZWVuX19tZW51IC5zZWxlY3Rpb24gaDJ7bWFyZ2luOjVweCAwO2ZvbnQtc2l6ZToyZW07dGV4dC1zaGFkb3c6YmxhY2sgMXB4IDFweDstd2Via2l0LXRyYW5zaXRpb246YWxsIDAuMnMgZWFzZTt0cmFuc2l0aW9uOmFsbCAwLjJzIGVhc2V9I3NjcmVlbl9fbWVudSAuc2VsZWN0aW9uIGgyOmhvdmVye2NvbG9yOiNGRjU1NTU7Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KX0jc2NyZWVuX19tZW51IC5wYXJ0eXtwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tcmlnaHQ6MTVweDt3aWR0aDoyMDBweDtyaWdodDowO3RvcDowfSNzY3JlZW5fX21lbnUgLnBhcnR5IGgze21hcmdpbjo1cHggMH0jc2NyZWVuX19tZW51IC5wYXJ0eSBwe21hcmdpbjowO21hcmdpbi1sZWZ0OjVweH0jc2NyZWVuX19tZW51IC5wYXJ0eSAjcXVldWVUeXBle2NvbG9yOmxpZ2h0Ymx1ZX0jc2NyZWVuX19tZW51IC5wYXJ0eSAjcXVldWVTbG90c3tmbG9hdDpyaWdodH0jc2NyZWVuX19tZW51IC5jcmVkaXRze3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi1yaWdodDoxNXB4O3dpZHRoOjQwMHB4O3JpZ2h0OjA7Ym90dG9tOjA7dGV4dC1hbGlnbjpyaWdodH0jc2NyZWVuX19tZW51IC5jcmVkaXRzIGgxe21hcmdpbi10b3A6MDtmb250LXNpemU6MS4yZW07dGV4dC1zaGFkb3c6YmxhY2sgMnB4IDJweDttYXJnaW4tYm90dG9tOjNweH0jc2NyZWVuX19tZW51IC5jcmVkaXRzIGF7Y29sb3I6I0ZGNTU1NTt0ZXh0LWRlY29yYXRpb246bm9uZX0jc2NyZWVuX19nYW1lICNmb3JjZXtwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tcmlnaHQ6MTVweDttYXJnaW4tYm90dG9tOjE1cHg7cmlnaHQ6MDtib3R0b206MDtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC42KTt3aWR0aDo2MHB4O2hlaWdodDoyMTBweH0jc2NyZWVuX19nYW1lICNmb3JjZV9fdmFsdWV7d2lkdGg6NTBweDtoZWlnaHQ6MjAwcHg7bWFyZ2luLXRvcDo1cHg7bWFyZ2luLWxlZnQ6NXB4O2JhY2tncm91bmQ6cmdiYSgyNTUsODUsODUsMC44KTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZVkoMCk7dHJhbnNmb3JtOnNjYWxlWSgwKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46Ym90dG9tO3RyYW5zZm9ybS1vcmlnaW46Ym90dG9tfS5zY3JlZW57cG9zaXRpb246cmVsYXRpdmV9LnNjcmVlbiAjZ2FtZXt3aWR0aDoxMDB2dztoZWlnaHQ6MTAwdmg7ZGlzcGxheTpibG9ja30uc2NyZWVuICNvdmVybGF5e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO2NvbG9yOndoaXRlO3BhZGRpbmc6MWVtfS5zY3JlZW4gI292ZXJsYXkgLmNvcm5lcntwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tcmlnaHQ6MTVweDt3aWR0aDoyMDBweDtyaWdodDowO3RvcDowO3RleHQtYWxpZ246cmlnaHR9LnNjcmVlbiAjb3ZlcmxheSAuY29ybmVyIGgze21hcmdpbjo1cHggMDt0ZXh0LXNoYWRvdzpibGFjayAxcHggMXB4O2NvbG9yOiNGRjU1NTV9LnNjcmVlbiAjb3ZlcmxheSAuY29ybmVyIHB7bWFyZ2luOjA7bWFyZ2luLWxlZnQ6NXB4O3RleHQtc2hhZG93OmJsYWNrIDFweCAxcHh9I2RpYWxvZ3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLCAtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsIC01MCUpO3RleHQtYWxpZ246Y2VudGVyO2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjcpO3BhZGRpbmc6NXB4IDE1cHh9I2RpYWxvZyBoMntmb250LXNpemU6MS42ZW19I2RpYWxvZyBoMiBzcGFuey13ZWJraXQtdHJhbnNpdGlvbjpjb2xvciAwLjJzIGVhc2U7dHJhbnNpdGlvbjpjb2xvciAwLjJzIGVhc2V9I2RpYWxvZyBoMiBzcGFuOmhvdmVye2NvbG9yOiNGRjU1NTU7Y3Vyc29yOnBvaW50ZXJ9I2RpYWxvZ19feWVze3BhZGRpbmctcmlnaHQ6MTBweH0jZGlhbG9nX19ub3twYWRkaW5nLWxlZnQ6MTBweH0jZmxvd19fcGVyc29uYWwtYmVzdHtjb2xvcjpnb2xkfVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIkQ6L0dpdC9Ib2JiaWVzL21pbmlnb2xmL3NyYy9zdHlsZXMvc3R5bGVzLnNjc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQTJFLFVBQVUsUUFBUSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsc0JBQXNCLENBQUMsd0JBQXdCLENBQUMscUJBQXFCLENBQUMsb0JBQW9CLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxXQUFXLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsdUNBQXVDLENBQUMsK0JBQStCLENBQUMsaUJBQWlCLENBQUMsb0JBQW9CLGFBQWEsQ0FBQyxlQUFlLENBQUMsY0FBYyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMseUJBQXlCLGlCQUFpQixDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxrQ0FBa0MsQ0FBQywwQkFBMEIsQ0FBQyw0QkFBNEIsWUFBWSxDQUFDLGFBQWEsQ0FBQyx5QkFBeUIsQ0FBQyxhQUFhLENBQUMsNEJBQTRCLFlBQVksQ0FBQyxhQUFhLENBQUMseUJBQXlCLENBQUMsZ0NBQWdDLENBQUMsd0JBQXdCLENBQUMsa0NBQWtDLGFBQWEsQ0FBQyxjQUFjLENBQUMsa0NBQWtDLENBQUMsMEJBQTBCLENBQUMscUJBQXFCLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLHdCQUF3QixZQUFZLENBQUMsdUJBQXVCLFFBQVEsQ0FBQyxlQUFlLENBQUMsZ0NBQWdDLGVBQWUsQ0FBQyxpQ0FBaUMsV0FBVyxDQUFDLHVCQUF1QixpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQywwQkFBMEIsWUFBWSxDQUFDLGVBQWUsQ0FBQyx5QkFBeUIsQ0FBQyxpQkFBaUIsQ0FBQyx5QkFBeUIsYUFBYSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLDBCQUEwQixDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsNEJBQTRCLFVBQVUsQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQyw4QkFBOEIsQ0FBQywyQkFBMkIsQ0FBQyxtQkFBbUIsQ0FBQywrQkFBK0IsQ0FBQyx1QkFBdUIsQ0FBQyxRQUFRLGlCQUFpQixDQUFDLGNBQWMsV0FBVyxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsaUJBQWlCLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLHlCQUF5QixpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyw0QkFBNEIsWUFBWSxDQUFDLHlCQUF5QixDQUFDLGFBQWEsQ0FBQywyQkFBMkIsUUFBUSxDQUFDLGVBQWUsQ0FBQyx5QkFBeUIsQ0FBQyxRQUFRLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsdUNBQXVDLENBQUMsK0JBQStCLENBQUMsaUJBQWlCLENBQUMsMEJBQTBCLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxlQUFlLENBQUMsZ0JBQWdCLGtDQUFrQyxDQUFDLDBCQUEwQixDQUFDLHNCQUFzQixhQUFhLENBQUMsY0FBYyxDQUFDLGFBQWEsa0JBQWtCLENBQUMsWUFBWSxpQkFBaUIsQ0FBQyxxQkFBcUIsVUFBVVwiLFwiZmlsZVwiOlwic3R5bGVzLnNjc3NcIixcInNvdXJjZXNDb250ZW50XCI6W1wiQGltcG9ydCB1cmwoXFxcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1Sb2JvdG8mZGlzcGxheT1zd2FwXFxcIik7aHRtbCxib2R5e21hcmdpbjowO3BhZGRpbmc6MDtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZC1jb2xvcjpibGFjazstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9aDEsaDIsaDMscHtjb2xvcjp3aGl0ZTtmb250LWZhbWlseTpSb2JvdG99I3NjcmVlbl9fbG9hZGluZ3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLCAtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsIC01MCUpO3RleHQtYWxpZ246Y2VudGVyfSNzY3JlZW5fX2xvYWRpbmcgaDF7Y29sb3I6I0ZGNTU1NTtmb250LXNpemU6Mi41ZW19I3NjcmVlbl9fbWVudXtwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6MTAwJX0jc2NyZWVuX19tZW51IC5zZWxlY3Rpb257cG9zaXRpb246YWJzb2x1dGU7bWFyZ2luLWxlZnQ6NDBweDt0b3A6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSl9I3NjcmVlbl9fbWVudSAuc2VsZWN0aW9uIGgxe21hcmdpbi10b3A6MDtmb250LXNpemU6NGVtO3RleHQtc2hhZG93OmJsYWNrIDJweCAycHg7Y29sb3I6I0ZGNTU1NX0jc2NyZWVuX19tZW51IC5zZWxlY3Rpb24gaDJ7bWFyZ2luOjVweCAwO2ZvbnQtc2l6ZToyZW07dGV4dC1zaGFkb3c6YmxhY2sgMXB4IDFweDstd2Via2l0LXRyYW5zaXRpb246YWxsIDAuMnMgZWFzZTt0cmFuc2l0aW9uOmFsbCAwLjJzIGVhc2V9I3NjcmVlbl9fbWVudSAuc2VsZWN0aW9uIGgyOmhvdmVye2NvbG9yOiNGRjU1NTU7Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KX0jc2NyZWVuX19tZW51IC5wYXJ0eXtwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tcmlnaHQ6MTVweDt3aWR0aDoyMDBweDtyaWdodDowO3RvcDowfSNzY3JlZW5fX21lbnUgLnBhcnR5IGgze21hcmdpbjo1cHggMH0jc2NyZWVuX19tZW51IC5wYXJ0eSBwe21hcmdpbjowO21hcmdpbi1sZWZ0OjVweH0jc2NyZWVuX19tZW51IC5wYXJ0eSAjcXVldWVUeXBle2NvbG9yOmxpZ2h0Ymx1ZX0jc2NyZWVuX19tZW51IC5wYXJ0eSAjcXVldWVTbG90c3tmbG9hdDpyaWdodH0jc2NyZWVuX19tZW51IC5jcmVkaXRze3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi1yaWdodDoxNXB4O3dpZHRoOjQwMHB4O3JpZ2h0OjA7Ym90dG9tOjA7dGV4dC1hbGlnbjpyaWdodH0jc2NyZWVuX19tZW51IC5jcmVkaXRzIGgxe21hcmdpbi10b3A6MDtmb250LXNpemU6MS4yZW07dGV4dC1zaGFkb3c6YmxhY2sgMnB4IDJweDttYXJnaW4tYm90dG9tOjNweH0jc2NyZWVuX19tZW51IC5jcmVkaXRzIGF7Y29sb3I6I0ZGNTU1NTt0ZXh0LWRlY29yYXRpb246bm9uZX0jc2NyZWVuX19nYW1lICNmb3JjZXtwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tcmlnaHQ6MTVweDttYXJnaW4tYm90dG9tOjE1cHg7cmlnaHQ6MDtib3R0b206MDtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC42KTt3aWR0aDo2MHB4O2hlaWdodDoyMTBweH0jc2NyZWVuX19nYW1lICNmb3JjZV9fdmFsdWV7d2lkdGg6NTBweDtoZWlnaHQ6MjAwcHg7bWFyZ2luLXRvcDo1cHg7bWFyZ2luLWxlZnQ6NXB4O2JhY2tncm91bmQ6cmdiYSgyNTUsODUsODUsMC44KTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZVkoMCk7dHJhbnNmb3JtOnNjYWxlWSgwKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46Ym90dG9tO3RyYW5zZm9ybS1vcmlnaW46Ym90dG9tfS5zY3JlZW57cG9zaXRpb246cmVsYXRpdmV9LnNjcmVlbiAjZ2FtZXt3aWR0aDoxMDB2dztoZWlnaHQ6MTAwdmg7ZGlzcGxheTpibG9ja30uc2NyZWVuICNvdmVybGF5e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO2NvbG9yOndoaXRlO3BhZGRpbmc6MWVtfS5zY3JlZW4gI292ZXJsYXkgLmNvcm5lcntwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tcmlnaHQ6MTVweDt3aWR0aDoyMDBweDtyaWdodDowO3RvcDowO3RleHQtYWxpZ246cmlnaHR9LnNjcmVlbiAjb3ZlcmxheSAuY29ybmVyIGgze21hcmdpbjo1cHggMDt0ZXh0LXNoYWRvdzpibGFjayAxcHggMXB4O2NvbG9yOiNGRjU1NTV9LnNjcmVlbiAjb3ZlcmxheSAuY29ybmVyIHB7bWFyZ2luOjA7bWFyZ2luLWxlZnQ6NXB4O3RleHQtc2hhZG93OmJsYWNrIDFweCAxcHh9I2RpYWxvZ3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLCAtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsIC01MCUpO3RleHQtYWxpZ246Y2VudGVyO2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjcpO3BhZGRpbmc6NXB4IDE1cHh9I2RpYWxvZyBoMntmb250LXNpemU6MS42ZW19I2RpYWxvZyBoMiBzcGFuey13ZWJraXQtdHJhbnNpdGlvbjpjb2xvciAwLjJzIGVhc2U7dHJhbnNpdGlvbjpjb2xvciAwLjJzIGVhc2V9I2RpYWxvZyBoMiBzcGFuOmhvdmVye2NvbG9yOiNGRjU1NTU7Y3Vyc29yOnBvaW50ZXJ9I2RpYWxvZ19feWVze3BhZGRpbmctcmlnaHQ6MTBweH0jZGlhbG9nX19ub3twYWRkaW5nLWxlZnQ6MTBweH0jZmxvd19fcGVyc29uYWwtYmVzdHtjb2xvcjpnb2xkfVxcblwiXX1dKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/c291cmNlTWFwPXRydWUhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNS0zIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS01LTQhLi9zdHlsZXMuc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShtb2R1bGUuaWQsIGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuaWYgKG1vZHVsZS5ob3QpIHtcbiAgaWYgKCFjb250ZW50LmxvY2Fscykge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFxuICAgICAgXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzP3NvdXJjZU1hcD10cnVlIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTUtMyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNS00IS4vc3R5bGVzLnNjc3NcIixcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz9zb3VyY2VNYXA9dHJ1ZSEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS01LTMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTUtNCEuL3N0eWxlcy5zY3NzXCIpO1xuXG4gICAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50Ll9fZXNNb2R1bGUgPyBuZXdDb250ZW50LmRlZmF1bHQgOiBuZXdDb250ZW50O1xuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyBcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwiZXhwb3J0IGxldCBnbDogV2ViR0wyUmVuZGVyaW5nQ29udGV4dDtcclxuXHJcbmV4cG9ydCBjbGFzcyBXZWJHTCB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpbml0aWFsaXplKGVsZW1lbnRJZDogc3RyaW5nKTogSFRNTENhbnZhc0VsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCkgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICAgICAgaWYgKGNhbnZhcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGFzc2VkIGVsZW1lbnQgaXMgbm90IGEgdmFsaWQgY2FudmFzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInKTtcclxuICAgICAgICBpZiAoZ2wgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRW5naW5lIH0gZnJvbSBcIi4uL0VuZ2luZVwiO1xyXG5cclxuZW51bSBEaWFsb2dUeXBlIHtcclxuICAgIFlFU19OTywgT0tcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFVJIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgY3VycmVudFNjcmVlbiA9ICdsb2FkaW5nJztcclxuICAgIHByaXZhdGUgc3RhdGljIGVuZ2luZTogRW5naW5lO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZm9yY2VWYWx1ZTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGluaXRpYWxpemUoZW5naW5lKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnVfX3N0YXJ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NyZWVuKCdnYW1lJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLnJ1bigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51X19vcHRpb25zJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIE5vdCBpbXBsZW1lbnRlZCB5ZXRcclxuICAgICAgICAgICAgVUkuZGlhbG9nKCdUaGlzIGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQuJywgRGlhbG9nVHlwZS5PSywgd2luZG93LmNsb3NlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudV9fZXhpdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBVSS5kaWFsb2coJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBleGl0PycsIERpYWxvZ1R5cGUuWUVTX05PLCB3aW5kb3cuY2xvc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZm9yY2VWYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JjZV9fdmFsdWUnKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmbG93KGVsZW1lbnQ6IHN0cmluZywgaW5mb3JtYXRpb246IHN0cmluZykge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93X18nICsgZWxlbWVudCkuaW5uZXJUZXh0ID0gaW5mb3JtYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzY3JlZW4oZWxlbWVudDogc3RyaW5nKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbl9fJyArIFVJLmN1cnJlbnRTY3JlZW4pLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbl9fJyArIGVsZW1lbnQpLmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgIFVJLmN1cnJlbnRTY3JlZW4gPSBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZGlhbG9nKHRleHQ6IHN0cmluZywgdHlwZTogRGlhbG9nVHlwZSwgeWVzOiBGdW5jdGlvbikge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFsb2dfX3llc19ubycpLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpYWxvZ19fb2snKS5oaWRkZW4gPSB0cnVlO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlhbG9nX190ZXh0JykuaW5uZXJUZXh0ID0gdGV4dDtcclxuICAgICAgICBpZiAodHlwZSA9PT0gRGlhbG9nVHlwZS5ZRVNfTk8pIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpYWxvZ19feWVzX25vJykuaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFsb2dfX25vJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlhbG9nJykuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFsb2dfX3llcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgeWVzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gRGlhbG9nVHlwZS5PSykge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlhbG9nX19vaycpLmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlhbG9nX19va2F5JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlhbG9nJykuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFsb2cnKS5oaWRkZW4gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZvcmNlKHJhdGlvOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5mb3JjZVZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9yY2VWYWx1ZS5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVZKCcgKyByYXRpbyArICcpJztcclxuICAgICAgICAgICAgLy8gdGhpcy5mb3JjZVZhbHVlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICdzY2FsZVkoJyArIHJhdGlvICsgJyknO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IGdsIH0gZnJvbSAnLi9XZWJHTCc7XHJcblxyXG5pbnRlcmZhY2UgQXR0cmlidXRlIHtcclxuICAgIFtuYW1lOiBzdHJpbmddOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBVbmlmb3JtIHtcclxuICAgIFtuYW1lOiBzdHJpbmddOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNoYWRlciB7XHJcbiAgICBwcml2YXRlIF9wcm9ncmFtOiBXZWJHTFByb2dyYW07XHJcbiAgICBwcml2YXRlIF9hdHRyaWJ1dGVzOiBBdHRyaWJ1dGUgPSB7fTtcclxuICAgIHByaXZhdGUgX3VuaWZvcm1zOiBVbmlmb3JtID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSBfaGVhZGVycyA9ICcjdmVyc2lvbiAzMDAgZXNcXG5cXG4nO1xyXG5cclxuICAgIHByaXZhdGUgX3ZlcnRleFNvdXJjZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBfZnJhZ21lbnRTb3VyY2U6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IodmVydGV4U291cmNlOiBzdHJpbmcsIGZyYWdtZW50U291cmNlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLl92ZXJ0ZXhTb3VyY2UgPSB2ZXJ0ZXhTb3VyY2U7XHJcbiAgICAgICAgdGhpcy5fZnJhZ21lbnRTb3VyY2UgPSBmcmFnbWVudFNvdXJjZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVmaW5lKGhlYWRlcjogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5faGVhZGVycyArPSBcIiNkZWZpbmUgXCIgKyBoZWFkZXIgKyAnXFxuJztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYnVpbGQoKSB7XHJcbiAgICAgICAgY29uc3QgdmVydGV4U2hhZGVyID0gdGhpcy5sb2FkU2hhZGVyKHRoaXMuX2hlYWRlcnMgKyB0aGlzLl92ZXJ0ZXhTb3VyY2UsIGdsLlZFUlRFWF9TSEFERVIpO1xyXG4gICAgICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gdGhpcy5sb2FkU2hhZGVyKHRoaXMuX2hlYWRlcnMgKyB0aGlzLl9mcmFnbWVudFNvdXJjZSwgZ2wuRlJBR01FTlRfU0hBREVSKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcclxuXHJcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHRoaXMuX3Byb2dyYW0sIHZlcnRleFNoYWRlcik7XHJcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHRoaXMuX3Byb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcclxuXHJcbiAgICAgICAgZ2wubGlua1Byb2dyYW0odGhpcy5fcHJvZ3JhbSk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGxpbmtpbmcgZXJyb3JzXHJcbiAgICAgICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMuX3Byb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb2dyYW0gbGluayBmYWlsZWRcXG4ke2dsLmdldFByb2dyYW1JbmZvTG9nKHRoaXMuX3Byb2dyYW0pfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IGFsbCBhY3RpdmUgYXR0cmlidXRlcyBhbmQgcHV0IHRoZW0gaW50byBkaWN0aW9uYXJ5XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMuX3Byb2dyYW0sIGdsLkFDVElWRV9BVFRSSUJVVEVTKTsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZm86IFdlYkdMQWN0aXZlSW5mbyA9IGdsLmdldEFjdGl2ZUF0dHJpYih0aGlzLl9wcm9ncmFtLCBpKTtcclxuICAgICAgICAgICAgdGhpcy5fYXR0cmlidXRlc1tpbmZvLm5hbWVdID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5fcHJvZ3JhbSwgaW5mby5uYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdldCBhbGwgYWN0aXZlIHVuaWZvcm1zIGFuZCBwdXQgdGhlbSBpbnRvIGRpY3Rpb25hcnlcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fcHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZm86IFdlYkdMQWN0aXZlSW5mbyA9IGdsLmdldEFjdGl2ZVVuaWZvcm0odGhpcy5fcHJvZ3JhbSwgaSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3VuaWZvcm1zW2luZm8ubmFtZV0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5fcHJvZ3JhbSwgaW5mby5uYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVzZSgpIHtcclxuICAgICAgICBnbC51c2VQcm9ncmFtKHRoaXMuX3Byb2dyYW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdHRyaWJ1dGVMb2NhdGlvbihuYW1lOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLl9hdHRyaWJ1dGVzW25hbWVdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdHRyaWJ1dGUgbG9jYXRpb24gJyR7bmFtZX0nIG5vdCBmb3VuZGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fYXR0cmlidXRlc1tuYW1lXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VW5pZm9ybUxvY2F0aW9uKG5hbWU6IHN0cmluZyk6IFdlYkdMVW5pZm9ybUxvY2F0aW9uIHtcclxuICAgICAgICBpZiAodGhpcy5fdW5pZm9ybXNbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaWZvcm0gbG9jYXRpb24gJyR7bmFtZX0nIG5vdCBmb3VuZGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fdW5pZm9ybXNbbmFtZV07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkU2hhZGVyKHNvdXJjZTogc3RyaW5nLCBzaGFkZXJUeXBlOiBudW1iZXIpOiBXZWJHTFNoYWRlciB7XHJcbiAgICAgICAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHNoYWRlclR5cGUpO1xyXG5cclxuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xyXG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgY29tcGlsYXRpb24gZXJyb3JzXHJcbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTaGFkZXIgY29tcGlsYXRpb24gZmFpbGVkICgke3NoYWRlclR5cGUgPT09IGdsLlZFUlRFWF9TSEFERVIgPyAnVkVSVEVYX1NIQURFUicgOiAnRlJBR01FTlRfU0hBREVSJ30pXFxuJHtnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcil9YCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2hhZGVyO1xyXG4gICAgfVxyXG59IiwiLy8gUEJSIFNoYWRlciBieSBLaHJvbm9zIEdyb3VwIC0gbW9kaWZpZWQgYSBiaXQgZm9yIG91ciB1c2VcclxuXHJcbmV4cG9ydCBjb25zdCB2ZXJ0ZXhTb3VyY2UgPSBgXHJcbmxheW91dCAobG9jYXRpb24gPSAwKSBpbiB2ZWMzIGFQb3NpdGlvbjtcclxuI2lmZGVmIEhBU19OT1JNQUxTXHJcbmxheW91dCAobG9jYXRpb24gPSAxKSBpbiB2ZWMzIGFOb3JtYWxzO1xyXG5vdXQgdmVjMyB2Tm9ybWFscztcclxuI2VuZGlmXHJcbiNpZmRlZiBIQVNfVEVYQ09PUkRTXHJcbmxheW91dCAobG9jYXRpb24gPSAyKSBpbiB2ZWMyIGFUZXhDb29yZHM7XHJcbiNlbmRpZlxyXG4jaWZkZWYgSEFTX0NPTE9SU1xyXG5sYXlvdXQgKGxvY2F0aW9uID0gMykgaW4gdmVjNCBhQ29sb3I7XHJcbm91dCB2ZWM0IHZDb2xvcjtcclxuI2VuZGlmXHJcblxyXG51bmlmb3JtIG1hdDQgdVZpZXc7XHJcbnVuaWZvcm0gbWF0NCB1UHJvamVjdGlvbjtcclxudW5pZm9ybSBtYXQ0IHVNb2RlbDtcclxuXHJcbm91dCB2ZWMzIHZQb3NpdGlvbjtcclxub3V0IHZlYzIgdlRleENvb3JkcztcclxuXHJcbnZvaWQgbWFpbigpIHtcclxuICAgIHZlYzQgcG9zID0gdU1vZGVsICogdmVjNChhUG9zaXRpb24sIDEuMCk7XHJcbiAgICB2UG9zaXRpb24gPSB2ZWMzKHBvcy54eXopIC8gcG9zLnc7XHJcblxyXG4jaWZkZWYgSEFTX05PUk1BTFNcclxuI2lmZGVmIElTX1dBVEVSXHJcbiAgICB2Tm9ybWFscyA9IGFOb3JtYWxzO1xyXG4jZWxzZVxyXG4gICAgbWF0NCB1Tm9ybWFscyA9IHRyYW5zcG9zZShpbnZlcnNlKHVNb2RlbCkpO1xyXG4gICAgdk5vcm1hbHMgPSBub3JtYWxpemUodmVjMyh1Tm9ybWFscyAqIHZlYzQobm9ybWFsaXplKGFOb3JtYWxzKS54eXosIDEuMCkpKTtcclxuI2VuZGlmXHJcbiNlbmRpZlxyXG5cclxuICAgIHZUZXhDb29yZHMgPSB2ZWMyKDAuMCwgMC4wKTtcclxuI2lmZGVmIEhBU19URVhDT09SRFNcclxuICAgIHZUZXhDb29yZHMgPSBhVGV4Q29vcmRzO1xyXG4jZW5kaWZcclxuXHJcbiNpZmRlZiBIQVNfQ09MT1JTXHJcbiAgICB2Q29sb3IgPSBhQ29sb3I7XHJcbiNlbmRpZlxyXG5cclxuICAgIGdsX1Bvc2l0aW9uID0gdVByb2plY3Rpb24gKiB1VmlldyAqIHZlYzQoYVBvc2l0aW9uLCAxLjApO1xyXG59XHJcbmA7XHJcblxyXG5leHBvcnQgY29uc3QgZnVuY3Rpb25zID0gYFxyXG5jb25zdCBmbG9hdCBNX1BJID0gMy4xNDE1OTI2NTM1ODk3OTM7XHJcblxyXG5jb25zdCBmbG9hdCBjX01pblJlZmxlY3RhbmNlID0gMC4wNDtcclxuXHJcbnN0cnVjdCBBbmd1bGFySW5mb1xyXG57XHJcbiAgICBmbG9hdCBOZG90TDsgICAgICAgICAgICAgICAgICAvLyBjb3MgYW5nbGUgYmV0d2VlbiBub3JtYWwgYW5kIGxpZ2h0IGRpcmVjdGlvblxyXG4gICAgZmxvYXQgTmRvdFY7ICAgICAgICAgICAgICAgICAgLy8gY29zIGFuZ2xlIGJldHdlZW4gbm9ybWFsIGFuZCB2aWV3IGRpcmVjdGlvblxyXG4gICAgZmxvYXQgTmRvdEg7ICAgICAgICAgICAgICAgICAgLy8gY29zIGFuZ2xlIGJldHdlZW4gbm9ybWFsIGFuZCBoYWxmIHZlY3RvclxyXG4gICAgZmxvYXQgTGRvdEg7ICAgICAgICAgICAgICAgICAgLy8gY29zIGFuZ2xlIGJldHdlZW4gbGlnaHQgZGlyZWN0aW9uIGFuZCBoYWxmIHZlY3RvclxyXG5cclxuICAgIGZsb2F0IFZkb3RIOyAgICAgICAgICAgICAgICAgIC8vIGNvcyBhbmdsZSBiZXR3ZWVuIHZpZXcgZGlyZWN0aW9uIGFuZCBoYWxmIHZlY3RvclxyXG5cclxuICAgIHZlYzMgcGFkZGluZztcclxufTtcclxuXHJcbnZlYzQgZ2V0VmVydGV4Q29sb3IoKVxyXG57XHJcbiAgICB2ZWM0IGNvbG9yID0gdmVjNCgxLjAsIDEuMCwgMS4wLCAxLjApO1xyXG5cclxuI2lmZGVmIEhBU19DT0xPUlNcclxuICAgIGNvbG9yID0gdkNvbG9yO1xyXG4jZW5kaWZcclxuXHJcbiAgICByZXR1cm4gY29sb3I7XHJcbn1cclxuXHJcbnZlYzIgZ2V0Tm9ybWFsVVYoKVxyXG57XHJcbiAgICB2ZWMzIHV2ID0gdmVjMyh2VGV4Q29vcmRzLCAxLjApO1xyXG5cclxuICAgICNpZmRlZiBIQVNfTk9STUFMX1VWX1RSQU5TRk9STVxyXG4gICAgdXYgKj0gdV9Ob3JtYWxVVlRyYW5zZm9ybTtcclxuICAgICNlbmRpZlxyXG5cclxuICAgIHJldHVybiB1di54eTtcclxufVxyXG5cclxudmVjMyBnZXROb3JtYWwoKVxyXG57XHJcbiAgICB2ZWMyIFVWID0gZ2V0Tm9ybWFsVVYoKTtcclxuXHJcbiAgICAvLyBSZXRyaWV2ZSB0aGUgdGFuZ2VudCBzcGFjZSBtYXRyaXhcclxuI2lmbmRlZiBIQVNfVEFOR0VOVFNcclxuICAgIHZlYzMgcG9zX2R4ID0gZEZkeCh2UG9zaXRpb24pO1xyXG4gICAgdmVjMyBwb3NfZHkgPSBkRmR5KHZQb3NpdGlvbik7XHJcbiAgICB2ZWMzIHRleF9keCA9IGRGZHgodmVjMyhVViwgMC4wKSk7XHJcbiAgICB2ZWMzIHRleF9keSA9IGRGZHkodmVjMyhVViwgMC4wKSk7XHJcbiAgICB2ZWMzIHQgPSAodGV4X2R5LnQgKiBwb3NfZHggLSB0ZXhfZHgudCAqIHBvc19keSkgLyAodGV4X2R4LnMgKiB0ZXhfZHkudCAtIHRleF9keS5zICogdGV4X2R4LnQpO1xyXG5cclxuI2lmZGVmIEhBU19OT1JNQUxTXHJcbiAgICB2ZWMzIG5nID0gbm9ybWFsaXplKHZOb3JtYWxzKTtcclxuI2Vsc2VcclxuICAgIHZlYzMgbmcgPSBjcm9zcyhwb3NfZHgsIHBvc19keSk7XHJcbiNlbmRpZlxyXG5cclxuICAgIHQgPSBub3JtYWxpemUodCAtIG5nICogZG90KG5nLCB0KSk7XHJcbiAgICB2ZWMzIGIgPSBub3JtYWxpemUoY3Jvc3MobmcsIHQpKTtcclxuICAgIG1hdDMgdGJuID0gbWF0Myh0LCBiLCBuZyk7XHJcbiNlbHNlIC8vIEhBU19UQU5HRU5UU1xyXG4gICAgbWF0MyB0Ym4gPSB2X1RCTjtcclxuI2VuZGlmXHJcblxyXG4jaWZkZWYgSEFTX05PUk1BTF9NQVBcclxuICAgIHZlYzMgbiA9IHRleHR1cmUyRCh1X05vcm1hbFNhbXBsZXIsIFVWKS5yZ2I7XHJcbiAgICBuID0gbm9ybWFsaXplKHRibiAqICgoMi4wICogbiAtIDEuMCkgKiB2ZWMzKHVfTm9ybWFsU2NhbGUsIHVfTm9ybWFsU2NhbGUsIDEuMCkpKTtcclxuI2Vsc2VcclxuICAgIC8vIFRoZSB0Ym4gbWF0cml4IGlzIGxpbmVhcmx5IGludGVycG9sYXRlZCwgc28gd2UgbmVlZCB0byByZS1ub3JtYWxpemVcclxuICAgIHZlYzMgbiA9IG5vcm1hbGl6ZSh0Ym5bMl0ueHl6KTtcclxuI2VuZGlmXHJcblxyXG4gICAgcmV0dXJuIG47XHJcbn1cclxuXHJcbnZlYzMgZ2V0U3VyZmFjZSgpXHJcbntcclxuICAgIHZlYzIgVVYgPSBnZXROb3JtYWxVVigpO1xyXG5cclxuICAgIC8vIFJldHJpZXZlIHRoZSB0YW5nZW50IHNwYWNlIG1hdHJpeFxyXG4jaWZuZGVmIEhBU19UQU5HRU5UU1xyXG4gICAgdmVjMyBwb3NfZHggPSBkRmR4KHZQb3NpdGlvbik7XHJcbiAgICB2ZWMzIHBvc19keSA9IGRGZHkodlBvc2l0aW9uKTtcclxuICAgIHZlYzMgdGV4X2R4ID0gZEZkeCh2ZWMzKFVWLCAwLjApKTtcclxuICAgIHZlYzMgdGV4X2R5ID0gZEZkeSh2ZWMzKFVWLCAwLjApKTtcclxuICAgIHZlYzMgdCA9ICh0ZXhfZHkudCAqIHBvc19keCAtIHRleF9keC50ICogcG9zX2R5KSAvICh0ZXhfZHgucyAqIHRleF9keS50IC0gdGV4X2R5LnMgKiB0ZXhfZHgudCk7XHJcblxyXG4jaWZkZWYgSEFTX05PUk1BTFNcclxuICAgIHZlYzMgbmcgPSBub3JtYWxpemUodk5vcm1hbHMpO1xyXG4jZWxzZVxyXG4gICAgdmVjMyBuZyA9IGNyb3NzKHBvc19keCwgcG9zX2R5KTtcclxuI2VuZGlmXHJcblxyXG4gICAgdCA9IG5vcm1hbGl6ZSh0IC0gbmcgKiBkb3QobmcsIHQpKTtcclxuICAgIHZlYzMgYiA9IG5vcm1hbGl6ZShjcm9zcyhuZywgdCkpO1xyXG4gICAgbWF0MyB0Ym4gPSBtYXQzKHQsIGIsIG5nKTtcclxuI2Vsc2UgLy8gSEFTX1RBTkdFTlRTXHJcbiAgICBtYXQzIHRibiA9IHZfVEJOO1xyXG4jZW5kaWZcclxuXHJcbiAgICAvLyBUaGUgdGJuIG1hdHJpeCBpcyBsaW5lYXJseSBpbnRlcnBvbGF0ZWQsIHNvIHdlIG5lZWQgdG8gcmUtbm9ybWFsaXplXHJcbiAgICB2ZWMzIG4gPSBub3JtYWxpemUodGJuWzJdLnh5eik7XHJcblxyXG4gICAgcmV0dXJuIG47XHJcbn1cclxuXHJcbmZsb2F0IGdldFBlcmNlaXZlZEJyaWdodG5lc3ModmVjMyB2ZWN0b3IpXHJcbntcclxuICAgIHJldHVybiBzcXJ0KDAuMjk5ICogdmVjdG9yLnIgKiB2ZWN0b3IuciArIDAuNTg3ICogdmVjdG9yLmcgKiB2ZWN0b3IuZyArIDAuMTE0ICogdmVjdG9yLmIgKiB2ZWN0b3IuYik7XHJcbn1cclxuXHJcbkFuZ3VsYXJJbmZvIGdldEFuZ3VsYXJJbmZvKHZlYzMgcG9pbnRUb0xpZ2h0LCB2ZWMzIG5vcm1hbCwgdmVjMyB2aWV3KVxyXG57XHJcbiAgICAvLyBTdGFuZGFyZCBvbmUtbGV0dGVyIG5hbWVzXHJcbiAgICB2ZWMzIG4gPSBub3JtYWxpemUobm9ybWFsKTsgICAgICAgICAgIC8vIE91dHdhcmQgZGlyZWN0aW9uIG9mIHN1cmZhY2UgcG9pbnRcclxuICAgIHZlYzMgdiA9IG5vcm1hbGl6ZSh2aWV3KTsgICAgICAgICAgICAgLy8gRGlyZWN0aW9uIGZyb20gc3VyZmFjZSBwb2ludCB0byB2aWV3XHJcbiAgICB2ZWMzIGwgPSBub3JtYWxpemUocG9pbnRUb0xpZ2h0KTsgICAgIC8vIERpcmVjdGlvbiBmcm9tIHN1cmZhY2UgcG9pbnQgdG8gbGlnaHRcclxuICAgIHZlYzMgaCA9IG5vcm1hbGl6ZShsICsgdik7ICAgICAgICAgICAgLy8gRGlyZWN0aW9uIG9mIHRoZSB2ZWN0b3IgYmV0d2VlbiBsIGFuZCB2XHJcblxyXG4gICAgZmxvYXQgTmRvdEwgPSBjbGFtcChkb3QobiwgbCksIDAuMCwgMS4wKTtcclxuICAgIGZsb2F0IE5kb3RWID0gY2xhbXAoZG90KG4sIHYpLCAwLjAsIDEuMCk7XHJcbiAgICBmbG9hdCBOZG90SCA9IGNsYW1wKGRvdChuLCBoKSwgMC4wLCAxLjApO1xyXG4gICAgZmxvYXQgTGRvdEggPSBjbGFtcChkb3QobCwgaCksIDAuMCwgMS4wKTtcclxuICAgIGZsb2F0IFZkb3RIID0gY2xhbXAoZG90KHYsIGgpLCAwLjAsIDEuMCk7XHJcblxyXG4gICAgcmV0dXJuIEFuZ3VsYXJJbmZvKFxyXG4gICAgICAgIE5kb3RMLFxyXG4gICAgICAgIE5kb3RWLFxyXG4gICAgICAgIE5kb3RILFxyXG4gICAgICAgIExkb3RILFxyXG4gICAgICAgIFZkb3RILFxyXG4gICAgICAgIHZlYzMoMCwgMCwgMClcclxuICAgICk7XHJcbn1cclxuXHJcbmZsb2F0IGNsYW1wZWREb3QodmVjMyB4LCB2ZWMzIHkpXHJcbntcclxuICAgIHJldHVybiBjbGFtcChkb3QoeCwgeSksIDAuMCwgMS4wKTtcclxufVxyXG5gO1xyXG5cclxuZXhwb3J0IGNvbnN0IHRvbmVtYXBwaW5nID0gYFxyXG5jb25zdCBmbG9hdCBHQU1NQSA9IDIuMjtcclxuY29uc3QgZmxvYXQgSU5WX0dBTU1BID0gMS4wIC8gR0FNTUE7XHJcblxyXG4vLyBsaW5lYXIgdG8gc1JHQiBhcHByb3hpbWF0aW9uXHJcbi8vIHNlZSBodHRwOi8vY2hpbGxpYW50LmJsb2dzcG90LmNvbS8yMDEyLzA4L3NyZ2ItYXBwcm94aW1hdGlvbnMtZm9yLWhsc2wuaHRtbFxyXG52ZWMzIExJTkVBUnRvU1JHQih2ZWMzIGNvbG9yKVxyXG57XHJcbiAgICByZXR1cm4gcG93KGNvbG9yLCB2ZWMzKElOVl9HQU1NQSkpO1xyXG59XHJcblxyXG4vLyBzUkdCIHRvIGxpbmVhciBhcHByb3hpbWF0aW9uXHJcbi8vIHNlZSBodHRwOi8vY2hpbGxpYW50LmJsb2dzcG90LmNvbS8yMDEyLzA4L3NyZ2ItYXBwcm94aW1hdGlvbnMtZm9yLWhsc2wuaHRtbFxyXG52ZWM0IFNSR0J0b0xJTkVBUih2ZWM0IHNyZ2JJbilcclxue1xyXG4gICAgcmV0dXJuIHZlYzQocG93KHNyZ2JJbi54eXosIHZlYzMoR0FNTUEpKSwgc3JnYkluLncpO1xyXG59XHJcblxyXG4vLyBVbmNoYXJ0ZWQgMiB0b25lIG1hcFxyXG4vLyBzZWU6IGh0dHA6Ly9maWxtaWN3b3JsZHMuY29tL2Jsb2cvZmlsbWljLXRvbmVtYXBwaW5nLW9wZXJhdG9ycy9cclxudmVjMyB0b25lTWFwVW5jaGFydGVkMkltcGwodmVjMyBjb2xvcilcclxue1xyXG4gICAgY29uc3QgZmxvYXQgQSA9IDAuMTU7XHJcbiAgICBjb25zdCBmbG9hdCBCID0gMC41MDtcclxuICAgIGNvbnN0IGZsb2F0IEMgPSAwLjEwO1xyXG4gICAgY29uc3QgZmxvYXQgRCA9IDAuMjA7XHJcbiAgICBjb25zdCBmbG9hdCBFID0gMC4wMjtcclxuICAgIGNvbnN0IGZsb2F0IEYgPSAwLjMwO1xyXG4gICAgcmV0dXJuICgoY29sb3IqKEEqY29sb3IrQypCKStEKkUpLyhjb2xvciooQSpjb2xvcitCKStEKkYpKS1FL0Y7XHJcbn1cclxuXHJcbnZlYzMgdG9uZU1hcFVuY2hhcnRlZCh2ZWMzIGNvbG9yKVxyXG57XHJcbiAgICBjb25zdCBmbG9hdCBXID0gMTEuMjtcclxuICAgIGNvbG9yID0gdG9uZU1hcFVuY2hhcnRlZDJJbXBsKGNvbG9yICogMi4wKTtcclxuICAgIHZlYzMgd2hpdGVTY2FsZSA9IDEuMCAvIHRvbmVNYXBVbmNoYXJ0ZWQySW1wbCh2ZWMzKFcpKTtcclxuICAgIHJldHVybiBMSU5FQVJ0b1NSR0IoY29sb3IgKiB3aGl0ZVNjYWxlKTtcclxufVxyXG5cclxuLy8gSGVqbCBSaWNoYXJkIHRvbmUgbWFwXHJcbi8vIHNlZTogaHR0cDovL2ZpbG1pY3dvcmxkcy5jb20vYmxvZy9maWxtaWMtdG9uZW1hcHBpbmctb3BlcmF0b3JzL1xyXG52ZWMzIHRvbmVNYXBIZWpsUmljaGFyZCh2ZWMzIGNvbG9yKVxyXG57XHJcbiAgICBjb2xvciA9IG1heCh2ZWMzKDAuMCksIGNvbG9yIC0gdmVjMygwLjAwNCkpO1xyXG4gICAgcmV0dXJuIChjb2xvciooNi4yKmNvbG9yKy41KSkvKGNvbG9yKig2LjIqY29sb3IrMS43KSswLjA2KTtcclxufVxyXG5cclxuLy8gQUNFUyB0b25lIG1hcFxyXG4vLyBzZWU6IGh0dHBzOi8va25hcmtvd2ljei53b3JkcHJlc3MuY29tLzIwMTYvMDEvMDYvYWNlcy1maWxtaWMtdG9uZS1tYXBwaW5nLWN1cnZlL1xyXG52ZWMzIHRvbmVNYXBBQ0VTKHZlYzMgY29sb3IpXHJcbntcclxuICAgIGNvbnN0IGZsb2F0IEEgPSAyLjUxO1xyXG4gICAgY29uc3QgZmxvYXQgQiA9IDAuMDM7XHJcbiAgICBjb25zdCBmbG9hdCBDID0gMi40MztcclxuICAgIGNvbnN0IGZsb2F0IEQgPSAwLjU5O1xyXG4gICAgY29uc3QgZmxvYXQgRSA9IDAuMTQ7XHJcbiAgICByZXR1cm4gTElORUFSdG9TUkdCKGNsYW1wKChjb2xvciAqIChBICogY29sb3IgKyBCKSkgLyAoY29sb3IgKiAoQyAqIGNvbG9yICsgRCkgKyBFKSwgMC4wLCAxLjApKTtcclxufVxyXG5cclxudmVjMyB0b25lTWFwKHZlYzMgY29sb3IpXHJcbntcclxuICAgIGNvbG9yICo9IHVFeHBvc3VyZTtcclxuXHJcbiNpZmRlZiBUT05FTUFQX1VOQ0hBUlRFRFxyXG4gICAgcmV0dXJuIHRvbmVNYXBVbmNoYXJ0ZWQoY29sb3IpO1xyXG4jZW5kaWZcclxuXHJcbiNpZmRlZiBUT05FTUFQX0hFSkxSSUNIQVJEXHJcbiAgICByZXR1cm4gdG9uZU1hcEhlamxSaWNoYXJkKGNvbG9yKTtcclxuI2VuZGlmXHJcblxyXG4jaWZkZWYgVE9ORU1BUF9BQ0VTXHJcbiAgICByZXR1cm4gdG9uZU1hcEFDRVMoY29sb3IpO1xyXG4jZW5kaWZcclxuXHJcbiAgICByZXR1cm4gTElORUFSdG9TUkdCKGNvbG9yKTtcclxufVxyXG5gO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZyYWdtZW50U291cmNlID0gYFxyXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XHJcblxyXG5pbiB2ZWMzIHZQb3NpdGlvbjtcclxuaW4gdmVjMiB2VGV4Q29vcmRzO1xyXG5cclxuI2lmZGVmIEhBU19OT1JNQUxTXHJcbmluIHZlYzMgdk5vcm1hbHM7XHJcbiNlbmRpZlxyXG5cclxuI2lmZGVmIEhBU19DT0xPUlNcclxuaW4gdmVjNCB2Q29sb3I7XHJcbiNlbmRpZlxyXG5cclxudW5pZm9ybSB2ZWMzIHVDYW1lcmE7XHJcblxyXG51bmlmb3JtIGZsb2F0IHVNZXRhbGxpY0ZhY3RvcjtcclxudW5pZm9ybSBmbG9hdCB1Um91Z2huZXNzRmFjdG9yO1xyXG51bmlmb3JtIHZlYzQgdUJhc2VDb2xvckZhY3RvcjtcclxuXHJcbmZsb2F0IHVFeHBvc3VyZSA9IDEuMDtcclxuXHJcbiR7ZnVuY3Rpb25zfVxyXG4ke3RvbmVtYXBwaW5nfVxyXG5cclxub3V0IHZlYzQgb3V0Q29sb3I7XHJcblxyXG4vLyBLSFJfbGlnaHRzX3B1bmN0dWFsIGV4dGVuc2lvbi5cclxuLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9saWdodHNfcHVuY3R1YWxcclxuXHJcbnN0cnVjdCBMaWdodCB7XHJcbiAgICB2ZWMzIGRpcmVjdGlvbjtcclxuICAgIGZsb2F0IHJhbmdlO1xyXG5cclxuICAgIHZlYzMgY29sb3I7XHJcbiAgICBmbG9hdCBpbnRlbnNpdHk7XHJcblxyXG4gICAgdmVjMyBwb3NpdGlvbjtcclxuICAgIGZsb2F0IGlubmVyQ29uZUNvcztcclxuXHJcbiAgICBmbG9hdCBvdXRlckNvbmVDb3M7XHJcbiAgICBpbnQgdHlwZTtcclxuXHJcbiAgICB2ZWMyIHBhZGRpbmc7XHJcbn07XHJcblxyXG4vLyBTUEVDVUxBUkdMT1NTSU5FU1NcclxudW5pZm9ybSB2ZWMzIHVfU3BlY3VsYXJGYWN0b3I7XHJcbnVuaWZvcm0gdmVjNCB1X0RpZmZ1c2VGYWN0b3I7XHJcbnVuaWZvcm0gZmxvYXQgdV9HbG9zc2luZXNzRmFjdG9yO1xyXG5cclxuLy9TaGVlbiBleHRlbnNpb25cclxudW5pZm9ybSBmbG9hdCB1X1NoZWVuSW50ZW5zaXR5RmFjdG9yO1xyXG51bmlmb3JtIHZlYzMgdV9TaGVlbkNvbG9yRmFjdG9yO1xyXG51bmlmb3JtIGZsb2F0IHVfU2hlZW5Sb3VnaG5lc3M7XHJcblxyXG4vL0NsZWFyY29hdFxyXG51bmlmb3JtIGZsb2F0IHVfQ2xlYXJjb2F0RmFjdG9yO1xyXG51bmlmb3JtIGZsb2F0IHVfQ2xlYXJjb2F0Um91Z2huZXNzRmFjdG9yO1xyXG5cclxuLy8gQUxQSEFNT0RFX01BU0tcclxudW5pZm9ybSBmbG9hdCB1X0FscGhhQ3V0b2ZmO1xyXG5cclxudW5pZm9ybSBpbnQgdV9NaXBDb3VudDtcclxuXHJcbnZlYzQgZ2V0QmFzZUNvbG9yKClcclxue1xyXG4gICAgdmVjNCBiYXNlQ29sb3IgPSB2ZWM0KDEuMCwgMS4wLCAxLjAsIDEuMCk7XHJcblxyXG4gICAgI2lmIGRlZmluZWQoTUFURVJJQUxfU1BFQ1VMQVJHTE9TU0lORVNTKVxyXG4gICAgICAgIGJhc2VDb2xvciA9IHVfRGlmZnVzZUZhY3RvcjtcclxuICAgICNlbGlmIGRlZmluZWQoTUFURVJJQUxfTUVUQUxMSUNST1VHSE5FU1MpXHJcbiAgICAgICAgYmFzZUNvbG9yID0gdUJhc2VDb2xvckZhY3RvcjtcclxuICAgICNlbmRpZlxyXG5cclxuICAgICNpZiBkZWZpbmVkKE1BVEVSSUFMX1NQRUNVTEFSR0xPU1NJTkVTUykgJiYgZGVmaW5lZChIQVNfRElGRlVTRV9NQVApXHJcbiAgICAgICAgYmFzZUNvbG9yICo9IFNSR0J0b0xJTkVBUih0ZXh0dXJlKHVfRGlmZnVzZVNhbXBsZXIsIGdldERpZmZ1c2VVVigpKSk7XHJcbiAgICAjZWxpZiBkZWZpbmVkKE1BVEVSSUFMX01FVEFMTElDUk9VR0hORVNTKSAmJiBkZWZpbmVkKEhBU19CQVNFX0NPTE9SX01BUClcclxuICAgICAgICBiYXNlQ29sb3IgKj0gU1JHQnRvTElORUFSKHRleHR1cmUodV9CYXNlQ29sb3JTYW1wbGVyLCBnZXRCYXNlQ29sb3JVVigpKSk7XHJcbiAgICAjZW5kaWZcclxuXHJcbiAgICByZXR1cm4gYmFzZUNvbG9yICogZ2V0VmVydGV4Q29sb3IoKTtcclxufVxyXG5cclxuc3RydWN0IE1hdGVyaWFsSW5mb1xyXG57XHJcbiAgICBmbG9hdCBwZXJjZXB0dWFsUm91Z2huZXNzOyAgICAvLyByb3VnaG5lc3MgdmFsdWUsIGFzIGF1dGhvcmVkIGJ5IHRoZSBtb2RlbCBjcmVhdG9yIChpbnB1dCB0byBzaGFkZXIpXHJcbiAgICB2ZWMzIGYwOyAgICAgICAgICAgIC8vIGZ1bGwgcmVmbGVjdGFuY2UgY29sb3IgKG5vcm1hbCBpbmNpZGVuY2UgYW5nbGUpXHJcblxyXG4gICAgZmxvYXQgYWxwaGFSb3VnaG5lc3M7ICAgICAgICAgLy8gcm91Z2huZXNzIG1hcHBlZCB0byBhIG1vcmUgbGluZWFyIGNoYW5nZSBpbiB0aGUgcm91Z2huZXNzIChwcm9wb3NlZCBieSBbMl0pXHJcbiAgICB2ZWMzIGRpZmZ1c2VDb2xvcjsgICAgICAgICAgICAvLyBjb2xvciBjb250cmlidXRpb24gZnJvbSBkaWZmdXNlIGxpZ2h0aW5nXHJcblxyXG4gICAgdmVjMyBmOTA7ICAgICAgICAgICAvLyByZWZsZWN0YW5jZSBjb2xvciBhdCBncmF6aW5nIGFuZ2xlXHJcbiAgICB2ZWMzIHNwZWN1bGFyQ29sb3I7ICAgICAgICAgICAvLyBjb2xvciBjb250cmlidXRpb24gZnJvbSBzcGVjdWxhciBsaWdodGluZ1xyXG5cclxuICAgIHZlYzMgbm9ybWFsO1xyXG5cclxuICAgIHZlYzMgYmFzZUNvbG9yO1xyXG4gICAgZmxvYXQgc2hlZW5JbnRlbnNpdHk7XHJcbiAgICB2ZWMzIHNoZWVuQ29sb3I7XHJcbiAgICBmbG9hdCBzaGVlblJvdWdobmVzcztcclxuXHJcbiAgICBmbG9hdCBjbGVhcmNvYXRGYWN0b3I7XHJcbiAgICB2ZWMzIGNsZWFyY29hdE5vcm1hbDtcclxuICAgIGZsb2F0IGNsZWFyY29hdFJvdWdobmVzcztcclxufTtcclxuXHJcbi8vIExhbWJlcnQgbGlnaHRpbmdcclxuLy8gc2VlIGh0dHBzOi8vc2VibGFnYXJkZS53b3JkcHJlc3MuY29tLzIwMTIvMDEvMDgvcGktb3Itbm90LXRvLXBpLWluLWdhbWUtbGlnaHRpbmctZXF1YXRpb24vXHJcbnZlYzMgbGFtYmVydGlhbih2ZWMzIGRpZmZ1c2VDb2xvcilcclxue1xyXG4gICAgcmV0dXJuIGRpZmZ1c2VDb2xvciAvIE1fUEk7XHJcbn1cclxuXHJcbi8vIFRoZSBmb2xsb3dpbmcgZXF1YXRpb24gbW9kZWxzIHRoZSBGcmVzbmVsIHJlZmxlY3RhbmNlIHRlcm0gb2YgdGhlIHNwZWMgZXF1YXRpb24gKGFrYSBGKCkpXHJcbi8vIEltcGxlbWVudGF0aW9uIG9mIGZyZXNuZWwgZnJvbSBbNF0sIEVxdWF0aW9uIDE1XHJcbnZlYzMgZnJlc25lbFJlZmxlY3Rpb24odmVjMyBmMCwgdmVjMyBmOTAsIGZsb2F0IFZkb3RIKVxyXG57XHJcbiAgICByZXR1cm4gZjAgKyAoZjkwIC0gZjApICogcG93KGNsYW1wKDEuMCAtIFZkb3RILCAwLjAsIDEuMCksIDUuMCk7XHJcbn1cclxuXHJcbi8vIFNtaXRoIEpvaW50IEdHWFxyXG4vLyBOb3RlOiBWaXMgPSBHIC8gKDQgKiBOZG90TCAqIE5kb3RWKVxyXG4vLyBzZWUgRXJpYyBIZWl0ei4gMjAxNC4gVW5kZXJzdGFuZGluZyB0aGUgTWFza2luZy1TaGFkb3dpbmcgRnVuY3Rpb24gaW4gTWljcm9mYWNldC1CYXNlZCBCUkRGcy4gSm91cm5hbCBvZiBDb21wdXRlciBHcmFwaGljcyBUZWNobmlxdWVzLCAzXHJcbi8vIHNlZSBSZWFsLVRpbWUgUmVuZGVyaW5nLiBQYWdlIDMzMSB0byAzMzYuXHJcbi8vIHNlZSBodHRwczovL2dvb2dsZS5naXRodWIuaW8vZmlsYW1lbnQvRmlsYW1lbnQubWQuaHRtbCNtYXRlcmlhbHN5c3RlbS9zcGVjdWxhcmJyZGYvZ2VvbWV0cmljc2hhZG93aW5nKHNwZWN1bGFyZylcclxuZmxvYXQgdmlzaWJpbGl0eShmbG9hdCBOZG90TCwgZmxvYXQgTmRvdFYsIGZsb2F0IGFscGhhUm91Z2huZXNzKVxyXG57XHJcbiAgICBmbG9hdCBhbHBoYVJvdWdobmVzc1NxID0gYWxwaGFSb3VnaG5lc3MgKiBhbHBoYVJvdWdobmVzcztcclxuXHJcbiAgICBmbG9hdCBHR1hWID0gTmRvdEwgKiBzcXJ0KE5kb3RWICogTmRvdFYgKiAoMS4wIC0gYWxwaGFSb3VnaG5lc3NTcSkgKyBhbHBoYVJvdWdobmVzc1NxKTtcclxuICAgIGZsb2F0IEdHWEwgPSBOZG90ViAqIHNxcnQoTmRvdEwgKiBOZG90TCAqICgxLjAgLSBhbHBoYVJvdWdobmVzc1NxKSArIGFscGhhUm91Z2huZXNzU3EpO1xyXG5cclxuICAgIGZsb2F0IEdHWCA9IEdHWFYgKyBHR1hMO1xyXG4gICAgaWYgKEdHWCA+IDAuMClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gMC41IC8gR0dYO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDAuMDtcclxufVxyXG5cclxuLy8gVGhlIGZvbGxvd2luZyBlcXVhdGlvbihzKSBtb2RlbCB0aGUgZGlzdHJpYnV0aW9uIG9mIG1pY3JvZmFjZXQgbm9ybWFscyBhY3Jvc3MgdGhlIGFyZWEgYmVpbmcgZHJhd24gKGFrYSBEKCkpXHJcbi8vIEltcGxlbWVudGF0aW9uIGZyb20gXCJBdmVyYWdlIElycmVndWxhcml0eSBSZXByZXNlbnRhdGlvbiBvZiBhIFJvdWdoZW5lZCBTdXJmYWNlIGZvciBSYXkgUmVmbGVjdGlvblwiIGJ5IFQuIFMuIFRyb3dicmlkZ2UsIGFuZCBLLiBQLiBSZWl0elxyXG4vLyBGb2xsb3dzIHRoZSBkaXN0cmlidXRpb24gZnVuY3Rpb24gcmVjb21tZW5kZWQgaW4gdGhlIFNJR0dSQVBIIDIwMTMgY291cnNlIG5vdGVzIGZyb20gRVBJQyBHYW1lcyBbMV0sIEVxdWF0aW9uIDMuXHJcbmZsb2F0IG1pY3JvZmFjZXREaXN0cmlidXRpb24oZmxvYXQgTmRvdEgsIGZsb2F0IGFscGhhUm91Z2huZXNzKVxyXG57XHJcbiAgICBmbG9hdCBhbHBoYVJvdWdobmVzc1NxID0gYWxwaGFSb3VnaG5lc3MgKiBhbHBoYVJvdWdobmVzcztcclxuICAgIGZsb2F0IGYgPSAoTmRvdEggKiBOZG90SCkgKiAoYWxwaGFSb3VnaG5lc3NTcSAtIDEuMCkgKyAxLjA7XHJcbiAgICByZXR1cm4gYWxwaGFSb3VnaG5lc3NTcSAvIChNX1BJICogZiAqIGYpO1xyXG59XHJcblxyXG4vL1NoZWVuIGltcGxlbWVudGF0aW9uLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBTZWUgIGh0dHBzOi8vZ2l0aHViLmNvbS9zZWJhdmFuL2dsVEYvdHJlZS9LSFJfbWF0ZXJpYWxzX3NoZWVuL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc19zaGVlblxyXG5cclxuLy8gRXN0ZXZleiBhbmQgS3VsbGEgaHR0cDovL3d3dy5hY29udHkuY29tL3BkZi9zMjAxN19wYnNfaW1hZ2V3b3Jrc19zaGVlbi5wZGZcclxuZmxvYXQgQ2hhcmxpZURpc3RyaWJ1dGlvbihmbG9hdCBzaGVlblJvdWdobmVzcywgZmxvYXQgTmRvdEgpXHJcbntcclxuICAgIC8vZmxvYXQgYWxwaGFHID0gc2hlZW5Sb3VnaG5lc3MgKiBzaGVlblJvdWdobmVzcztcclxuICAgIGZsb2F0IGludlIgPSAxLjAgLyBzaGVlblJvdWdobmVzcztcclxuICAgIGZsb2F0IGNvczJoID0gTmRvdEggKiBOZG90SDtcclxuICAgIGZsb2F0IHNpbjJoID0gMS4wIC0gY29zMmg7XHJcbiAgICByZXR1cm4gKDIuMCArIGludlIpICogcG93KHNpbjJoLCBpbnZSICogMC41KSAvICgyLjAgKiBNX1BJKTtcclxufVxyXG5cclxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9maWxhbWVudC9ibG9iL21hc3Rlci9zaGFkZXJzL3NyYy9icmRmLmZzI0wxMzZcclxuZmxvYXQgTmV1YmVsdFZpc2liaWxpdHkoZmxvYXQgTmRvdEwsIGZsb2F0IE5kb3RWKVxyXG57XHJcbiAgICByZXR1cm4gY2xhbXAoMS4wIC8gKDQuMCAqIChOZG90TCArIE5kb3RWIC0gTmRvdEwgKiBOZG90VikpLDAuMCwxLjApO1xyXG59XHJcblxyXG52ZWMzIHNoZWVuTGF5ZXIodmVjMyBzaGVlbkNvbG9yLCBmbG9hdCBzaGVlbkludGVuc2l0eSwgZmxvYXQgc2hlZW5Sb3VnaG5lc3MsIGZsb2F0IE5kb3RMLCBmbG9hdCBOZG90ViwgZmxvYXQgTmRvdEgsIHZlYzMgZGlmZnVzZV90ZXJtKVxyXG57XHJcbiAgICBmbG9hdCBzaGVlbkRpc3RyaWJ1dGlvbiA9IENoYXJsaWVEaXN0cmlidXRpb24oc2hlZW5Sb3VnaG5lc3MsIE5kb3RIKTtcclxuICAgIGZsb2F0IHNoZWVuVmlzaWJpbGl0eSA9IE5ldWJlbHRWaXNpYmlsaXR5KE5kb3RMLCBOZG90Vik7XHJcbiAgICByZXR1cm4gc2hlZW5Db2xvciAqIHNoZWVuSW50ZW5zaXR5ICogc2hlZW5EaXN0cmlidXRpb24gKiBzaGVlblZpc2liaWxpdHkgKyAoMS4wIC0gc2hlZW5JbnRlbnNpdHkgKiBzaGVlbkRpc3RyaWJ1dGlvbiAqIHNoZWVuVmlzaWJpbGl0eSkgKiBkaWZmdXNlX3Rlcm07XHJcbn1cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tIENsZWFyY29hdCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXgzZC9nbFRGL3RyZWUvS0hSX21hdGVyaWFsc19wYnJDbGVhcmNvYXQvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX2NsZWFyY29hdFxyXG52ZWMzIGNsZWFyY29hdEJsZW5kaW5nKHZlYzMgY29sb3IsIHZlYzMgY2xlYXJjb2F0TGF5ZXIsIGZsb2F0IGNsZWFyY29hdEZhY3RvciwgZmxvYXQgTmRvdFYsIGZsb2F0IE5kb3RMLCBmbG9hdCBWZG90SClcclxue1xyXG4gICAgdmVjMyBmYWN0b3IwID0gKDEuMCAtIGNsZWFyY29hdEZhY3RvciAqIGZyZXNuZWxSZWZsZWN0aW9uKHZlYzMoMC4wNCksIHZlYzMoMS4wKSwgTmRvdFYpKSAqICgxLjAgLSBjbGVhcmNvYXRGYWN0b3IgKiBmcmVzbmVsUmVmbGVjdGlvbih2ZWMzKDAuMDQpLCB2ZWMzKDEuMCksIE5kb3RMKSk7XHJcbiAgICB2ZWMzIGZhY3RvcjEgPSBjbGVhcmNvYXRGYWN0b3IgKiBmcmVzbmVsUmVmbGVjdGlvbih2ZWMzKDAuMDQpLCB2ZWMzKDEuMCksIFZkb3RIKTtcclxuICAgIHJldHVybiBjb2xvciAqIGZhY3RvcjAgKyBjbGVhcmNvYXRMYXllciAqIGZhY3RvcjE7XHJcbn1cclxuXHJcblxyXG4vL2h0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNhY2tub3dsZWRnbWVudHMgQXBwZW5kaXhCXHJcbnZlYzMgZGlmZnVzZUJSREYodmVjMyBmMCwgdmVjMyBmOTAsIHZlYzMgZGlmZnVzZUNvbG9yLCBmbG9hdCBWZG90SClcclxue1xyXG4gICAgcmV0dXJuICgxLjAgLSBmcmVzbmVsUmVmbGVjdGlvbihmMCwgZjkwLCBWZG90SCkpICogbGFtYmVydGlhbihkaWZmdXNlQ29sb3IpO1xyXG59XHJcblxyXG4vLyAgaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI2Fja25vd2xlZGdtZW50cyBBcHBlbmRpeEJcclxudmVjMyBzcGVjdWxhck1pY3JvZmFjZXRCUkRGICh2ZWMzIGYwLCB2ZWMzIGY5MCwgZmxvYXQgYWxwaGFSb3VnaG5lc3MsIGZsb2F0IFZkb3RILCBmbG9hdCBOZG90TCwgZmxvYXQgTmRvdFYsIGZsb2F0IE5kb3RIKVxyXG57XHJcbiAgICB2ZWMzIEYgPSBmcmVzbmVsUmVmbGVjdGlvbihmMCwgZjkwLCBWZG90SCk7XHJcbiAgICBmbG9hdCBWaXMgPSB2aXNpYmlsaXR5KE5kb3RMLCBOZG90ViwgYWxwaGFSb3VnaG5lc3MpO1xyXG4gICAgZmxvYXQgRCA9IG1pY3JvZmFjZXREaXN0cmlidXRpb24oTmRvdEgsIGFscGhhUm91Z2huZXNzKTtcclxuXHJcbiAgICByZXR1cm4gRiAqIFZpcyAqIEQ7XHJcbn1cclxuXHJcbi8vIENhbGN1bGF0aW9uIG9mIHRoZSBsaWdodGluZyBjb250cmlidXRpb24gZnJvbSBhbiBvcHRpb25hbCBJbWFnZSBCYXNlZCBMaWdodCBzb3VyY2UuXHJcbi8vIFByZWNvbXB1dGVkIEVudmlyb25tZW50IE1hcHMgYXJlIHJlcXVpcmVkIHVuaWZvcm0gaW5wdXRzIGFuZCBhcmUgY29tcHV0ZWQgYXMgb3V0bGluZWQgaW4gWzFdLlxyXG4vLyBTZWUgb3VyIFJFQURNRS5tZCBvbiBFbnZpcm9ubWVudCBNYXBzIFszXSBmb3IgYWRkaXRpb25hbCBkaXNjdXNzaW9uLlxyXG4jaWZkZWYgVVNFX0lCTFxyXG52ZWMzIGdldElCTENvbnRyaWJ1dGlvbihNYXRlcmlhbEluZm8gbWF0ZXJpYWxJbmZvLCB2ZWMzIHYpXHJcbntcclxuICAgIGZsb2F0IE5kb3RWID0gY2xhbXAoZG90KG1hdGVyaWFsSW5mby5ub3JtYWwsIHYpLCAwLjAsIDEuMCk7XHJcblxyXG4gICAgZmxvYXQgbG9kID0gY2xhbXAobWF0ZXJpYWxJbmZvLnBlcmNlcHR1YWxSb3VnaG5lc3MgKiBmbG9hdCh1X01pcENvdW50KSwgMC4wLCBmbG9hdCh1X01pcENvdW50KSk7XHJcbiAgICB2ZWMzIHJlZmxlY3Rpb24gPSBub3JtYWxpemUocmVmbGVjdCgtdiwgbWF0ZXJpYWxJbmZvLm5vcm1hbCkpO1xyXG5cclxuICAgIHZlYzIgYnJkZlNhbXBsZVBvaW50ID0gY2xhbXAodmVjMihOZG90ViwgbWF0ZXJpYWxJbmZvLnBlcmNlcHR1YWxSb3VnaG5lc3MpLCB2ZWMyKDAuMCwgMC4wKSwgdmVjMigxLjAsIDEuMCkpO1xyXG4gICAgLy8gcmV0cmlldmUgYSBzY2FsZSBhbmQgYmlhcyB0byBGMC4gU2VlIFsxXSwgRmlndXJlIDNcclxuICAgIHZlYzIgYnJkZiA9IHRleHR1cmUodV9icmRmTFVULCBicmRmU2FtcGxlUG9pbnQpLnJnO1xyXG5cclxuICAgIHZlYzQgZGlmZnVzZVNhbXBsZSA9IHRleHR1cmUodV9EaWZmdXNlRW52U2FtcGxlciwgbWF0ZXJpYWxJbmZvLm5vcm1hbCk7XHJcbiAgICB2ZWM0IHNwZWN1bGFyU2FtcGxlID0gdGV4dHVyZUxvZCh1X1NwZWN1bGFyRW52U2FtcGxlciwgcmVmbGVjdGlvbiwgbG9kKTtcclxuXHJcbiNpZmRlZiBVU0VfSERSXHJcbiAgICAvLyBBbHJlYWR5IGxpbmVhci5cclxuICAgIHZlYzMgZGlmZnVzZUxpZ2h0ID0gZGlmZnVzZVNhbXBsZS5yZ2I7XHJcbiAgICB2ZWMzIHNwZWN1bGFyTGlnaHQgPSBzcGVjdWxhclNhbXBsZS5yZ2I7XHJcbiNlbHNlXHJcbiAgICB2ZWMzIGRpZmZ1c2VMaWdodCA9IFNSR0J0b0xJTkVBUihkaWZmdXNlU2FtcGxlKS5yZ2I7XHJcbiAgICB2ZWMzIHNwZWN1bGFyTGlnaHQgPSBTUkdCdG9MSU5FQVIoc3BlY3VsYXJTYW1wbGUpLnJnYjtcclxuI2VuZGlmXHJcblxyXG4gICAgdmVjMyBkaWZmdXNlID0gZGlmZnVzZUxpZ2h0ICogbWF0ZXJpYWxJbmZvLmRpZmZ1c2VDb2xvcjtcclxuICAgIHZlYzMgc3BlY3VsYXIgPSBzcGVjdWxhckxpZ2h0ICogKG1hdGVyaWFsSW5mby5zcGVjdWxhckNvbG9yICogYnJkZi54ICsgYnJkZi55KTtcclxuXHJcbiNpZmRlZiBNQVRFUklBTF9TSEVFTlxyXG4gICAgZmxvYXQgTmRvdEwgPSAgY2xhbXBlZERvdChtYXRlcmlhbEluZm8ubm9ybWFsLCByZWZsZWN0aW9uKTtcclxuICAgIHZlYzMgaCA9IG5vcm1hbGl6ZShyZWZsZWN0aW9uICsgdik7XHJcbiAgICBmbG9hdCBOZG90SCA9IGNsYW1wZWREb3QobWF0ZXJpYWxJbmZvLm5vcm1hbCwgaCk7XHJcbiAgICBkaWZmdXNlID0gc2hlZW5MYXllcihtYXRlcmlhbEluZm8uc2hlZW5Db2xvciwgbWF0ZXJpYWxJbmZvLnNoZWVuSW50ZW5zaXR5LCBtYXRlcmlhbEluZm8uc2hlZW5Sb3VnaG5lc3MsIE5kb3RMLCBOZG90ViwgTmRvdEgsIGRpZmZ1c2UpO1xyXG4jZW5kaWZcclxuXHJcbiNpZmRlZiBNQVRFUklBTF9DTEVBUkNPQVRcclxuICAgIE5kb3RWID0gY2xhbXAoZG90KG1hdGVyaWFsSW5mby5jbGVhcmNvYXROb3JtYWwsIHYpLCAwLjAsIDEuMCk7XHJcblxyXG4gICAgbG9kID0gY2xhbXAobWF0ZXJpYWxJbmZvLmNsZWFyY29hdFJvdWdobmVzcyAqIGZsb2F0KHVfTWlwQ291bnQpLCAwLjAsIGZsb2F0KHVfTWlwQ291bnQpKTtcclxuICAgIHJlZmxlY3Rpb24gPSBub3JtYWxpemUocmVmbGVjdCgtdiwgbWF0ZXJpYWxJbmZvLmNsZWFyY29hdE5vcm1hbCkpO1xyXG5cclxuICAgIGJyZGZTYW1wbGVQb2ludCA9IGNsYW1wKHZlYzIoTmRvdFYsIG1hdGVyaWFsSW5mby5jbGVhcmNvYXRSb3VnaG5lc3MpLCB2ZWMyKDAuMCwgMC4wKSwgdmVjMigxLjAsIDEuMCkpO1xyXG4gICAgLy8gcmV0cmlldmUgYSBzY2FsZSBhbmQgYmlhcyB0byBGMC4gU2VlIFsxXSwgRmlndXJlIDNcclxuICAgIGJyZGYgPSB0ZXh0dXJlKHVfYnJkZkxVVCwgYnJkZlNhbXBsZVBvaW50KS5yZztcclxuXHJcbiAgICBzcGVjdWxhclNhbXBsZSA9IHRleHR1cmVMb2QodV9TcGVjdWxhckVudlNhbXBsZXIsIHJlZmxlY3Rpb24sIGxvZCk7XHJcblxyXG4gICAgI2lmZGVmIFVTRV9IRFJcclxuICAgIC8vIEFscmVhZHkgbGluZWFyLlxyXG4gICAgICAgIHNwZWN1bGFyTGlnaHQgPSBzcGVjdWxhclNhbXBsZS5yZ2I7XHJcbiAgICAjZWxzZVxyXG4gICAgICAgIHNwZWN1bGFyTGlnaHQgPSBTUkdCdG9MSU5FQVIoc3BlY3VsYXJTYW1wbGUpLnJnYjtcclxuICAgICNlbmRpZlxyXG5cclxuICAgIGZsb2F0IE5kb3RMID0gIGNsYW1wZWREb3QobWF0ZXJpYWxJbmZvLmNsZWFyY29hdE5vcm1hbCwgcmVmbGVjdGlvbik7XHJcbiAgICB2ZWMzIGggPSBub3JtYWxpemUocmVmbGVjdGlvbiArIHYpO1xyXG4gICAgZmxvYXQgVmRvdEggPSBjbGFtcGVkRG90KHYsIGgpO1xyXG4gICAgdmVjMyBjbGVhcmNvYXRMYXllciA9IHNwZWN1bGFyTGlnaHQgKiAodmVjMygxLjApICogYnJkZi54ICsgYnJkZi55KTtcclxuICAgIHJldHVybiBjbGVhcmNvYXRCbGVuZGluZyhkaWZmdXNlICsgc3BlY3VsYXIsIGNsZWFyY29hdExheWVyLCBtYXRlcmlhbEluZm8uY2xlYXJjb2F0RmFjdG9yLCBOZG90ViwgIE5kb3RMLCBWZG90SCk7XHJcbiNlbmRpZlxyXG5cclxuICAgIHJldHVybiBkaWZmdXNlICsgc3BlY3VsYXI7XHJcbn1cclxuI2VuZGlmXHJcblxyXG5cclxudmVjMyBnZXRQb2ludFNoYWRlKHZlYzMgcG9pbnRUb0xpZ2h0LCBNYXRlcmlhbEluZm8gbWF0ZXJpYWxJbmZvLCB2ZWMzIHZpZXcpXHJcbntcclxuICAgIEFuZ3VsYXJJbmZvIGFuZ3VsYXJJbmZvID0gZ2V0QW5ndWxhckluZm8ocG9pbnRUb0xpZ2h0LCBtYXRlcmlhbEluZm8ubm9ybWFsLCB2aWV3KTtcclxuICAgIGlmIChhbmd1bGFySW5mby5OZG90TCA+IDAuMCB8fCBhbmd1bGFySW5mby5OZG90ViA+IDAuMClcclxuICAgIHtcclxuICAgICAgICAvLyBDYWxjdWxhdGlvbiBvZiBhbmFseXRpY2FsIGxpZ2hcclxuICAgICAgICAvL2h0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNhY2tub3dsZWRnbWVudHMgQXBwZW5kaXhCXHJcbiAgICAgICAgdmVjMyBkaWZmdXNlQ29udHJpYiA9IGRpZmZ1c2VCUkRGKG1hdGVyaWFsSW5mby5mMCwgbWF0ZXJpYWxJbmZvLmY5MCwgbWF0ZXJpYWxJbmZvLmRpZmZ1c2VDb2xvciwgYW5ndWxhckluZm8uVmRvdEgpO1xyXG4gICAgICAgIHZlYzMgc3BlY0NvbnRyaWIgPSBzcGVjdWxhck1pY3JvZmFjZXRCUkRGKG1hdGVyaWFsSW5mby5mMCwgbWF0ZXJpYWxJbmZvLmY5MCwgbWF0ZXJpYWxJbmZvLmFscGhhUm91Z2huZXNzLCBhbmd1bGFySW5mby5WZG90SCwgYW5ndWxhckluZm8uTmRvdEwsIGFuZ3VsYXJJbmZvLk5kb3RWLCBhbmd1bGFySW5mby5OZG90SCk7XHJcblxyXG4gICAgICAgIC8vIE9idGFpbiBmaW5hbCBpbnRlbnNpdHkgYXMgcmVmbGVjdGFuY2UgKEJSREYpIHNjYWxlZCBieSB0aGUgZW5lcmd5IG9mIHRoZSBsaWdodCAoY29zaW5lIGxhdylcclxuICAgICAgICByZXR1cm4gYW5ndWxhckluZm8uTmRvdEwgKiAoZGlmZnVzZUNvbnRyaWIgKyBzcGVjQ29udHJpYik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHZlYzMoMC4wLCAwLjAsIDAuMCk7XHJcbn1cclxuXHJcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9saWdodHNfcHVuY3R1YWwvUkVBRE1FLm1kI3JhbmdlLXByb3BlcnR5XHJcbmZsb2F0IGdldFJhbmdlQXR0ZW51YXRpb24oZmxvYXQgcmFuZ2UsIGZsb2F0IGRpc3RhbmNlKVxyXG57XHJcbiAgICBpZiAocmFuZ2UgPD0gMC4wKVxyXG4gICAge1xyXG4gICAgICAgIC8vIG5lZ2F0aXZlIHJhbmdlIG1lYW5zIHVubGltaXRlZFxyXG4gICAgICAgIHJldHVybiAxLjA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWF4KG1pbigxLjAgLSBwb3coZGlzdGFuY2UgLyByYW5nZSwgNC4wKSwgMS4wKSwgMC4wKSAvIHBvdyhkaXN0YW5jZSwgMi4wKTtcclxufVxyXG5cclxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX2xpZ2h0c19wdW5jdHVhbC9SRUFETUUubWQjaW5uZXItYW5kLW91dGVyLWNvbmUtYW5nbGVzXHJcbmZsb2F0IGdldFNwb3RBdHRlbnVhdGlvbih2ZWMzIHBvaW50VG9MaWdodCwgdmVjMyBzcG90RGlyZWN0aW9uLCBmbG9hdCBvdXRlckNvbmVDb3MsIGZsb2F0IGlubmVyQ29uZUNvcylcclxue1xyXG4gICAgZmxvYXQgYWN0dWFsQ29zID0gZG90KG5vcm1hbGl6ZShzcG90RGlyZWN0aW9uKSwgbm9ybWFsaXplKC1wb2ludFRvTGlnaHQpKTtcclxuICAgIGlmIChhY3R1YWxDb3MgPiBvdXRlckNvbmVDb3MpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKGFjdHVhbENvcyA8IGlubmVyQ29uZUNvcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBzbW9vdGhzdGVwKG91dGVyQ29uZUNvcywgaW5uZXJDb25lQ29zLCBhY3R1YWxDb3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMS4wO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDAuMDtcclxufVxyXG5cclxudmVjMyBhcHBseURpcmVjdGlvbmFsTGlnaHQoTGlnaHQgbGlnaHQsIE1hdGVyaWFsSW5mbyBtYXRlcmlhbEluZm8sIHZlYzMgdmlldylcclxue1xyXG4gICAgdmVjMyBwb2ludFRvTGlnaHQgPSAtbGlnaHQuZGlyZWN0aW9uO1xyXG4gICAgdmVjMyBzaGFkZSA9IGdldFBvaW50U2hhZGUocG9pbnRUb0xpZ2h0LCBtYXRlcmlhbEluZm8sIHZpZXcpO1xyXG4gICAgcmV0dXJuIGxpZ2h0LmludGVuc2l0eSAqIGxpZ2h0LmNvbG9yICogc2hhZGU7XHJcbn1cclxuXHJcbnZlYzMgYXBwbHlQb2ludExpZ2h0KExpZ2h0IGxpZ2h0LCBNYXRlcmlhbEluZm8gbWF0ZXJpYWxJbmZvLCB2ZWMzIHZpZXcpXHJcbntcclxuICAgIHZlYzMgcG9pbnRUb0xpZ2h0ID0gbGlnaHQucG9zaXRpb24gLSB2UG9zaXRpb247XHJcbiAgICBmbG9hdCBkaXN0YW5jZSA9IGxlbmd0aChwb2ludFRvTGlnaHQpO1xyXG4gICAgZmxvYXQgYXR0ZW51YXRpb24gPSBnZXRSYW5nZUF0dGVudWF0aW9uKGxpZ2h0LnJhbmdlLCBkaXN0YW5jZSk7XHJcbiAgICB2ZWMzIHNoYWRlID0gZ2V0UG9pbnRTaGFkZShwb2ludFRvTGlnaHQsIG1hdGVyaWFsSW5mbywgdmlldyk7XHJcbiAgICByZXR1cm4gYXR0ZW51YXRpb24gKiBsaWdodC5pbnRlbnNpdHkgKiBsaWdodC5jb2xvciAqIHNoYWRlO1xyXG59XHJcblxyXG52ZWMzIGFwcGx5U3BvdExpZ2h0KExpZ2h0IGxpZ2h0LCBNYXRlcmlhbEluZm8gbWF0ZXJpYWxJbmZvLCB2ZWMzIHZpZXcpXHJcbntcclxuICAgIHZlYzMgcG9pbnRUb0xpZ2h0ID0gbGlnaHQucG9zaXRpb24gLSB2UG9zaXRpb247XHJcbiAgICBmbG9hdCBkaXN0YW5jZSA9IGxlbmd0aChwb2ludFRvTGlnaHQpO1xyXG4gICAgZmxvYXQgcmFuZ2VBdHRlbnVhdGlvbiA9IGdldFJhbmdlQXR0ZW51YXRpb24obGlnaHQucmFuZ2UsIGRpc3RhbmNlKTtcclxuICAgIGZsb2F0IHNwb3RBdHRlbnVhdGlvbiA9IGdldFNwb3RBdHRlbnVhdGlvbihwb2ludFRvTGlnaHQsIGxpZ2h0LmRpcmVjdGlvbiwgbGlnaHQub3V0ZXJDb25lQ29zLCBsaWdodC5pbm5lckNvbmVDb3MpO1xyXG4gICAgdmVjMyBzaGFkZSA9IGdldFBvaW50U2hhZGUocG9pbnRUb0xpZ2h0LCBtYXRlcmlhbEluZm8sIHZpZXcpO1xyXG4gICAgcmV0dXJuIHJhbmdlQXR0ZW51YXRpb24gKiBzcG90QXR0ZW51YXRpb24gKiBsaWdodC5pbnRlbnNpdHkgKiBsaWdodC5jb2xvciAqIHNoYWRlO1xyXG59XHJcblxyXG52b2lkIG1haW4oKVxyXG57XHJcbiAgICB2ZWM0IGJhc2VDb2xvciA9IGdldEJhc2VDb2xvcigpO1xyXG5cclxuI2lmZGVmIEFMUEhBTU9ERV9NQVNLXHJcbiAgICBpZihiYXNlQ29sb3IuYSA8IHVfQWxwaGFDdXRvZmYpXHJcbiAgICB7XHJcbiAgICAgICAgZGlzY2FyZDtcclxuICAgIH1cclxuICAgIGJhc2VDb2xvci5hID0gMS4wO1xyXG4jZW5kaWZcclxuXHJcbiNpZmRlZiBBTFBIQU1PREVfQkxFTkRcclxuICAgIGJhc2VDb2xvci5hID0gMC45O1xyXG4jZWxzZVxyXG4gICAgYmFzZUNvbG9yLmEgPSAxLjA7XHJcbiNlbmRpZlxyXG5cclxuI2lmZGVmIE1BVEVSSUFMX1VOTElUXHJcbiAgICBvdXRDb2xvciA9ICh2ZWM0KExJTkVBUnRvU1JHQihiYXNlQ29sb3IucmdiKSwgYmFzZUNvbG9yLmEpKTtcclxuICAgIHJldHVybjtcclxuI2VuZGlmXHJcblxyXG4gICAgLy8gTWV0YWxsaWMgYW5kIFJvdWdobmVzcyBtYXRlcmlhbCBwcm9wZXJ0aWVzIGFyZSBwYWNrZWQgdG9nZXRoZXJcclxuICAgIC8vIEluIGdsVEYsIHRoZXNlIGZhY3RvcnMgY2FuIGJlIHNwZWNpZmllZCBieSBmaXhlZCBzY2FsYXIgdmFsdWVzXHJcbiAgICAvLyBvciBmcm9tIGEgbWV0YWxsaWMtcm91Z2huZXNzIG1hcFxyXG4gICAgZmxvYXQgcGVyY2VwdHVhbFJvdWdobmVzcyA9IDAuMDtcclxuICAgIGZsb2F0IG1ldGFsbGljID0gMC4wO1xyXG5cclxuICAgIHZlYzMgZGlmZnVzZUNvbG9yID0gdmVjMygwLjApO1xyXG4gICAgdmVjMyBzcGVjdWxhckNvbG9yID0gdmVjMygwLjApO1xyXG4gICAgdmVjMyBmMCA9IHZlYzMoMC4wNCk7XHJcblxyXG4gICAgdmVjNCBvdXRwdXRfY29sb3IgPSBiYXNlQ29sb3I7XHJcblxyXG4jaWZkZWYgTUFURVJJQUxfU1BFQ1VMQVJHTE9TU0lORVNTXHJcblxyXG4jaWZkZWYgSEFTX1NQRUNVTEFSX0dMT1NTSU5FU1NfTUFQXHJcbiAgICB2ZWM0IHNnU2FtcGxlID0gU1JHQnRvTElORUFSKHRleHR1cmUodV9TcGVjdWxhckdsb3NzaW5lc3NTYW1wbGVyLCBnZXRTcGVjdWxhckdsb3NzaW5lc3NVVigpKSk7XHJcbiAgICBwZXJjZXB0dWFsUm91Z2huZXNzID0gKDEuMCAtIHNnU2FtcGxlLmEgKiB1X0dsb3NzaW5lc3NGYWN0b3IpOyAvLyBnbG9zc2luZXNzIHRvIHJvdWdobmVzc1xyXG4gICAgZjAgPSBzZ1NhbXBsZS5yZ2IgKiB1X1NwZWN1bGFyRmFjdG9yOyAvLyBzcGVjdWxhclxyXG4jZWxzZVxyXG4gICAgZjAgPSB1X1NwZWN1bGFyRmFjdG9yO1xyXG4gICAgcGVyY2VwdHVhbFJvdWdobmVzcyA9IDEuMCAtIHVfR2xvc3NpbmVzc0ZhY3RvcjtcclxuI2VuZGlmIC8vICEgSEFTX1NQRUNVTEFSX0dMT1NTSU5FU1NfTUFQXHJcblxyXG4gICAgLy8gZjAgPSBzcGVjdWxhclxyXG4gICAgc3BlY3VsYXJDb2xvciA9IGYwO1xyXG4gICAgZmxvYXQgb25lTWludXNTcGVjdWxhclN0cmVuZ3RoID0gMS4wIC0gbWF4KG1heChmMC5yLCBmMC5nKSwgZjAuYik7XHJcbiAgICBkaWZmdXNlQ29sb3IgPSBiYXNlQ29sb3IucmdiICogb25lTWludXNTcGVjdWxhclN0cmVuZ3RoO1xyXG5cclxuI2VuZGlmIC8vICEgTUFURVJJQUxfU1BFQ1VMQVJHTE9TU0lORVNTXHJcblxyXG4jaWZkZWYgTUFURVJJQUxfTUVUQUxMSUNST1VHSE5FU1NcclxuXHJcbiNpZmRlZiBIQVNfTUVUQUxMSUNfUk9VR0hORVNTX01BUFxyXG4gICAgLy8gUm91Z2huZXNzIGlzIHN0b3JlZCBpbiB0aGUgJ2cnIGNoYW5uZWwsIG1ldGFsbGljIGlzIHN0b3JlZCBpbiB0aGUgJ2InIGNoYW5uZWwuXHJcbiAgICAvLyBUaGlzIGxheW91dCBpbnRlbnRpb25hbGx5IHJlc2VydmVzIHRoZSAncicgY2hhbm5lbCBmb3IgKG9wdGlvbmFsKSBvY2NsdXNpb24gbWFwIGRhdGFcclxuICAgIHZlYzQgbXJTYW1wbGUgPSB0ZXh0dXJlKHVfTWV0YWxsaWNSb3VnaG5lc3NTYW1wbGVyLCBnZXRNZXRhbGxpY1JvdWdobmVzc1VWKCkpO1xyXG4gICAgcGVyY2VwdHVhbFJvdWdobmVzcyA9IG1yU2FtcGxlLmcgKiB1Um91Z2huZXNzRmFjdG9yO1xyXG4gICAgbWV0YWxsaWMgPSBtclNhbXBsZS5iICogdU1ldGFsbGljRmFjdG9yO1xyXG4jZWxzZVxyXG4gICAgbWV0YWxsaWMgPSB1TWV0YWxsaWNGYWN0b3I7XHJcbiAgICBwZXJjZXB0dWFsUm91Z2huZXNzID0gdVJvdWdobmVzc0ZhY3RvcjtcclxuI2VuZGlmXHJcblxyXG4gICAgZGlmZnVzZUNvbG9yID0gYmFzZUNvbG9yLnJnYiAqICh2ZWMzKDEuMCkgLSBmMCkgKiAoMS4wIC0gbWV0YWxsaWMpO1xyXG4gICAgc3BlY3VsYXJDb2xvciA9IG1peChmMCwgYmFzZUNvbG9yLnJnYiwgbWV0YWxsaWMpO1xyXG4jZW5kaWYgLy8gISBNQVRFUklBTF9NRVRBTExJQ1JPVUdITkVTU1xyXG5cclxuICAgIE1hdGVyaWFsSW5mbyBtYXRlcmlhbEluZm87XHJcblxyXG4gICAgcGVyY2VwdHVhbFJvdWdobmVzcyA9IGNsYW1wKHBlcmNlcHR1YWxSb3VnaG5lc3MsIDAuMCwgMS4wKTtcclxuICAgIG1ldGFsbGljID0gY2xhbXAobWV0YWxsaWMsIDAuMCwgMS4wKTtcclxuXHJcbiAgICAvLyBSb3VnaG5lc3MgaXMgYXV0aG9yZWQgYXMgcGVyY2VwdHVhbCByb3VnaG5lc3M7IGFzIGlzIGNvbnZlbnRpb24sXHJcbiAgICAvLyBjb252ZXJ0IHRvIG1hdGVyaWFsIHJvdWdobmVzcyBieSBzcXVhcmluZyB0aGUgcGVyY2VwdHVhbCByb3VnaG5lc3MgWzJdLlxyXG4gICAgZmxvYXQgYWxwaGFSb3VnaG5lc3MgPSBwZXJjZXB0dWFsUm91Z2huZXNzICogcGVyY2VwdHVhbFJvdWdobmVzcztcclxuXHJcbiAgICAvLyBDb21wdXRlIHJlZmxlY3RhbmNlLlxyXG4gICAgZmxvYXQgcmVmbGVjdGFuY2UgPSBtYXgobWF4KHNwZWN1bGFyQ29sb3Iuciwgc3BlY3VsYXJDb2xvci5nKSwgc3BlY3VsYXJDb2xvci5iKTtcclxuXHJcbiAgICB2ZWMzIHNwZWN1bGFyRW52aXJvbm1lbnRSMCA9IHNwZWN1bGFyQ29sb3IucmdiO1xyXG4gICAgLy8gQW55dGhpbmcgbGVzcyB0aGFuIDIlIGlzIHBoeXNpY2FsbHkgaW1wb3NzaWJsZSBhbmQgaXMgaW5zdGVhZCBjb25zaWRlcmVkIHRvIGJlIHNoYWRvd2luZy4gQ29tcGFyZSB0byBcIlJlYWwtVGltZS1SZW5kZXJpbmdcIiA0dGggZWRpdG9uIG9uIHBhZ2UgMzI1LlxyXG4gICAgdmVjMyBzcGVjdWxhckVudmlyb25tZW50UjkwID0gdmVjMyhjbGFtcChyZWZsZWN0YW5jZSAqIDUwLjAsIDAuMCwgMS4wKSk7XHJcblxyXG4jaWZkZWYgTUFURVJJQUxfU0hFRU5cclxuICAgICNpZmRlZiBIQVNfU0hFRU5fQ09MT1JfSU5URU5TSVRZX1RFWFRVUkVfTUFQXHJcbiAgICAgICAgdmVjMyBzaGVlblNhbXBsZSA9IHRleHR1cmUodV9zaGVlbkNvbG9ySW50ZW5zaXR5U2FtcGxlciwgZ2V0U2hlZW5VVigpKTtcclxuICAgICAgICBtYXRlcmlhbEluZm8uc2hlZW5Db2xvciA9IHNoZWVuU2FtcGxlLnh5eiAqIHVfU2hlZW5Db2xvckZhY3RvcjtcclxuICAgICAgICBtYXRlcmlhbEluZm8uc2hlZW5JbnRlbnNpdHkgPSBzaGVlblNhbXBsZS53ICogdV9TaGVlbkludGVuc2l0eUZhY3RvcjtcclxuICAgICNlbHNlXHJcbiAgICAgICAgbWF0ZXJpYWxJbmZvLnNoZWVuQ29sb3IgPSB1X1NoZWVuQ29sb3JGYWN0b3I7XHJcbiAgICAgICAgbWF0ZXJpYWxJbmZvLnNoZWVuSW50ZW5zaXR5ID0gdV9TaGVlbkludGVuc2l0eUZhY3RvcjtcclxuICAgICNlbmRpZlxyXG4gICAgbWF0ZXJpYWxJbmZvLnNoZWVuUm91Z2huZXNzID0gdV9TaGVlblJvdWdobmVzcztcclxuI2VuZGlmXHJcblxyXG4jaWZkZWYgTUFURVJJQUxfQ0xFQVJDT0FUXHJcbiAgICAjaWZkZWYgSEFTX0NMRUFSQ09BVF9URVhUVVJFX01BUFxyXG4gICAgICAgIHZlYzQgY2NTYW1wbGUgPSB0ZXh0dXJlKHVfQ2xlYXJjb2F0U2FtcGxlciwgZ2V0Q2xlYXJjb2F0VVYoKSk7XHJcbiAgICAgICAgbWF0ZXJpYWxJbmZvLmNsZWFyY29hdEZhY3RvciA9IGNjU2FtcGxlLnIgKiB1X0NsZWFyY29hdEZhY3RvcjtcclxuICAgICNlbHNlXHJcbiAgICAgICAgbWF0ZXJpYWxJbmZvLmNsZWFyY29hdEZhY3RvciA9IHVfQ2xlYXJjb2F0RmFjdG9yO1xyXG4gICAgI2VuZGlmXHJcblxyXG4gICAgI2lmZGVmIEhBU19DTEVBUkNPQVRfUk9VR0hORVNTX01BUFxyXG4gICAgICAgIHZlYzQgY2NTYW1wbGVSb3VnaCA9IHRleHR1cmUodV9DbGVhcmNvYXRSb3VnaG5lc3NTYW1wbGVyLCBnZXRDbGVhcmNvYXRSb3VnaG5lc3NVVigpKTtcclxuICAgICAgICBtYXRlcmlhbEluZm8uY2xlYXJjb2F0Um91Z2huZXNzID0gY2NTYW1wbGVSb3VnaC5nICogdV9DbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3I7XHJcbiAgICAjZWxzZVxyXG4gICAgICAgIG1hdGVyaWFsSW5mby5jbGVhcmNvYXRSb3VnaG5lc3MgPSB1X0NsZWFyY29hdFJvdWdobmVzc0ZhY3RvcjtcclxuICAgICNlbmRpZlxyXG5cclxuICAgICNpZmRlZiBIQVNfQ0xFQVJDT0FUX05PUk1BTF9NQVBcclxuICAgICAgICB2ZWM0IGNjU2FtcGxlTm9yID0gdGV4dHVyZSh1X0NsZWFyY29hdE5vcm1hbFNhbXBsZXIsIGdldENsZWFyY29hdE5vcm1hbFVWKCkpO1xyXG4gICAgICAgIG1hdGVyaWFsSW5mby5jbGVhcmNvYXROb3JtYWwgPSBjY1NhbXBsZU5vci54eXo7XHJcbiAgICAjZWxzZVxyXG4gICAgICAgIG1hdGVyaWFsSW5mby5jbGVhcmNvYXROb3JtYWwgPSBnZXRTdXJmYWNlKCk7XHJcbiAgICAjZW5kaWZcclxuI2VuZGlmXHJcblxyXG4gICAgLy8gTElHSFRJTkdcclxuICAgIHZlYzMgY29sb3IgPSB2ZWMzKGJhc2VDb2xvci5yICogMC4xNSwgYmFzZUNvbG9yLmcgKiAwLjE1LCBiYXNlQ29sb3IuYiAqIDAuMTUpO1xyXG4gICAgdmVjMyBub3JtYWwgPSBnZXROb3JtYWwoKTtcclxuICAgIHZlYzMgdmlldyA9IG5vcm1hbGl6ZSh1Q2FtZXJhIC0gdlBvc2l0aW9uKTtcclxuXHJcbiAgICBtYXRlcmlhbEluZm8ucGVyY2VwdHVhbFJvdWdobmVzcyA9IHBlcmNlcHR1YWxSb3VnaG5lc3M7XHJcbiAgICBtYXRlcmlhbEluZm8uZjAgPSBzcGVjdWxhckVudmlyb25tZW50UjA7XHJcbiAgICBtYXRlcmlhbEluZm8uYWxwaGFSb3VnaG5lc3MgPSBhbHBoYVJvdWdobmVzcztcclxuICAgIG1hdGVyaWFsSW5mby5kaWZmdXNlQ29sb3IgPSBkaWZmdXNlQ29sb3I7XHJcbiAgICBtYXRlcmlhbEluZm8uZjkwID0gc3BlY3VsYXJFbnZpcm9ubWVudFI5MDtcclxuICAgIG1hdGVyaWFsSW5mby5zcGVjdWxhckNvbG9yID0gc3BlY3VsYXJDb2xvcjtcclxuICAgIG1hdGVyaWFsSW5mby5ub3JtYWwgPSBub3JtYWw7XHJcbiAgICBtYXRlcmlhbEluZm8uYmFzZUNvbG9yID0gYmFzZUNvbG9yLnJnYjtcclxuXHJcbi8qI2lmZGVmIFVTRV9QVU5DVFVBTFxyXG4gICAgZm9yIChpbnQgaSA9IDA7IGkgPCBMSUdIVF9DT1VOVDsgKytpKVxyXG4gICAge1xyXG4gICAgICAgIHZlYzMgbGlnaHRDb2xvciA9IHZlYzMoMCk7XHJcbiAgICAgICAgTGlnaHQgbGlnaHQgPSB1X0xpZ2h0c1tpXTtcclxuICAgICAgICBpZiAobGlnaHQudHlwZSA9PSBMaWdodFR5cGVfRGlyZWN0aW9uYWwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsaWdodENvbG9yICs9IGFwcGx5RGlyZWN0aW9uYWxMaWdodChsaWdodCwgbWF0ZXJpYWxJbmZvLCB2aWV3KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGlnaHQudHlwZSA9PSBMaWdodFR5cGVfUG9pbnQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsaWdodENvbG9yICs9IGFwcGx5UG9pbnRMaWdodChsaWdodCwgbWF0ZXJpYWxJbmZvLCB2aWV3KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGlnaHQudHlwZSA9PSBMaWdodFR5cGVfU3BvdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxpZ2h0Q29sb3IgKz0gYXBwbHlTcG90TGlnaHQobGlnaHQsIG1hdGVyaWFsSW5mbywgdmlldyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbG9yICs9IGxpZ2h0Q29sb3I7XHJcbiAgICB9XHJcbiNlbmRpZiovXHJcbiAgICAvL0xpZ2h0IGxpZ2h0MiA9IExpZ2h0KHZlYzMoLTAuOTI0MzkwMDE3OTg2Mjk3NiwgLTAuMzQ2ODQ1MDkwMzg5MjUxNywgMC4xNTg3NTA1NDg5NTg3NzgzOCksIDEwLjAsIHZlYzMoMSwgMC41Njk5OTU1ODIxMDM3MjkyLCAwLjIzOTU3NzA0MDA3NjI1NTgpLCA4LjAsIHZlYzMoMCwgMCwgNTAwKSwgMC4wLCAwLjc4NTM5NzUsIDAsIHZlYzIoMCwgMCkpO1xyXG4gICAgTGlnaHQgbGlnaHQgPSBMaWdodCh2ZWMzKC0wLjEyMjUyMjU3NzY0MzM5NDQ3LCAtMC42MjMwMTM2NzUyMTI4NjAxLCAtMC43NzI1NTU2NDkyODA1NDgxKSwgMTAuMCwgdmVjMygxLCAwLjU2OTk5NTU4MjEwMzcyOTIsIDAuMjM5NTc3MDQwMDc2MjU1OCksIDguMCwgdmVjMygwLCAwLCA1MDApLCAwLjAsIDAuNzg1Mzk3NSwgMCwgdmVjMigwLCAwKSk7XHJcbiAgICBjb2xvciArPSBhcHBseURpcmVjdGlvbmFsTGlnaHQobGlnaHQsIG1hdGVyaWFsSW5mbywgdmlldyk7XHJcbiAgICAvL2NvbG9yICs9IGFwcGx5RGlyZWN0aW9uYWxMaWdodChsaWdodDIsIG1hdGVyaWFsSW5mbywgdmlldyk7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIGxpZ2h0aW5nIGNvbnRyaWJ1dGlvbiBmcm9tIGltYWdlIGJhc2VkIGxpZ2h0aW5nIHNvdXJjZSAoSUJMKVxyXG4jaWZkZWYgVVNFX0lCTFxyXG4gICAgY29sb3IgKz0gZ2V0SUJMQ29udHJpYnV0aW9uKG1hdGVyaWFsSW5mbywgdmlldyk7XHJcbiNlbmRpZlxyXG5cclxuICAgIGZsb2F0IGFvID0gMS4wO1xyXG5cclxuICAgIC8vIEFwcGx5IG9wdGlvbmFsIFBCUiB0ZXJtcyBmb3IgYWRkaXRpb25hbCAob3B0aW9uYWwpIHNoYWRpbmdcclxuI2lmZGVmIEhBU19PQ0NMVVNJT05fTUFQXHJcbiAgICBhbyA9IHRleHR1cmUodV9PY2NsdXNpb25TYW1wbGVyLCAgZ2V0T2NjbHVzaW9uVVYoKSkucjtcclxuICAgIGNvbG9yID0gbWl4KGNvbG9yLCBjb2xvciAqIGFvLCB1X09jY2x1c2lvblN0cmVuZ3RoKTtcclxuI2VuZGlmXHJcblxyXG4gICAgdmVjMyBlbWlzc2l2ZSA9IHZlYzMoMCwgMCwgMCk7IC8vIHVfRW1pc3NpdmVGYWN0b3JcclxuI2lmZGVmIEhBU19FTUlTU0lWRV9NQVBcclxuICAgIGVtaXNzaXZlICo9IFNSR0J0b0xJTkVBUih0ZXh0dXJlKHVfRW1pc3NpdmVTYW1wbGVyLCBnZXRFbWlzc2l2ZVVWKCkpKS5yZ2I7XHJcbiNlbmRpZlxyXG4gICAgY29sb3IgKz0gZW1pc3NpdmU7XHJcblxyXG4jaWZuZGVmIERFQlVHX09VVFBVVCAvLyBubyBkZWJ1Z1xyXG5cclxuICAgIC8vIHJlZ3VsYXIgc2hhZGluZ1xyXG4gICAgb3V0cHV0X2NvbG9yID0gdmVjNCh0b25lTWFwKGNvbG9yKSwgYmFzZUNvbG9yLmEpO1xyXG5cclxuI2Vsc2UgLy8gZGVidWcgb3V0cHV0XHJcblxyXG4gICAgI2lmZGVmIERFQlVHX1JPVUdITkVTU1xyXG4gICAgICAgIG91dHB1dF9jb2xvci5yZ2IgPSB2ZWMzKHBlcmNlcHR1YWxSb3VnaG5lc3MpO1xyXG4gICAgI2VuZGlmXHJcblxyXG4gICAgI2lmZGVmIERFQlVHX05PUk1BTFxyXG4gICAgICAgICNpZmRlZiBIQVNfTk9STUFMX01BUFxyXG4gICAgICAgICAgICBvdXRwdXRfY29sb3IucmdiID0gdGV4dHVyZSh1X05vcm1hbFNhbXBsZXIsIGdldE5vcm1hbFVWKCkpLnJnYjtcclxuICAgICAgICAjZWxzZVxyXG4gICAgICAgICAgICBvdXRwdXRfY29sb3IucmdiID0gdmVjMygwLjUsIDAuNSwgMS4wKTtcclxuICAgICAgICAjZW5kaWZcclxuICAgICNlbmRpZlxyXG5cclxuICAgICNpZmRlZiBERUJVR19CQVNFQ09MT1JcclxuICAgICAgICBvdXRwdXRfY29sb3IucmdiID0gTElORUFSdG9TUkdCKGJhc2VDb2xvci5yZ2IpO1xyXG4gICAgI2VuZGlmXHJcblxyXG4gICAgI2lmZGVmIERFQlVHX09DQ0xVU0lPTlxyXG4gICAgICAgIG91dHB1dF9jb2xvci5yZ2IgPSB2ZWMzKGFvKTtcclxuICAgICNlbmRpZlxyXG5cclxuICAgICNpZmRlZiBERUJVR19FTUlTU0lWRVxyXG4gICAgICAgIG91dHB1dF9jb2xvci5yZ2IgPSBMSU5FQVJ0b1NSR0IoZW1pc3NpdmUpLnJnYjtcclxuICAgICNlbmRpZlxyXG5cclxuICAgICNpZmRlZiBERUJVR19GMFxyXG4gICAgICAgIG91dHB1dF9jb2xvci5yZ2IgPSB2ZWMzKGYwKTtcclxuICAgICNlbmRpZlxyXG5cclxuICAgICNpZmRlZiBERUJVR19BTFBIQVxyXG4gICAgICAgIG91dHB1dF9jb2xvci5yZ2IgPSB2ZWMzKGJhc2VDb2xvci5hKTtcclxuICAgICNlbmRpZlxyXG5cclxuICAgIG91dHB1dF9jb2xvci5hID0gMS4wO1xyXG5cclxuI2VuZGlmIC8vICFERUJVR19PVVRQVVRcclxuXHJcbiAgICBvdXRDb2xvciA9IG91dHB1dF9jb2xvcjtcclxufVxyXG5gOyIsImltcG9ydCB7IGdsIH0gZnJvbSBcIi4vV2ViR0xcIjtcclxuaW1wb3J0IHsgU2hhZGVyIH0gZnJvbSBcIi4vU2hhZGVyXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBCYXNpY1NoYWRlciBmcm9tICcuLi9zaGFkZXJzL0Jhc2ljJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQcmltaXRpdmUge1xyXG4gICAgcHJpdmF0ZSBfdmFvOiBXZWJHTFZlcnRleEFycmF5T2JqZWN0O1xyXG4gICAgcHJpdmF0ZSBfc2hhZGVyOiBTaGFkZXI7XHJcbiAgICBwcml2YXRlIF9pbmRpY2VzU2l6ZTogbnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgX3ZlcnRpY2VzOiBGbG9hdDMyQXJyYXk7XHJcbiAgICBwcml2YXRlIF9pbmRpY2VzOiBVaW50MTZBcnJheTtcclxuXHJcbiAgICBwcml2YXRlIF9kb3VibGVTaWRlZCA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBfYWxwaGFNb2RlID0gJ09QQVFVRSc7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHByaW1pdGl2ZTogYW55KSB7XHJcbiAgICAgICAgY29uc3QgdmVydGljZXMgPSBwcmltaXRpdmUuYXR0cmlidXRlcy5QT1NJVElPTjtcclxuICAgICAgICBjb25zdCBub3JtYWxzID0gcHJpbWl0aXZlLmF0dHJpYnV0ZXMuTk9STUFMO1xyXG4gICAgICAgIGNvbnN0IHRleGNvb3JkcyA9IHByaW1pdGl2ZS5hdHRyaWJ1dGVzLlRFWENPT1JEXzA7XHJcbiAgICAgICAgY29uc3QgY29sb3JzID0gcHJpbWl0aXZlLmF0dHJpYnV0ZXMuQ09MT1JfMDtcclxuICAgICAgICBjb25zdCBpbmRpY2VzID0gcHJpbWl0aXZlLmluZGljZXM7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBwcmltaXRpdmUubWF0ZXJpYWw7XHJcblxyXG4gICAgICAgIHRoaXMuX3ZlcnRpY2VzID0gdmVydGljZXMudmFsdWU7XHJcbiAgICAgICAgdGhpcy5faW5kaWNlcyA9IGluZGljZXMudmFsdWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyID0gbmV3IFNoYWRlcihCYXNpY1NoYWRlci52ZXJ0ZXhTb3VyY2UsIEJhc2ljU2hhZGVyLmZyYWdtZW50U291cmNlKTtcclxuICAgICAgICBpZiAobWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hhZGVyLmRlZmluZSgnSEFTX01BVEVSSUFMUycpO1xyXG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIuZGVmaW5lKCdNQVRFUklBTF9NRVRBTExJQ1JPVUdITkVTUycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmFvID0gZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtcclxuICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodGhpcy5fdmFvKTtcclxuXHJcbiAgICAgICAgLy8gUG9zaXRpb25cclxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSgwKTtcclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgZ2wuY3JlYXRlQnVmZmVyKCkpO1xyXG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoMCwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdmVydGljZXMudmFsdWUsIGdsLlNUQVRJQ19EUkFXKTtcclxuXHJcbiAgICAgICAgLy8gTm9ybWFsc1xyXG4gICAgICAgIHRoaXMuX3NoYWRlci5kZWZpbmUoJ0hBU19OT1JNQUxTJyk7XHJcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoMSk7XHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGdsLmNyZWF0ZUJ1ZmZlcigpKTtcclxuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKDEsIDMsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5vcm1hbHMudmFsdWUsIGdsLlNUQVRJQ19EUkFXKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dHVyZSBjb29yZGluYXRlc1xyXG4gICAgICAgIGlmICh0ZXhjb29yZHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hhZGVyLmRlZmluZSgnSEFTX1RFWENPT1JEUycpO1xyXG4gICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSgyKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGdsLmNyZWF0ZUJ1ZmZlcigpKTtcclxuICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcigyLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdGV4Y29vcmRzLnZhbHVlLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb2xvcnNcclxuICAgICAgICBpZiAoY29sb3JzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlci5kZWZpbmUoJ0hBU19DT0xPUlMnKTtcclxuICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoMyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBnbC5jcmVhdGVCdWZmZXIoKSk7XHJcbiAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoMywgNCwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGNvbG9ycy52YWx1ZSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSW5kaWNlc1xyXG4gICAgICAgIHRoaXMuX2luZGljZXNTaXplID0gaW5kaWNlcy5jb3VudDtcclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBnbC5jcmVhdGVCdWZmZXIoKSk7XHJcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaW5kaWNlcy52YWx1ZSwgZ2wuU1RBVElDX0RSQVcpO1xyXG5cclxuICAgICAgICBpZiAobWF0ZXJpYWwgJiYgbWF0ZXJpYWwuYWxwaGFNb2RlID09PSAnQkxFTkQnKSB7IC8vIEl0J3Mgd2F0ZXJcclxuICAgICAgICAgICAgdGhpcy5fc2hhZGVyLmRlZmluZSgnSVNfV0FURVInKTtcclxuICAgICAgICAgICAgdGhpcy5fc2hhZGVyLmRlZmluZSgnQUxQSEFNT0RFX0JMRU5EJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9zaGFkZXIuYnVpbGQoKTtcclxuICAgICAgICB0aGlzLl9zaGFkZXIudXNlKCk7XHJcblxyXG4gICAgICAgIGlmIChtYXRlcmlhbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kb3VibGVTaWRlZCA9IG1hdGVyaWFsLmRvdWJsZVNpZGVkO1xyXG4gICAgICAgICAgICB0aGlzLl9hbHBoYU1vZGUgPSBtYXRlcmlhbC5hbHBoYU1vZGU7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtZXRhbGxpY1JvdWdobmVzcyA9IG1hdGVyaWFsLnBick1ldGFsbGljUm91Z2huZXNzO1xyXG4gICAgICAgICAgICBpZiAobWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndUJhc2VDb2xvckZhY3RvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvclswXSxcclxuICAgICAgICAgICAgICAgICAgICBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3JbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvclszXVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZihcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFkZXIuZ2V0VW5pZm9ybUxvY2F0aW9uKCd1QmFzZUNvbG9yRmFjdG9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgMSwgMSwgMSwgMVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnbC51bmlmb3JtMWYodGhpcy5fc2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndU1ldGFsbGljRmFjdG9yJyksIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljRmFjdG9yKTtcclxuICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHRoaXMuX3NoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3VSb3VnaG5lc3NGYWN0b3InKSwgbWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFZlcnRpY2VzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92ZXJ0aWNlcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SW5kaWNlcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5kaWNlcztcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KHByb2plY3Rpb25NYXRyaXgsIHZpZXdNYXRyaXgsIG1vZGVsTWF0cml4LCBjYW1lcmFQb3NpdGlvbikge1xyXG4gICAgICAgIHRoaXMuX3NoYWRlci51c2UoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2RvdWJsZVNpZGVkKSB7XHJcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuQ1VMTF9GQUNFKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuQ1VMTF9GQUNFKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9hbHBoYU1vZGUgPT09ICdCTEVORCcpIHtcclxuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcclxuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jU2VwYXJhdGUoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xyXG4gICAgICAgICAgICBnbC5ibGVuZEVxdWF0aW9uKGdsLkZVTkNfQUREKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLkJMRU5EKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh0aGlzLl92YW8pO1xyXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5fc2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndVByb2plY3Rpb24nKSwgZmFsc2UsIHByb2plY3Rpb25NYXRyaXgpO1xyXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5fc2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndVZpZXcnKSwgZmFsc2UsIHZpZXdNYXRyaXgpO1xyXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5fc2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndU1vZGVsJyksIGZhbHNlLCBtb2RlbE1hdHJpeCk7XHJcbiAgICAgICAgZ2wudW5pZm9ybTNmKHRoaXMuX3NoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3VDYW1lcmEnKSwgY2FtZXJhUG9zaXRpb25bMF0sIGNhbWVyYVBvc2l0aW9uWzFdLCBjYW1lcmFQb3NpdGlvblsyXSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgdGhpcy5faW5kaWNlc1NpemUsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IGdsIH0gZnJvbSAnLi91dGlscy9XZWJHTCc7XHJcbmltcG9ydCB7IFNoYWRlciB9IGZyb20gJy4vdXRpbHMvU2hhZGVyJztcclxuXHJcbmltcG9ydCB7IG1hdDQgfSBmcm9tICdnbC1tYXRyaXgnO1xyXG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tICcuL3V0aWxzL1ByaW1pdGl2ZSc7XHJcblxyXG5jb25zdCBsb2FkID0gcmVxdWlyZSgnQGxvYWRlcnMuZ2wvY29yZScpLmxvYWQ7XHJcbmNvbnN0IEdMVEZMb2FkZXIgPSByZXF1aXJlKCdAbG9hZGVycy5nbC9nbHRmJykuR0xURkxvYWRlcjtcclxuXHJcbmNsYXNzIE5vZGUge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgc2hhZGVyOiBTaGFkZXI7XHJcblxyXG4gICAgdHJhbnNmb3JtOiBtYXQ0ID0gbWF0NC5jcmVhdGUoKTtcclxuXHJcbiAgICB2YW86IFdlYkdMVmVydGV4QXJyYXlPYmplY3QgPSBnbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO1xyXG4gICAgdGV4dHVyZTogV2ViR0xUZXh0dXJlO1xyXG4gICAgaW5kaWNlczogbnVtYmVyO1xyXG4gICAgcHJpbWl0aXZlczogQXJyYXk8UHJpbWl0aXZlPiA9IFtdO1xyXG5cclxuICAgIGRvdWJsZVNpZGVkID0gZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFbnRpdHkge1xyXG4gICAgcHJpdmF0ZSBfbm9kZXM6IEFycmF5PE5vZGU+ID0gW107XHJcbiAgICBwcml2YXRlIF9idWlsdCA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgX3ZpZXdNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG5cclxuICAgIHByaXZhdGUgX2JhbGxQb3NpdGlvbnM6IGFueSA9IFswLCAwLCAwXTtcclxuICAgIHByaXZhdGUgX2JhbGxSb3RhdGlvbnM6IGFueSA9IFswLCAwLCAwLCAxXTtcclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgaW5pdGlhbGl6ZSh1cmw6IHN0cmluZywgZW5naW5lKSB7XHJcbiAgICAgICAgY29uc3QgZ2x0ZiA9IGF3YWl0IGxvYWQodXJsLCBHTFRGTG9hZGVyLCB7XHJcbiAgICAgICAgICAgIHBhcnNlclZlcnNpb246IDIsXHJcbiAgICAgICAgICAgIHBvc3RQcm9jZXNzOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBhcnNlTm9kZXMoZ2x0Zi5zY2VuZS5ub2RlcywgZW5naW5lKTtcclxuICAgICAgICB0aGlzLl9idWlsdCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwYXJzZU5vZGVzKG9iamVjdHMsIGVuZ2luZSkge1xyXG4gICAgICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIG9iamVjdHMpIHtcclxuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOb2RlKCk7XHJcbiAgICAgICAgICAgIG5vZGUubmFtZSA9IG9iamVjdC5uYW1lO1xyXG4gICAgICAgICAgICB0aGlzLl9ub2Rlcy5wdXNoKG5vZGUpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgcm90YXRpb24gPSBvYmplY3Qucm90YXRpb24gfHwgWzAsIDAsIDAsIDFdO1xyXG4gICAgICAgICAgICBjb25zdCB0cmFuc2xhdGlvbiA9IG9iamVjdC50cmFuc2xhdGlvbiB8fCBbMCwgMCwgMF07XHJcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gb2JqZWN0LnNjYWxlIHx8IFsxLCAxLCAxXTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG1lc2ggPSBvYmplY3QubWVzaDtcclxuICAgICAgICAgICAgaWYgKG1lc2ggJiYgbWVzaC5wcmltaXRpdmVzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiBtZXNoLnByaW1pdGl2ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNoID0gbmV3IFByaW1pdGl2ZShwcmltaXRpdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5hbWUuaW5jbHVkZXMoJ2Rlc2thJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU21hbGwgb3B0aW1pc2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZ2luZS5nZW5lcmF0ZUNvbnZleENvbGxpc2lvbih0cmFuc2xhdGlvbiwgcm90YXRpb24sIHNjYWxlLCBtZXNoLmdldFZlcnRpY2VzKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS5uYW1lICE9PSAnR29sZl96b2dpY2EnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5hbWUuc3Vic3RyaW5nKDAsIDYpID09PSAnTHVrbmphJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5naW5lLmdlbmVyYXRlQ29uY2F2ZUNvbGxpc2lvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNoLmdldFZlcnRpY2VzKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzaC5nZXRJbmRpY2VzKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgK25vZGUubmFtZS5yZXBsYWNlKCdMdWtuamEnLCAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5naW5lLmdlbmVyYXRlQ29uY2F2ZUNvbGxpc2lvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNoLmdldFZlcnRpY2VzKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzaC5nZXRJbmRpY2VzKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5wcmltaXRpdmVzLnB1c2gobWVzaCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG1hdDQuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZShub2RlLnRyYW5zZm9ybSwgcm90YXRpb24sIHRyYW5zbGF0aW9uLCBzY2FsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoYmFsbFBvc2l0aW9ucywgYmFsbFJvdGF0aW9ucykge1xyXG4gICAgICAgIGlmICghdGhpcy5fYnVpbHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fYmFsbFBvc2l0aW9ucyA9IGJhbGxQb3NpdGlvbnM7XHJcbiAgICAgICAgdGhpcy5fYmFsbFJvdGF0aW9ucyA9IGJhbGxSb3RhdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcocHJvamVjdGlvbk1hdHJpeCwgd29ybGRNYXRyaXgsIGNhbWVyYVBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9idWlsdCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBtYXRyaXhTdGFjayA9IFtdO1xyXG5cclxuICAgICAgICBtYXQ0LmNvcHkodGhpcy5fdmlld01hdHJpeCwgd29ybGRNYXRyaXgpO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcy5fbm9kZXMpIHtcclxuICAgICAgICAgICAgbWF0cml4U3RhY2sucHVzaChtYXQ0LmNsb25lKHRoaXMuX3ZpZXdNYXRyaXgpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChub2RlLm5hbWUgPT09ICdHb2xmX3pvZ2ljYScpIHtcclxuICAgICAgICAgICAgICAgIG1hdDQuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZShcclxuICAgICAgICAgICAgICAgICAgICBub2RlLnRyYW5zZm9ybSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iYWxsUm90YXRpb25zLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JhbGxQb3NpdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgWzAuMDcwMjM3ODUyNjMyOTk5NDIsIDAuMDcwMjM3ODUyNjMyOTk5NDIsIDAuMDcwMjM3ODUyNjMyOTk5NDJdXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hdDQubXVsKHRoaXMuX3ZpZXdNYXRyaXgsIHRoaXMuX3ZpZXdNYXRyaXgsIG5vZGUudHJhbnNmb3JtKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJpbWl0aXZlIG9mIG5vZGUucHJpbWl0aXZlcykge1xyXG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlLmRyYXcocHJvamVjdGlvbk1hdHJpeCwgdGhpcy5fdmlld01hdHJpeCwgbm9kZS50cmFuc2Zvcm0sIGNhbWVyYVBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fdmlld01hdHJpeCA9IG1hdHJpeFN0YWNrLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFdlYkdMLCBnbCB9IGZyb20gJy4vdXRpbHMvV2ViR0wnO1xyXG5cclxuaW1wb3J0IHsgbWF0NCwgZ2xNYXRyaXggfSBmcm9tICdnbC1tYXRyaXgnO1xyXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tICcuL0VudGl0eSc7XHJcbmltcG9ydCB7IFVJIH0gZnJvbSAnLi91dGlscy9VSSc7XHJcbmltcG9ydCB7IExldmVscyB9IGZyb20gJy4vTGV2ZWxzJztcclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdmFyLXJlcXVpcmVzXHJcbmNvbnN0IGNvbnRyb2xzID0gcmVxdWlyZSgnb3JiaXQtY29udHJvbHMnKSgpO1xyXG5cclxubGV0IEFtbW86IGFueTtcclxuXHJcbmVudW0gU3RhdGUge1xyXG4gICAgV0FJVElORywgTU9WSU5HLCBSRUFEWSwgU0hPT1RJTkcsIEZJTklTSElOR1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRW5naW5lIHtcclxuICAgIHN0YXRpYyBUSU1FX1NURVAgPSAxLjAgLyA2MC4wO1xyXG4gICAgc3RhdGljIE1BWF9GT1JDRSA9IDUwO1xyXG5cclxuICAgIHByaXZhdGUgX3J1bm5pbmcgPSBmYWxzZTtcclxuXHJcbiAgICBwcml2YXRlIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG5cclxuICAgIHByaXZhdGUgX3NjZW5lOiBFbnRpdHk7XHJcbiAgICBwcml2YXRlIF9zcGhlcmU7XHJcblxyXG4gICAgcHJpdmF0ZSBfcE1hdHJpeDogbWF0NCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICBwcml2YXRlIF93TWF0cml4OiBtYXQ0ID0gbWF0NC5pZGVudGl0eShtYXQ0LmNyZWF0ZSgpKTtcclxuXHJcbiAgICBwcml2YXRlIF9waHlzaWNzV29ybGQ7XHJcbiAgICBwcml2YXRlIF90cmFuc2Zvcm1DYWNoZTtcclxuICAgIHByaXZhdGUgX3ZlY3RvckNhY2hlO1xyXG5cclxuICAgIHByaXZhdGUgX3N0YXRlID0gU3RhdGUuV0FJVElORztcclxuXHJcbiAgICBwcml2YXRlIF9jdXJyZW50Rm9yY2UgPSAwO1xyXG4gICAgcHJpdmF0ZSBfZm9yY2VEZWx0YSA9IDAuMDE7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGVsZW1lbnRJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fY2FudmFzID0gV2ViR0wuaW5pdGlhbGl6ZShlbGVtZW50SWQpO1xyXG5cclxuICAgICAgICB0aGlzLnJlc2l6ZSA9IHRoaXMucmVzaXplLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5rZXlwcmVzcyA9IHRoaXMua2V5cHJlc3MuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmtleXVwID0gdGhpcy5rZXl1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMua2V5ZG93biA9IHRoaXMua2V5ZG93bi5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHdpbmRvdy5vbnJlc2l6ZSA9IHRoaXMucmVzaXplO1xyXG4gICAgICAgIHdpbmRvdy5vbmtleXByZXNzID0gdGhpcy5rZXlwcmVzcztcclxuICAgICAgICB3aW5kb3cub25rZXl1cCA9IHRoaXMua2V5dXA7XHJcbiAgICAgICAgd2luZG93Lm9ua2V5ZG93biA9IHRoaXMua2V5ZG93bjtcclxuXHJcbiAgICAgICAgY29udHJvbHMuZGlzdGFuY2VCb3VuZHMgPSBbMS41LCAxNV07XHJcbiAgICAgICAgY29udHJvbHMucGhpQm91bmRzID0gWzAuMDAxLCBNYXRoLlBJIC8gMl07XHJcbiAgICAgICAgY29udHJvbHMuem9vbVNwZWVkID0gMC4wMDE7XHJcblxyXG4gICAgICAgIGNvbnRyb2xzLnBvc2l0aW9uID0gWy0xMDAsIDIwLCA4MF07XHJcblxyXG4gICAgICAgIHRoaXMucmVzaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0UGh5c2ljcygpIHtcclxuICAgICAgICBjb25zdCBjb2xsaXNpb25Db25maWd1cmF0aW9uID0gbmV3IEFtbW8uYnREZWZhdWx0Q29sbGlzaW9uQ29uZmlndXJhdGlvbigpO1xyXG4gICAgICAgIGNvbnN0IGRpc3BhdGNoZXIgPSBuZXcgQW1tby5idENvbGxpc2lvbkRpc3BhdGNoZXIoY29sbGlzaW9uQ29uZmlndXJhdGlvbik7XHJcbiAgICAgICAgY29uc3QgYnJvYWRwaGFzZSA9IG5ldyBBbW1vLmJ0RGJ2dEJyb2FkcGhhc2UoKTtcclxuICAgICAgICBjb25zdCBzb2x2ZXIgPSBuZXcgQW1tby5idFNlcXVlbnRpYWxJbXB1bHNlQ29uc3RyYWludFNvbHZlcigpO1xyXG4gICAgICAgIHRoaXMuX3BoeXNpY3NXb3JsZCA9IG5ldyBBbW1vLmJ0RGlzY3JldGVEeW5hbWljc1dvcmxkKGRpc3BhdGNoZXIsIGJyb2FkcGhhc2UsIHNvbHZlciwgY29sbGlzaW9uQ29uZmlndXJhdGlvbik7XHJcbiAgICAgICAgdGhpcy5fcGh5c2ljc1dvcmxkLnNldEdyYXZpdHkobmV3IEFtbW8uYnRWZWN0b3IzKDAsIC05LjgyLCAwKSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3ZlY3RvckNhY2hlID0gW25ldyBBbW1vLmJ0VmVjdG9yMygpLCBuZXcgQW1tby5idFZlY3RvcjMoKSwgbmV3IEFtbW8uYnRWZWN0b3IzKCldO1xyXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUNhY2hlID0gW25ldyBBbW1vLmJ0VHJhbnNmb3JtKCksIG5ldyBBbW1vLmJ0VHJhbnNmb3JtKCldO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzdGFydChhbW1vKSB7XHJcbiAgICAgICAgZ2wuY2xlYXJDb2xvcigwLjAsIDAuMCwgMC4wLCAxLjApO1xyXG4gICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTtcclxuICAgICAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7XHJcbiAgICAgICAgZ2wuZnJvbnRGYWNlKGdsLkNDVyk7XHJcbiAgICAgICAgZ2wuY3VsbEZhY2UoZ2wuQkFDSyk7XHJcblxyXG4gICAgICAgIEFtbW8gPSBhbW1vO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRQaHlzaWNzKCk7XHJcblxyXG4gICAgICAgIFVJLmZsb3coJ2xvYWRpbmcnLCAnU2NlbmUgYW5kIGNvbGxpc2lvbnMnKTtcclxuICAgICAgICBjb25zb2xlLnRpbWUoJ1NjZW5lIGFuZCBjb2xsaXNpb25zJyk7XHJcbiAgICAgICAgdGhpcy5fc2NlbmUgPSBuZXcgRW50aXR5KCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5fc2NlbmUuaW5pdGlhbGl6ZShcImFzc2V0cy9nb2xmX2NvdXJ0LmdsYlwiLCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUJhbGxDb2xsaXNpb24oKTtcclxuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ1NjZW5lIGFuZCBjb2xsaXNpb25zJyk7XHJcblxyXG4gICAgICAgIG1hdDQucGVyc3BlY3RpdmUodGhpcy5fcE1hdHJpeCwgZ2xNYXRyaXgudG9SYWRpYW4oNDUpLCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAxMDAwLjApO1xyXG5cclxuICAgICAgICBVSS5zY3JlZW4oJ21lbnUnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb29wID0gdGhpcy5sb29wLmJpbmQodGhpcyk7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMubG9vcCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJ1bigpIHtcclxuICAgICAgICB0aGlzLl9ydW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnByZXBhcmVMZXZlbCgpO1xyXG5cclxuICAgICAgICAvLyBSdW5uaW5nIG91dCBvZiB0aW1lLCBtYXliZSBsYXRlclxyXG4gICAgICAgIFVJLmRpYWxvZygnSG9sZCBTIHRvIHNob290IG9yIHByZXNzIFIgdG8gcmVzZXQuJywgMSwgdW5kZWZpbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2VuZXJhdGVDb25jYXZlQ29sbGlzaW9uKHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUsIHZlcnRpY2VzLCBpbmRpY2VzLCBob2xlID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBuZXcgQW1tby5idFRyYW5zZm9ybSgpO1xyXG4gICAgICAgIHRyYW5zZm9ybS5zZXRJZGVudGl0eSgpO1xyXG4gICAgICAgIHRyYW5zZm9ybS5zZXRPcmlnaW4obmV3IEFtbW8uYnRWZWN0b3IzKHBvc2l0aW9uWzBdLCBwb3NpdGlvblsxXSwgcG9zaXRpb25bMl0pKTtcclxuICAgICAgICB0cmFuc2Zvcm0uc2V0Um90YXRpb24obmV3IEFtbW8uYnRRdWF0ZXJuaW9uKHJvdGF0aW9uWzBdLCByb3RhdGlvblsxXSwgcm90YXRpb25bMl0sIHJvdGF0aW9uWzNdKSk7XHJcbiAgICAgICAgY29uc3QgbW90aW9uU3RhdGUgPSBuZXcgQW1tby5idERlZmF1bHRNb3Rpb25TdGF0ZSh0cmFuc2Zvcm0pO1xyXG5cclxuICAgICAgICBjb25zdCBtZXNoID0gbmV3IEFtbW8uYnRUcmlhbmdsZU1lc2g7XHJcbiAgICAgICAgbWVzaC5zZXRTY2FsaW5nKG5ldyBBbW1vLmJ0VmVjdG9yMyhzY2FsZVswXSwgc2NhbGVbMV0sIHNjYWxlWzJdKSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRpY2VzLmxlbmd0aCAvIDM7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCBhID0gaW5kaWNlc1tpICogMyArIDBdO1xyXG4gICAgICAgICAgICBjb25zdCBiID0gaW5kaWNlc1tpICogMyArIDFdO1xyXG4gICAgICAgICAgICBjb25zdCBjID0gaW5kaWNlc1tpICogMyArIDJdO1xyXG4gICAgICAgICAgICB0aGlzLl92ZWN0b3JDYWNoZVswXS5zZXRWYWx1ZSh2ZXJ0aWNlc1thICogMyArIDBdLCB2ZXJ0aWNlc1thICogMyArIDFdLCB2ZXJ0aWNlc1thICogMyArIDJdKTtcclxuICAgICAgICAgICAgdGhpcy5fdmVjdG9yQ2FjaGVbMV0uc2V0VmFsdWUodmVydGljZXNbYiAqIDMgKyAwXSwgdmVydGljZXNbYiAqIDMgKyAxXSwgdmVydGljZXNbYiAqIDMgKyAyXSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlY3RvckNhY2hlWzJdLnNldFZhbHVlKHZlcnRpY2VzW2MgKiAzICsgMF0sIHZlcnRpY2VzW2MgKiAzICsgMV0sIHZlcnRpY2VzW2MgKiAzICsgMl0pO1xyXG4gICAgICAgICAgICBtZXNoLmFkZFRyaWFuZ2xlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmVjdG9yQ2FjaGVbMF0sXHJcbiAgICAgICAgICAgICAgICB0aGlzLl92ZWN0b3JDYWNoZVsxXSxcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZlY3RvckNhY2hlWzJdLFxyXG4gICAgICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IEFtbW8uYnRCdmhUcmlhbmdsZU1lc2hTaGFwZShtZXNoLCB0cnVlLCB0cnVlKTtcclxuICAgICAgICBjb25zdCBsb2NhbEluZXJ0aWEgPSBuZXcgQW1tby5idFZlY3RvcjMoMCwgMCwgMCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJiSW5mbyA9IG5ldyBBbW1vLmJ0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mbygwLCBtb3Rpb25TdGF0ZSwgc2hhcGUsIGxvY2FsSW5lcnRpYSk7XHJcbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gbmV3IEFtbW8uYnRSaWdpZEJvZHkocmJJbmZvKTtcclxuICAgICAgICBvYmplY3Quc2V0UmVzdGl0dXRpb24oMSk7XHJcblxyXG4gICAgICAgIGlmIChob2xlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1pbkFBQkIgPSBuZXcgQW1tby5idFZlY3RvcjMoKTtcclxuICAgICAgICAgICAgY29uc3QgbWF4QUFCQiA9IG5ldyBBbW1vLmJ0VmVjdG9yMygpO1xyXG4gICAgICAgICAgICBvYmplY3QuZ2V0QWFiYihtaW5BQUJCLCBtYXhBQUJCKTtcclxuICAgICAgICAgICAgTGV2ZWxzLkFMTFsoaG9sZSBhcyBhbnkpIC0gMV0uaG9sZUFBQkIgPSBbXHJcbiAgICAgICAgICAgICAgICBbbWluQUFCQi54KCksIG1pbkFBQkIueSgpLCBtaW5BQUJCLnooKV0sXHJcbiAgICAgICAgICAgICAgICBbbWF4QUFCQi54KCksIG1heEFBQkIueSgpLCBtYXhBQUJCLnooKV0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9waHlzaWNzV29ybGQuYWRkUmlnaWRCb2R5KG9iamVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdlbmVyYXRlQ29udmV4Q29sbGlzaW9uKHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUsIHZlcnRpY2VzKSB7XHJcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gbmV3IEFtbW8uYnRUcmFuc2Zvcm0oKTtcclxuICAgICAgICB0cmFuc2Zvcm0uc2V0SWRlbnRpdHkoKTtcclxuICAgICAgICB0cmFuc2Zvcm0uc2V0T3JpZ2luKG5ldyBBbW1vLmJ0VmVjdG9yMyhwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKSk7XHJcbiAgICAgICAgdHJhbnNmb3JtLnNldFJvdGF0aW9uKG5ldyBBbW1vLmJ0UXVhdGVybmlvbihyb3RhdGlvblswXSwgcm90YXRpb25bMV0sIHJvdGF0aW9uWzJdLCByb3RhdGlvblszXSkpO1xyXG4gICAgICAgIGNvbnN0IG1vdGlvblN0YXRlID0gbmV3IEFtbW8uYnREZWZhdWx0TW90aW9uU3RhdGUodHJhbnNmb3JtKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgQW1tby5idENvbnZleEh1bGxTaGFwZSgpO1xyXG4gICAgICAgIHNoYXBlLnNldExvY2FsU2NhbGluZyhuZXcgQW1tby5idFZlY3RvcjMoc2NhbGVbMF0sIHNjYWxlWzFdLCBzY2FsZVsyXSkpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoIC8gMzsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlY3RvckNhY2hlWzBdLnNldFZhbHVlKHZlcnRpY2VzW2kgKiAzXSwgdmVydGljZXNbaSAqIDMgKyAxXSwgdmVydGljZXNbaSAqIDMgKyAyXSk7XHJcbiAgICAgICAgICAgIHNoYXBlLmFkZFBvaW50KHRoaXMuX3ZlY3RvckNhY2hlWzBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2hhcGUuc2V0TWFyZ2luKDApO1xyXG5cclxuICAgICAgICBjb25zdCBsb2NhbEluZXJ0aWEgPSBuZXcgQW1tby5idFZlY3RvcjMoMCwgMCwgMCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJiSW5mbyA9IG5ldyBBbW1vLmJ0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mbygwLCBtb3Rpb25TdGF0ZSwgc2hhcGUsIGxvY2FsSW5lcnRpYSk7XHJcbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gbmV3IEFtbW8uYnRSaWdpZEJvZHkocmJJbmZvKTtcclxuICAgICAgICBvYmplY3Quc2V0UmVzdGl0dXRpb24oMSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3BoeXNpY3NXb3JsZC5hZGRSaWdpZEJvZHkob2JqZWN0KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdlbmVyYXRlQmFsbENvbGxpc2lvbigpIHtcclxuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBuZXcgQW1tby5idFRyYW5zZm9ybSgpO1xyXG4gICAgICAgIHRyYW5zZm9ybS5zZXRJZGVudGl0eSgpO1xyXG4gICAgICAgIHRyYW5zZm9ybS5zZXRPcmlnaW4oXHJcbiAgICAgICAgICAgIG5ldyBBbW1vLmJ0VmVjdG9yMyhcclxuICAgICAgICAgICAgICAgIExldmVscy5BTExbTGV2ZWxzLkNVUlJFTlRdLnNwYXducG9pbnRbMF0sXHJcbiAgICAgICAgICAgICAgICBMZXZlbHMuQUxMW0xldmVscy5DVVJSRU5UXS5zcGF3bnBvaW50WzFdLFxyXG4gICAgICAgICAgICAgICAgTGV2ZWxzLkFMTFtMZXZlbHMuQ1VSUkVOVF0uc3Bhd25wb2ludFsyXVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0cmFuc2Zvcm0uc2V0Um90YXRpb24obmV3IEFtbW8uYnRRdWF0ZXJuaW9uKDAsIDAsIDAsIDEpKTtcclxuICAgICAgICBjb25zdCBtb3Rpb25TdGF0ZSA9IG5ldyBBbW1vLmJ0RGVmYXVsdE1vdGlvblN0YXRlKHRyYW5zZm9ybSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbFNoYXBlID0gbmV3IEFtbW8uYnRTcGhlcmVTaGFwZSgwLjA3MDIzNzg1MjYzMjk5OTQyKTtcclxuICAgICAgICBjb2xTaGFwZS5zZXRNYXJnaW4oMSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsSW5lcnRpYSA9IG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAwLCAwKTtcclxuICAgICAgICBjb2xTaGFwZS5jYWxjdWxhdGVMb2NhbEluZXJ0aWEoMC4wNDYsIGxvY2FsSW5lcnRpYSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJiSW5mbyA9IG5ldyBBbW1vLmJ0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mbygwLjA0NiwgbW90aW9uU3RhdGUsIGNvbFNoYXBlLCBsb2NhbEluZXJ0aWEpO1xyXG4gICAgICAgIHRoaXMuX3NwaGVyZSA9IG5ldyBBbW1vLmJ0UmlnaWRCb2R5KHJiSW5mbyk7XHJcbiAgICAgICAgdGhpcy5fc3BoZXJlLnNldENjZE1vdGlvblRocmVzaG9sZCgwLjA1KTtcclxuICAgICAgICB0aGlzLl9zcGhlcmUuc2V0Q2NkU3dlcHRTcGhlcmVSYWRpdXMoMC4wNik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fc3BoZXJlLnNldFJlc3RpdHV0aW9uKDAuNCk7XHJcbiAgICAgICAgdGhpcy5fc3BoZXJlLnNldERhbXBpbmcoMC41LCAwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLl9waHlzaWNzV29ybGQuYWRkUmlnaWRCb2R5KHRoaXMuX3NwaGVyZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwcmVwYXJlTGV2ZWwoKSB7XHJcbiAgICAgICAgVUkuZmxvdygnaG9sZScsICdIb2xlOiAnICsgKExldmVscy5DVVJSRU5UICsgMSkpO1xyXG4gICAgICAgIExldmVscy5TVFJPS0VTID0gMDtcclxuICAgICAgICBVSS5mbG93KCdzdHJva2VzJywgJ1N0cm9rZXM6ICcgKyBMZXZlbHMuU1RST0tFUyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBlcnNvbmFsQmVzdCA9ICtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmVzdCcpO1xyXG4gICAgICAgIGlmIChwZXJzb25hbEJlc3QpIHtcclxuICAgICAgICAgICAgVUkuZmxvdygncGVyc29uYWwtYmVzdCcsICdQZXJzb25hbCBCZXN0OiAnICsgcGVyc29uYWxCZXN0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVzZXRCYWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZXNldEJhbGwoKSB7XHJcbiAgICAgICAgY29udHJvbHMudGFyZ2V0ID0gTGV2ZWxzLkFMTFtMZXZlbHMuQ1VSUkVOVF0uc3Bhd25wb2ludDtcclxuICAgICAgICBjb250cm9scy5kaXJlY3Rpb24gPSBMZXZlbHMuQUxMW0xldmVscy5DVVJSRU5UXS5kaXJlY3Rpb247XHJcbiAgICAgICAgY29udHJvbHMucG9zaXRpb24gPSBbXHJcbiAgICAgICAgICAgIGNvbnRyb2xzLnRhcmdldFswXSAtIGNvbnRyb2xzLmRpcmVjdGlvblswXSxcclxuICAgICAgICAgICAgY29udHJvbHMudGFyZ2V0WzFdIC0gY29udHJvbHMuZGlyZWN0aW9uWzFdLFxyXG4gICAgICAgICAgICBjb250cm9scy50YXJnZXRbMl0gLSBjb250cm9scy5kaXJlY3Rpb25bMl1cclxuICAgICAgICBdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5ldyBBbW1vLmJ0VHJhbnNmb3JtKCk7XHJcbiAgICAgICAgdHJhbnNmb3JtLnNldElkZW50aXR5KCk7XHJcbiAgICAgICAgdHJhbnNmb3JtLnNldE9yaWdpbihcclxuICAgICAgICAgICAgbmV3IEFtbW8uYnRWZWN0b3IzKFxyXG4gICAgICAgICAgICAgICAgTGV2ZWxzLkFMTFtMZXZlbHMuQ1VSUkVOVF0uc3Bhd25wb2ludFswXSxcclxuICAgICAgICAgICAgICAgIExldmVscy5BTExbTGV2ZWxzLkNVUlJFTlRdLnNwYXducG9pbnRbMV0sXHJcbiAgICAgICAgICAgICAgICBMZXZlbHMuQUxMW0xldmVscy5DVVJSRU5UXS5zcGF3bnBvaW50WzJdXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgICAgIHRyYW5zZm9ybS5zZXRSb3RhdGlvbihuZXcgQW1tby5idFF1YXRlcm5pb24oMCwgMCwgMCwgMSkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX3NwaGVyZS5zZXRXb3JsZFRyYW5zZm9ybSh0cmFuc2Zvcm0pO1xyXG4gICAgICAgIHRoaXMuX3NwaGVyZS5nZXRNb3Rpb25TdGF0ZSgpLnNldFdvcmxkVHJhbnNmb3JtKHRyYW5zZm9ybSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3NwaGVyZS5zZXRMaW5lYXJWZWxvY2l0eShuZXcgQW1tby5idFZlY3RvcjMoMCwgMCwgMCkpO1xyXG4gICAgICAgIHRoaXMuX3NwaGVyZS5zZXRBbmd1bGFyVmVsb2NpdHkobmV3IEFtbW8uYnRWZWN0b3IzKDAsIDAsIDApKTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2NlbmUudXBkYXRlKGNvbnRyb2xzLnRhcmdldCwgWzAsIDAsIDAsIDFdKTtcclxuICAgICAgICBjb250cm9scy51cGRhdGUoKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9zdGF0ZSA9IFN0YXRlLlJFQURZO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNCYWxsSW5Ib2xlKCkge1xyXG4gICAgICAgIGNvbnN0IEFBQkIgPSBMZXZlbHMuQUxMW0xldmVscy5DVVJSRU5UXS5ob2xlQUFCQjtcclxuICAgICAgICByZXR1cm4gIChjb250cm9scy50YXJnZXRbMF0gPj0gQUFCQlswXVswXSAmJiBjb250cm9scy50YXJnZXRbMF0gPD0gQUFCQlsxXVswXSkgJiZcclxuICAgICAgICAgICAgICAgIChjb250cm9scy50YXJnZXRbMV0gPj0gQUFCQlswXVsxXSAmJiBjb250cm9scy50YXJnZXRbMV0gPD0gQUFCQlsxXVsxXSAtIDAuMTUpICYmXHJcbiAgICAgICAgICAgICAgICAoY29udHJvbHMudGFyZ2V0WzJdID49IEFBQkJbMF1bMl0gJiYgY29udHJvbHMudGFyZ2V0WzJdIDw9IEFBQkJbMV1bMl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVzaXplKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jYW52YXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5fY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgdGhpcy5fY2FudmFzLndpZHRoLCB0aGlzLl9jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgbWF0NC5wZXJzcGVjdGl2ZSh0aGlzLl9wTWF0cml4LCBnbE1hdHJpeC50b1JhZGlhbig0NSksIHRoaXMuX2NhbnZhcy53aWR0aCAvIHRoaXMuX2NhbnZhcy5oZWlnaHQsIDAuMSwgMTAwMC4wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBrZXlwcmVzcyhlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9zcGhlcmUuaXNBY3RpdmUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zcGhlcmUuYWN0aXZhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChlLmNvZGUgPT09ICdLZXlSJykge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QmFsbCgpO1xyXG4gICAgICAgICAgICBVSS5mbG93KCdzdHJva2VzJywgJ1N0cm9rZXM6ICcgKyArK0xldmVscy5TVFJPS0VTKTtcclxuICAgICAgICAgICAgVUkuZmxvdygnYWxsLXN0cm9rZXMnLCAnQWxsIFN0cm9rZXM6ICcgKyArK0xldmVscy5BTExfU1RST0tFUyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoKHdpbmRvdyBhcyBhbnkpLkRFQlVHKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmNvZGUgPT09ICdLZXlUJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3BoZXJlLnNldExpbmVhclZlbG9jaXR5KG5ldyBBbW1vLmJ0VmVjdG9yMyhjb250cm9scy5kaXJlY3Rpb25bMF0gKiA1LCAwLCBjb250cm9scy5kaXJlY3Rpb25bMl0gKiA1KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IFN0YXRlLk1PVklORztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChlLmNvZGUgPT09ICdLZXlaJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3BoZXJlLnNldExpbmVhclZlbG9jaXR5KG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAwLCAwKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGhlcmUuc2V0QW5ndWxhclZlbG9jaXR5KG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAwLCAwKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IFN0YXRlLlJFQURZO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUuY29kZSA9PT0gJ1NwYWNlJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3BoZXJlLnNldExpbmVhclZlbG9jaXR5KG5ldyBBbW1vLmJ0VmVjdG9yMygwLCA1LCAwKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IFN0YXRlLk1PVklORztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChlLmNvZGUgPT09ICdLZXlGJykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY29udHJvbHMudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbnRyb2xzLmRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb250cm9scy51cCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBrZXlkb3duKGUpIHtcclxuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IFN0YXRlLlJFQURZICYmIGUua2V5Q29kZSA9PT0gODMpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBTdGF0ZS5TSE9PVElORztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBrZXl1cChlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBTdGF0ZS5TSE9PVElORyAmJiBlLmtleUNvZGUgPT09IDgzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gU3RhdGUuTU9WSU5HO1xyXG4gICAgICAgICAgICB0aGlzLl9zcGhlcmUuc2V0TGluZWFyVmVsb2NpdHkoXHJcbiAgICAgICAgICAgICAgICBuZXcgQW1tby5idFZlY3RvcjMoXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbHMuZGlyZWN0aW9uWzBdICogKHRoaXMuX2N1cnJlbnRGb3JjZSAqIEVuZ2luZS5NQVhfRk9SQ0UpLFxyXG4gICAgICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbHMuZGlyZWN0aW9uWzJdICogKHRoaXMuX2N1cnJlbnRGb3JjZSAqIEVuZ2luZS5NQVhfRk9SQ0UpXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRGb3JjZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZvcmNlRGVsdGEgPSBNYXRoLmFicyh0aGlzLl9mb3JjZURlbHRhKTtcclxuICAgICAgICAgICAgVUkuZm9yY2UodGhpcy5fY3VycmVudEZvcmNlKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFVJLmZsb3coJ3N0cm9rZXMnLCAnU3Ryb2tlczogJyArICsrTGV2ZWxzLlNUUk9LRVMpO1xyXG4gICAgICAgICAgICBVSS5mbG93KCdhbGwtc3Ryb2tlcycsICdBbGwgU3Ryb2tlczogJyArICsrTGV2ZWxzLkFMTF9TVFJPS0VTKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb29wKHRpbWUpIHtcclxuICAgICAgICAvLyBDbGVhciB0aGUgY29sb3IgYnVmZmVyIG9mIHRoZSBzY3JlZW4sIG90aGVyd2lzZSB3ZSBkcmF3IGVhY2ggZnJhbWUgb24gdG9wIG9mIGVhY2ggb3RoZXIuXHJcbiAgICAgICAgZ2wuY2xlYXJDb2xvcigwLjM3LCAwLjk0LCAxLjAsIDEuMCk7XHJcbiAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IFN0YXRlLlNIT09USU5HKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRGb3JjZSArPSB0aGlzLl9mb3JjZURlbHRhO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEZvcmNlID49IDEgfHwgdGhpcy5fY3VycmVudEZvcmNlIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvcmNlRGVsdGEgPSAtdGhpcy5fZm9yY2VEZWx0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBVSS5mb3JjZSh0aGlzLl9jdXJyZW50Rm9yY2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3J1bm5pbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGh5c2ljc1dvcmxkLnN0ZXBTaW11bGF0aW9uKEVuZ2luZS5USU1FX1NURVAsIDIpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbW90aW9uU3RhdGUgPSB0aGlzLl9zcGhlcmUuZ2V0TW90aW9uU3RhdGUoKTtcclxuICAgICAgICAgICAgaWYgKG1vdGlvblN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBtb3Rpb25TdGF0ZS5nZXRXb3JsZFRyYW5zZm9ybSh0aGlzLl90cmFuc2Zvcm1DYWNoZVswXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuX3RyYW5zZm9ybUNhY2hlWzBdLmdldE9yaWdpbigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgcm90YXRpb24gPSB0aGlzLl90cmFuc2Zvcm1DYWNoZVswXS5nZXRSb3RhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgY29udHJvbHMudGFyZ2V0ID0gW3Bvc2l0aW9uLngoKSwgcG9zaXRpb24ueSgpLCBwb3NpdGlvbi56KCldO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2NlbmUudXBkYXRlKGNvbnRyb2xzLnRhcmdldCwgW3JvdGF0aW9uLngoKSwgcm90YXRpb24ueSgpLCByb3RhdGlvbi56KCksIHJvdGF0aW9uLncoKV0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb250cm9scy51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gU3RhdGUuTU9WSU5HKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0JhbGxJbkhvbGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gU3RhdGUuRklOSVNISU5HO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgrK0xldmVscy5DVVJSRU5UID49IExldmVscy5BTEwubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcnNvbmFsQmVzdCA9ICtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmVzdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBlcnNvbmFsQmVzdCB8fCAocGVyc29uYWxCZXN0ICYmIExldmVscy5BTExfU1RST0tFUyA8IHBlcnNvbmFsQmVzdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdiZXN0JywgU3RyaW5nKExldmVscy5BTExfU1RST0tFUykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBMZXZlbHMuQ1VSUkVOVCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExldmVscy5TVFJPS0VTID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTGV2ZWxzLkFMTF9TVFJPS0VTID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVUkuZmxvdygnc3Ryb2tlcycsICdTdHJva2VzOiAnICsgTGV2ZWxzLlNUUk9LRVMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBVSS5mbG93KCdhbGwtc3Ryb2tlcycsICdBbGwgU3Ryb2tlczogJyArIExldmVscy5BTExfU1RST0tFUyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlcGFyZUxldmVsKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3NwaGVyZS5nZXRMaW5lYXJWZWxvY2l0eSgpLmRvdCh0aGlzLl9zcGhlcmUuZ2V0QW5ndWxhclZlbG9jaXR5KCkpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBTdGF0ZS5SRUFEWTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChjb250cm9scy5wb3NpdGlvblswXSA+IC0yMTYpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xzLnBvc2l0aW9uWzBdIC09IDAuMDE7XHJcbiAgICAgICAgICAgICAgICBjb250cm9scy5wb3NpdGlvblsyXSAtPSAwLjAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtYXQ0Lmxvb2tBdCh0aGlzLl93TWF0cml4LCBjb250cm9scy5wb3NpdGlvbiwgY29udHJvbHMudGFyZ2V0LCBjb250cm9scy51cCk7XHJcblxyXG4gICAgICAgIHRoaXMuX3NjZW5lLmRyYXcodGhpcy5fcE1hdHJpeCwgdGhpcy5fd01hdHJpeCwgY29udHJvbHMucG9zaXRpb24pO1xyXG5cclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wKTtcclxuICAgIH1cclxufSIsIlxyXG5leHBvcnQgY2xhc3MgTGV2ZWxzIHtcclxuICAgIHN0YXRpYyBDVVJSRU5UID0gMDtcclxuICAgIHN0YXRpYyBTVFJPS0VTID0gMDtcclxuICAgIHN0YXRpYyBBTExfU1RST0tFUyA9IDA7XHJcbiAgICBzdGF0aWMgQUxMID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3Bhd25wb2ludDogWy0xLjM3NzE4LCAwLjEyNDg5NywgMC4yMTk3Nl0sXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbjogWzAsIC0wLjMsIC0xXSxcclxuICAgICAgICAgICAgaG9sZUFBQkI6IFtcclxuICAgICAgICAgICAgICAgIFswLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIFswLCAwLCAwXSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3Bhd25wb2ludDogWy0xOS4wMTE3LCAwLjA4Nzg3NSwgMC4yMTk3Nl0sXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbjogWzAsIC0wLjMsIC0xXSxcclxuICAgICAgICAgICAgaG9sZUFBQkI6IFtcclxuICAgICAgICAgICAgICAgIFswLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIFswLCAwLCAwXSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3Bhd25wb2ludDogWy0yOS40ODA0LCAwLjEyNDA3MiwgMC4yMTk3Nl0sXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbjogWzAsIC0wLjMsIC0xXSxcclxuICAgICAgICAgICAgaG9sZUFBQkI6IFtcclxuICAgICAgICAgICAgICAgIFswLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIFswLCAwLCAwXSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3Bhd25wb2ludDogWy0zNi43NDc2LCAwLjExNjI4MSwgLTI1LjU4ODZdLFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246IFswLCAtMC4zLCAxXSxcclxuICAgICAgICAgICAgaG9sZUFBQkI6IFtcclxuICAgICAgICAgICAgICAgIFswLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIFswLCAwLCAwXSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3Bhd25wb2ludDogWy02My4zMDAzLCAxMy43Mjc2LCAtMzQuNTY1XSxcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiBbMCwgLTAuMywgMV0sXHJcbiAgICAgICAgICAgIGhvbGVBQUJCOiBbXHJcbiAgICAgICAgICAgICAgICBbMCwgMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBbMCwgMCwgMF0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxufSIsImltcG9ydCAnLi4vc3R5bGVzL3N0eWxlcy5zY3NzJztcclxuXHJcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4vZW5naW5lL0VuZ2luZSc7XHJcbmltcG9ydCB7IFVJIH0gZnJvbSAnLi9lbmdpbmUvdXRpbHMvVUknO1xyXG5cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXNcclxuY29uc3QgQW1tbyA9IHJlcXVpcmUoJ2FtbW8uanMnKTtcclxuXHJcbih3aW5kb3cgYXMgYW55KS5ERUJVRyA9IGZhbHNlO1xyXG5cclxud2luZG93Lm9ubG9hZCA9IGFzeW5jICgpID0+IHtcclxuICAgIFVJLmZsb3coJ2xvYWRpbmcnLCAnQ2FudmFzJyk7XHJcbiAgICBjb25zdCBlbmdpbmUgPSBuZXcgRW5naW5lKCdnYW1lJyk7XHJcbiAgICBVSS5pbml0aWFsaXplKGVuZ2luZSk7XHJcbiAgICBVSS5mbG93KCdsb2FkaW5nJywgJ1BoeXNpY3MgRW5naW5lJyk7XHJcbiAgICBBbW1vKCkudGhlbigoQW1tbykgPT4ge1xyXG4gICAgICAgIGVuZ2luZS5zdGFydChBbW1vKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuY29uc29sZS5sb2coJ1dlbGNvbWUgdG8gTWluaSBHb2xmIScpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9